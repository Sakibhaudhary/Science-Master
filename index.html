<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Science Master</title>
   <link rel="canonical" href="https://bytezo.in/page-url" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
        <link rel="canonical" href="https://bytezo.in/" />
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5477749334694815"
     crossorigin="anonymous"></script>
    <!-- SEO KEYWORDS START -->
<meta name="keywords" content="
science calculator,
maths calculator,
online calculator,
formula calculator,
physics formulas,
chemistry formulas,
maths formulas,
scientific calculator online,
free calculator for students,
all formulas in one website,
online science calculator
">
<!-- SEO KEYWORDS END -->

    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-HYF5Y7Q6EJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-HYF5Y7Q6EJ');
</script>


<meta name="description" content="Science Master is a free Physics and Chemistry learning platform with formulas, calculators, periodic table and chemistry tools." />

<meta name="robots" content="index, follow">

    <!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
<!-- this line AFTER the existing Firebase scripts in the head section -->
<script src="https:a//www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
<head>
    <!-- META TAGS -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>.</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="shortcut icon" href="Science-master.png" type="image/x-icon">
    <!--  FIREBASE SCRIPTS HERE -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    
    <style>
        /* User Auth Section Styles - ADD THIS TO CSS */
.user-auth-section {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
}

.user-info {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    color: white;
    font-size: var(--font-sm);
}

.auth-buttons {
    display: flex;
    gap: var(--spacing-sm);
}

.auth-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 2000;
    opacity: 0;
    visibility: hidden;
    transition: opacity var(--transition-normal), visibility var(--transition-normal);
}

.auth-modal.active {
    opacity: 1;
    visibility: visible;
}

.auth-modal-content {
    background-color: white;
    border-radius: var(--border-radius-lg);
    width: 90%;
    max-width: 400px;
    padding: var(--spacing-xl);
    box-shadow: var(--shadow-lg);
    transform: translateY(-20px);
    transition: transform var(--transition-normal);
}

.auth-modal.active .auth-modal-content {
    transform: translateY(0);
}
/* Prevent clicking outside modal to close it */
.auth-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.85); /* Darker background */
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999; /* Highest z-index */
    opacity: 0;
    visibility: hidden;
    transition: opacity var(--transition-normal), visibility var(--transition-normal);
    pointer-events: all;
}

.auth-modal.active {
    opacity: 1;
    visibility: visible;
}

/* Remove the click-to-close functionality from modal background */
.auth-modal::before {
    display: none;
}

/* Disable main content when modal is active */
body.auth-modal-active .main-content,
body.auth-modal-active .sidebar,
body.auth-modal-active .header,
body.auth-modal-active .footer {
    filter: blur(3px);
    pointer-events: none;
    user-select: none;
}

/* Cancel button styling */
.auth-modal .btn-outline {
    margin-top: var(--spacing-md);
}
.auth-tabs {
    display: flex;
    border-bottom: 2px solid var(--border-color);
    margin-bottom: var(--spacing-lg);
}

.auth-tab {
    flex: 1;
    padding: var(--spacing-md);
    text-align: center;
    cursor: pointer;
    font-weight: 600;
    border-bottom: 3px solid transparent;
    transition: all var(--transition-fast);
}

.auth-tab:hover {
    color: var(--primary-color);
}

.auth-tab.active {
    color: var(--primary-color);
    border-bottom-color: var(--primary-color);
}

.auth-form {
    display: none;
}

.auth-form.active {
    display: block;
    animation: fadeIn 0.5s ease;
}

.auth-form h3 {
    margin-bottom: var(--spacing-lg);
    text-align: center;
}

.auth-form .input-group {
    margin-bottom: var(--spacing-md);
}

.auth-form .input-label {
    display: block;
    margin-bottom: var(--spacing-xs);
    font-weight: 600;
}

.auth-form .input-field {
    width: 100%;
    padding: 0.8rem;
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius-md);
    font-size: var(--font-md);
}

.auth-error {
    color: var(--danger-color);
    font-size: var(--font-sm);
    margin-top: var(--spacing-sm);
    display: none;
}

.auth-error.active {
    display: block;
}

.auth-success {
    color: var(--success-color);
    font-size: var(--font-sm);
    margin-top: var(--spacing-sm);
    display: none;
}

.auth-success.active {
    display: block;
}

/* Mobile responsiveness for auth section */
@media (max-width: 768px) {
    .user-auth-section {
        display: none;
    }
    
    .mobile-auth-btn {
        display: block;
    }
}
        /* CSS Variables for Theming */
        :root {
            /* Primary Colors */
            --physics-color: #ff9f1c;
            --chemistry-color: #2ec4b6;
            --periodic-table-color: #9d4edd;
            
            /* UI Colors */
            --primary-color: #4361ee;
            --secondary-color: #7209b7;
            --accent-color: #f72585;
            --success-color: #4cc9f0;
            --warning-color: #f8961e;
            --danger-color: #f94144;
            
            /* Neutral Colors */
            --dark-color: #212529;
            --light-color: #f8f9fa;
            --gray-color: #6c757d;
            --border-color: #dee2e6;
            
            /* Spacing */
            --spacing-xs: 0.25rem;
            --spacing-sm: 0.5rem;
            --spacing-md: 1rem;
            --spacing-lg: 1.5rem;
            --spacing-xl: 2rem;
            --spacing-xxl: 3rem;
            
            /* Border Radius */
            --border-radius-sm: 0.25rem;
            --border-radius-md: 0.5rem;
            --border-radius-lg: 1rem;
            
            /* Shadows */
            --shadow-sm: 0 2px 4px rgba(0,0,0,0.1);
            --shadow-md: 0 4px 8px rgba(0,0,0,0.15);
            --shadow-lg: 0 8px 16px rgba(0,0,0,0.2);
            
            /* Transitions */
            --transition-fast: 0.2s ease;
            --transition-normal: 0.3s ease;
            --transition-slow: 0.5s ease;
            
            /* Font Sizes */
            --font-xs: 0.75rem;
            --font-sm: 0.875rem;
            --font-md: 1rem;
            --font-lg: 1.25rem;
            --font-xl: 1.5rem;
            --font-xxl: 2rem;
        }
        
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--dark-color);
            background-color: #f5f7ff;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 var(--spacing-md);
        }
        
        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            font-weight: 700;
            line-height: 1.2;
            margin-bottom: var(--spacing-md);
        }
        
        h1 {
            font-size: var(--font-xxl);
        }
        
        h2 {
            font-size: var(--font-xl);
        }
        
        h3 {
            font-size: var(--font-lg);
        }
        
        p {
            margin-bottom: var(--spacing-md);
        }
        
        a {
            color: var(--primary-color);
            text-decoration: none;
            transition: color var(--transition-fast);
        }
        
        a:hover {
            color: var(--secondary-color);
        }
        
        /* Utility Classes */
        .hidden {
            display: none !important;
        }
        
        .text-center {
            text-align: center;
        }
        
        .text-right {
            text-align: right;
        }
        
        .text-left {
            text-align: left;
        }
        
        .flex {
            display: flex;
        }
        
        .flex-column {
            flex-direction: column;
        }
        
        .flex-row {
            flex-direction: row;
        }
        
        .justify-center {
            justify-content: center;
        }
        
        .justify-between {
            justify-content: space-between;
        }
        
        .align-center {
            align-items: center;
        }
        
        .wrap {
            flex-wrap: wrap;
        }
        
        .gap-sm {
            gap: var(--spacing-sm);
        }
        
        .gap-md {
            gap: var(--spacing-md);
        }
        
        .gap-lg {
            gap: var(--spacing-lg);
        }
        
        .gap-xl {
            gap: var(--spacing-xl);
        }
        
        .mb-sm {
            margin-bottom: var(--spacing-sm);
        }
        
        .mb-md {
            margin-bottom: var(--spacing-md);
        }
        
        .mb-lg {
            margin-bottom: var(--spacing-lg);
        }
        
        .mb-xl {
            margin-bottom: var(--spacing-xl);
        }
        
        .mt-sm {
            margin-top: var(--spacing-sm);
        }
        
        .mt-md {
            margin-top: var(--spacing-md);
        }
        
        .mt-lg {
            margin-top: var(--spacing-lg);
        }
        
        .mt-xl {
            margin-top: var(--spacing-xl);
        }
        
        .p-sm {
            padding: var(--spacing-sm);
        }
        
        .p-md {
            padding: var(--spacing-md);
        }
        
        .p-lg {
            padding: var(--spacing-lg);
        }
        
        .p-xl {
            padding: var(--spacing-xl);
        }
        
        .card {
            background-color: white;
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow-md);
            overflow: hidden;
            transition: transform var(--transition-normal), box-shadow var(--transition-normal);
        }
        
        .card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--spacing-sm);
            padding: 0.6rem 1.2rem;
            border: none;
            border-radius: var(--border-radius-md);
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-fast);
            text-align: center;
        }
        
        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #3a56d4;
        }
        
        .btn-secondary {
            background-color: var(--secondary-color);
            color: white;
        }
        
        .btn-secondary:hover {
            background-color: #6508a5;
        }
        
        .btn-success {
            background-color: var(--success-color);
            color: white;
        }
        
        .btn-success:hover {
            background-color: #3db0d9;
        }
        
        .btn-warning {
            background-color: var(--warning-color);
            color: white;
        }
        
        .btn-warning:hover {
            background-color: #df851a;
        }
        
        .btn-danger {
            background-color: var(--danger-color);
            color: white;
        }
        
        .btn-danger:hover {
            background-color: #d82c2e;
        }
        
        .btn-outline {
            background-color: transparent;
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
        }
        
        .btn-outline:hover {
            background-color: var(--primary-color);
            color: white;
        }
        
        .btn-sm {
            padding: 0.4rem 0.8rem;
            font-size: var(--font-sm);
        }
        
        .btn-lg {
            padding: 0.8rem 1.6rem;
            font-size: var(--font-lg);
        }
        
        .btn-block {
            width: 100%;
        }
        
        .badge {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            font-size: var(--font-xs);
            font-weight: 600;
            border-radius: var(--border-radius-sm);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .badge-physics {
            background-color: var(--physics-color);
            color: white;
        }
        
        .badge-chemistry {
            background-color: var(--chemistry-color);
            color: white;
        }
        
        .badge-periodic {
            background-color: var(--periodic-table-color);
            color: white;
        }
        
        /* Header Styles */
        .header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: var(--spacing-md) 0;
            box-shadow: var(--shadow-md);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
        }
        
        .logo-icon {
            font-size: var(--font-xxl);
        }
        
        .logo-text {
            font-size: var(--font-xl);
            font-weight: 800;
        }
        
        .logo-subtitle {
            font-size: var(--font-sm);
            opacity: 0.9;
            font-weight: 400;
        }
        
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: var(--font-xl);
            cursor: pointer;
        }
        
               
        /* Main Layout */
        .main-content {
            display: flex;
            min-height: calc(100vh - 80px);
        }
        /* ============================================ */
/* FILTER SEARCH BOX STYLES */
/* ============================================ */
.filter-search-container {
    padding: 0 var(--spacing-lg) var(--spacing-lg);
    margin-bottom: var(--spacing-lg);
}

.filter-search-box {
    width: 100%;
    padding: 0.8rem 1rem 0.8rem 3rem;
    border: 2px solid var(--border-color);
    border-radius: var(--border-radius-lg);
    background-color: white;
    color: var(--dark-color);
    font-size: var(--font-md);
    transition: all var(--transition-fast);
    box-shadow: var(--shadow-sm);
}

.filter-search-box:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
}

.filter-search-icon {
    position: absolute;
    left: 1.5rem;
    top: 50%;
    transform: translateY(-50%);
    color: var(--gray-color);
    font-size: 1rem;
}

.filter-search-clear {
    position: absolute;
    right: 1rem;
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    color: var(--gray-color);
    cursor: pointer;
    font-size: 1rem;
    display: none;
}

.filter-search-clear:hover {
    color: var(--danger-color);
}

.filter-search-box:not(:placeholder-shown) + .filter-search-clear {
    display: block;
}

.filter-search-count {
    font-size: 0.8rem;
    color: var(--gray-color);
    margin-top: 5px;
    text-align: center;
    padding: 5px;
}

.filter-search-no-results {
    text-align: center;
    padding: var(--spacing-xl);
    color: var(--gray-color);
    background-color: #f8f9fa;
    border-radius: var(--border-radius-md);
    margin: var(--spacing-lg) 0;
}

.filter-search-no-results i {
    font-size: 2.5rem;
    margin-bottom: var(--spacing-md);
    opacity: 0.5;
}

/* Formula card hiding animation */
.formula-card {
    transition: all 0.3s ease;
}

.formula-card.hidden-by-search {
    display: none !important;
}

.formula-card.highlighted-search-match {
    border: 2px solid var(--primary-color) !important;
    box-shadow: 0 0 20px rgba(67, 97, 238, 0.2) !important;
    animation: searchHighlight 1s ease;
}

@keyframes searchHighlight {
    0% { transform: scale(1); }
    50% { transform: scale(1.02); }
    100% { transform: scale(1); }
}
        /* Sidebar */
        .sidebar {
            width: 280px;
            background-color: white;
            border-right: 1px solid var(--border-color);
            padding: var(--spacing-lg) 0;
            overflow-y: auto;
            transition: transform var(--transition-normal);
            z-index: 900;
        }
        
        .sidebar-header {
            padding: 0 var(--spacing-lg) var(--spacing-lg);
            border-bottom: 1px solid var(--border-color);
            margin-bottom: var(--spacing-lg);
        }
        
        .sidebar-title {
            font-size: var(--font-lg);
            color: var(--dark-color);
        }
        
        .nav-section {
            margin-bottom: var(--spacing-xl);
        }
        
        .nav-section-title {
            font-size: var(--font-md);
            font-weight: 600;
            color: var(--dark-color);
            padding: 0 var(--spacing-lg);
            margin-bottom: var(--spacing-sm);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .nav-section-toggle {
            background: none;
            border: none;
            color: var(--gray-color);
            cursor: pointer;
            transition: transform var(--transition-fast);
        }
        
        .nav-section-toggle.rotated {
            transform: rotate(180deg);
        }
        
        .nav-list {
            list-style: none;
        }
        
        .nav-item {
            margin-bottom: 2px;
        }
        
        .nav-link {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            padding: 0.8rem var(--spacing-lg);
            color: var(--dark-color);
            font-weight: 500;
            transition: all var(--transition-fast);
            border-left: 4px solid transparent;
        }
        
        .nav-link:hover {
            background-color: #f8f9fa;
            color: var(--primary-color);
        }
        
        .nav-link.active {
            background-color: rgba(67, 97, 238, 0.1);
            color: var(--primary-color);
            border-left-color: var(--primary-color);
        }
        
        .nav-icon {
            width: 20px;
            text-align: center;
        }
        
        /* Content Area */
        .content-area {
            flex: 1;
            padding: var(--spacing-lg);
            overflow-y: auto;
        }
        
        .content-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-xl);
            flex-wrap: wrap;
            gap: var(--spacing-md);
        }
        
        .content-title {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
        }
        
        .content-title-icon {
            font-size: var(--font-xl);
        }
        
        .content-actions {
            display: flex;
            gap: var(--spacing-sm);
        }
        
        /* Tabs */
        .tabs {
            display: flex;
            border-bottom: 2px solid var(--border-color);
            margin-bottom: var(--spacing-xl);
            flex-wrap: wrap;
        }
        
        .tab {
            padding: var(--spacing-md) var(--spacing-xl);
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-fast);
            border-bottom: 3px solid transparent;
            margin-bottom: -2px;
        }
        
        .tab:hover {
            color: var(--primary-color);
        }
        
        .tab.active {
            color: var(--primary-color);
            border-bottom-color: var(--primary-color);
        }
        
        /* Tab Content */
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* Formulas Section */
        .formulas-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: var(--spacing-lg);
        }
        
        .formula-card {
            padding: var(--spacing-lg);
        }
        
        .formula-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: var(--spacing-md);
        }
        
        .formula-title {
            font-size: var(--font-lg);
            color: var(--dark-color);
            margin-bottom: var(--spacing-sm);
        }
        
        .formula-equation {
            font-family: 'Cambria Math', 'Times New Roman', serif;
            font-size: var(--font-xl);
            text-align: center;
            margin: var(--spacing-lg) 0;
            padding: var(--spacing-md);
            background-color: #f8f9fa;
            border-radius: var(--border-radius-md);
        }
        
        .formula-description {
            color: var(--gray-color);
            margin-bottom: var(--spacing-lg);
            font-size: var(--font-sm);
        }
        
        .formula-variables {
            margin-bottom: var(--spacing-lg);
        }
        
        .variable-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: var(--spacing-sm);
            padding-bottom: var(--spacing-sm);
            border-bottom: 1px dashed var(--border-color);
        }
        
        .variable-symbol {
            font-weight: 600;
            font-family: 'Cambria Math', 'Times New Roman', serif;
        }
        
        .variable-description {
            color: var(--gray-color);
            font-size: var(--font-sm);
            text-align: right;
        }
        
        .formula-inputs {
            margin-bottom: var(--spacing-lg);
        }
        
        .input-group {
            margin-bottom: var(--spacing-md);
        }
        
        .input-label {
            display: block;
            margin-bottom: var(--spacing-xs);
            font-weight: 600;
        }
        
        .input-field {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius-md);
            font-size: var(--font-md);
            transition: all var(--transition-fast);
        }
        
        .input-field:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
        }
        
        .input-with-unit {
            position: relative;
        }
        
        .input-unit {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray-color);
            font-weight: 500;
        }
        
        .formula-result {
            margin-top: var(--spacing-lg);
            padding: var(--spacing-lg);
            background-color: #e7f5ff;
            border-radius: var(--border-radius-md);
            text-align: center;
            font-size: var(--font-lg);
            font-weight: 600;
            color: var(--primary-color);
            display: none;
        }
        
        .formula-result.active {
            display: block;
            animation: slideUp 0.3s ease;
        }
        
        @keyframes slideUp {
            from { 
                opacity: 0;
                transform: translateY(10px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .formula-actions {
            display: flex;
            gap: var(--spacing-sm);
            margin-top: var(--spacing-lg);
        }
        
        /* Add this to your CSS section (around line 700) */

/* Periodic Table Improvements */
.periodic-table {
    display: grid;
    grid-template-columns: repeat(18, 1fr);
    grid-template-rows: repeat(9, 1fr);
    gap: 4px;
    min-width: 1200px;
    margin: 0 auto;
    padding: 10px;
    background-color: #f8f9fa;
    border-radius: var(--border-radius-lg);
}

.element {
    aspect-ratio: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 4px;
    border-radius: var(--border-radius-sm);
    cursor: pointer;
    transition: all var(--transition-fast);
    font-weight: 600;
    color: rgba(0, 0, 0, 0.8);
    box-shadow: var(--shadow-sm);
    user-select: none;
    min-height: 60px;
    min-width: 60px;
    position: relative;
}

.element:hover {
    transform: scale(1.05);
    box-shadow: var(--shadow-md);
    z-index: 10;
}

.element-number {
    font-size: 0.65rem;
    align-self: flex-start;
    line-height: 1;
    position: absolute;
    top: 2px;
    left: 4px;
    font-weight: 700;
}

.element-symbol {
    font-size: 1.3rem;
    font-weight: 800;
    line-height: 1;
    margin: 2px 0;
    text-align: center;
}

.element-name {
    font-size: 0.55rem;
    text-align: center;
    line-height: 1;
    position: absolute;
    bottom: 2px;
    width: 100%;
}

/* Special rows for Lanthanides and Actinides */
.lanthanides-row, .actinides-row {
    grid-column: 3 / span 16;
    display: flex;
    justify-content: center;
    gap: 4px;
    margin: 5px 0;
}

.lanthanides-label, .actinides-label {
    grid-column: 1 / span 2;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.7rem;
    font-weight: bold;
    color: var(--dark-color);
    writing-mode: vertical-rl;
    text-orientation: mixed;
    transform: rotate(180deg);
}

/* Empty cells for spacing */
.empty {
    background-color: transparent;
    box-shadow: none;
    cursor: default;
}

.empty:hover {
    transform: none;
    box-shadow: none;
}

/* Element category colors - Updated for better visibility */
.alkali-metal { 
    background-color: #ff6b6b; 
    color: white;
}
.alkaline-earth-metal { 
    background-color: #ffd166; 
}
.transition-metal { 
    background-color: #06d6a0; 
}
.basic-metal { 
    background-color: #118ab2; 
    color: white;
}
.metalloid { 
    background-color: #073b4c; 
    color: white;
}
.nonmetal { 
    background-color: #7209b7; 
    color: white;
}
.halogen { 
    background-color: #9d4edd; 
    color: white;
}
.noble-gas { 
    background-color: #4cc9f0; 
}
.lanthanide { 
    background-color: #ff9e75; 
}
.actinide { 
    background-color: #ffb4a2; 
}
        /* Element Categories */
        .alkali-metal { background-color: #ff9f1c; }
        .alkaline-earth-metal { background-color: #ffd166; }
        .transition-metal { background-color: #06d6a0; }
        .basic-metal { background-color: #118ab2; }
        .metalloid { background-color: #073b4c; color: white; }
        .nonmetal { background-color: #ef476f; color: white; }
        .halogen { background-color: #9d4edd; color: white; }
        .noble-gas { background-color: #4cc9f0; }
        .lanthanide { background-color: #ff9e75; }
        .actinide { background-color: #ffb4a2; }
        
        /* Element Details Panel */
        .element-details-panel {
            position: fixed;
            top: 0;
            right: -450px;
            width: 450px;
            height: 100%;
            background-color: white;
            box-shadow: var(--shadow-lg);
            z-index: 1001;
            transition: right var(--transition-normal);
            overflow-y: auto;
            padding: var(--spacing-xl);
        }
        
        .element-details-panel.active {
            right: 0;
        }
        
        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-xl);
            padding-bottom: var(--spacing-md);
            border-bottom: 2px solid var(--border-color);
        }
        
        .panel-close {
            background: none;
            border: none;
            font-size: var(--font-xl);
            cursor: pointer;
            color: var(--gray-color);
            transition: color var(--transition-fast);
        }
        
        .panel-close:hover {
            color: var(--danger-color);
        }
        
        .element-details-header {
            display: flex;
            align-items: center;
            gap: var(--spacing-lg);
            margin-bottom: var(--spacing-xl);
        }
        
        .element-details-symbol {
            font-size: 4rem;
            font-weight: 800;
            line-height: 1;
        }
        
        .element-details-info {
            flex: 1;
        }
        
        .element-details-name {
            font-size: var(--font-xl);
            font-weight: 700;
            margin-bottom: var(--spacing-xs);
        }
        
        .element-details-category {
            font-size: var(--font-sm);
            padding: 0.25rem 0.5rem;
            border-radius: var(--border-radius-sm);
            display: inline-block;
            margin-bottom: var(--spacing-sm);
            color: white;
        }
        
        .element-properties {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--spacing-md);
        }
        
        .property-item {
            margin-bottom: var(--spacing-md);
        }
        
        .property-label {
            font-size: var(--font-sm);
            color: var(--gray-color);
            margin-bottom: var(--spacing-xs);
        }
        
        .property-value {
            font-weight: 600;
            font-size: var(--font-md);
        }
        
        /* Chemical Groups Section */
        .chemical-groups-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: var(--spacing-lg);
        }
        
        .group-card {
            padding: var(--spacing-lg);
        }
        
        .group-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: var(--spacing-md);
        }
        
        .group-title {
            font-size: var(--font-lg);
            color: var(--dark-color);
            margin-bottom: var(--spacing-sm);
        }
        
        .group-color {
            width: 30px;
            height: 30px;
            border-radius: 50%;
        }
        
        .group-description {
            color: var(--gray-color);
            margin-bottom: var(--spacing-lg);
        }
        
        .group-elements {
            margin-bottom: var(--spacing-lg);
        }
        
        .group-elements-title {
            font-weight: 600;
            margin-bottom: var(--spacing-sm);
        }
        
        .elements-list {
            display: flex;
            flex-wrap: wrap;
            gap: var(--spacing-sm);
        }
        
        .element-chip {
            padding: 0.25rem 0.5rem;
            background-color: #f8f9fa;
            border-radius: var(--border-radius-sm);
            font-size: var(--font-sm);
            cursor: pointer;
            transition: all var(--transition-fast);
        }
        
        .element-chip:hover {
            background-color: #e9ecef;
            transform: translateY(-2px);
        }
        
        .group-properties ul {
            padding-left: 1.5rem;
            margin-bottom: var(--spacing-md);
        }
        
        .group-properties li {
            margin-bottom: var(--spacing-xs);
        }
        
       /* responsive styles section (around line 1000) */
@media (max-width: 1200px) {
    .periodic-table {
        min-width: 100%;
        grid-template-columns: repeat(18, minmax(40px, 1fr));
    }
    
    .element {
        min-height: 50px;
        min-width: 40px;
    }
    
    .element-symbol {
        font-size: 1rem;
    }
    
    .element-name {
        font-size: 0.5rem;
    }
    
    .lanthanides-row, .actinides-row {
        grid-column: 1 / span 18;
        overflow-x: auto;
        padding: 5px 0;
    }
    
    .lanthanides-label, .actinides-label {
        font-size: 0.6rem;
    }
}

@media (max-width: 768px) {
    .periodic-table {
        grid-template-columns: repeat(18, minmax(35px, 1fr));
        gap: 2px;
    }
    
    .element {
        min-height: 45px;
        min-width: 35px;
        padding: 2px;
    }
    
    .element-number {
        font-size: 0.55rem;
        top: 1px;
        left: 2px;
    }
    
    .element-symbol {
        font-size: 0.9rem;
    }
    
    .element-name {
        font-size: 0.45rem;
        bottom: 1px;
    }
    
    .lanthanides-row .element,
    .actinides-row .element {
        min-width: 40px;
        min-height: 40px;
    }
} 
        /* Loading Spinner */
        .loading-spinner {
            display: inline-block;
            width: 40px;
            height: 40px;
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top-color: var(--primary-color);
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Footer */
        .footer {
            background-color: var(--dark-color);
            color: white;
            padding: var(--spacing-xl) 0;
            margin-top: var(--spacing-xl);
        }
        
        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: var(--spacing-lg);
        }
        
        .footer-links {
            display: flex;
            gap: var(--spacing-lg);
        }
        
        .footer-link {
            color: rgba(255, 255, 255, 0.8);
            transition: color var(--transition-fast);
        }
        
        .footer-link:hover {
            color: white;
        }
        
        .copyright {
            color: rgba(255, 255, 255, 0.6);
            font-size: var(--font-sm);
        }
        
        /* Empty State */
        .empty-state {
            text-align: center;
            padding: var(--spacing-xxl) var(--spacing-xl);
        }
        
        .empty-state-icon {
            font-size: 4rem;
            color: var(--gray-color);
            margin-bottom: var(--spacing-lg);
            opacity: 0.5;
        }
        
        .empty-state-title {
            font-size: var(--font-xl);
            margin-bottom: var(--spacing-md);
            color: var(--gray-color);
        }
        
        .empty-state-description {
            color: var(--gray-color);
            max-width: 500px;
            margin: 0 auto;
        }
        /* ============================================ */

    </style>
</head>
<body>
    <!-- Header -->
<header class="header">
    <div class="container">
        <div class="header-content">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-atom"></i>
                </div>
                <div>
                    <div class="logo-text">Science Master</div>
                    <div class="logo-subtitle">Physics & Chemistry Learning Platform</div>
                </div>
            </div>

            
            <!--  THIS IS USER AUTH SECTION -->
            <div class="user-auth-section" id="userAuthSection">
                <div class="user-info hidden" id="userInfo">
                    <span id="userEmail"></span>
                    <button class="btn btn-sm btn-outline" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i>
                        Logout
                    </button>
                </div>
                <div class="auth-buttons" id="authButtons">
                    <button class="btn btn-primary btn-sm" id="signUpBtn">
                        <i class="fas fa-user-plus"></i>
                        Sign Up / Login
                    </button>
                </div>
            </div>
            
            <button id="mobileMenuBtn" class="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </div>
</header>
</div>
    <!-- Main Content -->
    <div class="main-content">
       <!-- Sidebar -->
<nav class="sidebar" id="sidebar">
    <div class="sidebar-header">
        <h3 class="sidebar-title">Navigation</h3>
    </div>
    
    <!-- FILTER SEARCH BOX -->
    <div class="filter-search-container">
        <div style="position: relative;">
            <i class="fas fa-search filter-search-icon"></i>
            <input 
                type="text" 
                id="filterSearchInput" 
                class="filter-search-box" 
                placeholder="Type to filter formulas..."
                autocomplete="off"
                aria-label="Filter formulas"
            >
            <button class="filter-search-clear" id="filterSearchClear" title="Clear search">
                <i class="fas fa-times"></i>
            </button>
            <div class="filter-search-count" id="filterSearchCount">
                Showing all formulas
            </div>
        </div>
    </div>
    
    <!-- Rest of your sidebar content... -->
            <div class="nav-section">
                <div class="nav-section-title">
                    Main Sections
                    <button class="nav-section-toggle">
                        <i class="fas fa-chevron-down"></i>
                    </button>
                </div>
                <ul class="nav-list">
                    <li class="nav-item">
                        <a href="#formulas" class="nav-link active" data-tab="formulas">
                            <div class="nav-icon"><i class="fas fa-calculator"></i></div>
                            <span>Formulas & Calculators</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#periodic-table" class="nav-link" data-tab="periodic-table">
                            <div class="nav-icon"><i class="fas fa-table"></i></div>
                            <span>Periodic Table</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#chemical-groups" class="nav-link" data-tab="chemical-groups">
                            <div class="nav-icon"><i class="fas fa-flask"></i></div>
                            <span>Chemical Groups</span>
                        </a>
                    </li>
                </ul>
            </div>
            
            <div class="nav-section">
                <div class="nav-section-title">
                    Physics Formulas
                    <button class="nav-section-toggle">
                        <i class="fas fa-chevron-down"></i>
                    </button>
                </div>
                <ul class="nav-list">
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-category="motion">
                            <div class="nav-icon"><i class="fas fa-running"></i></div>
                            <span>Motion & Kinematics</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-category="dynamics">
                            <div class="nav-icon"><i class="fas fa-weight-hanging"></i></div>
                            <span>Dynamics & Force</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-category="energy">
                            <div class="nav-icon"><i class="fas fa-bolt"></i></div>
                            <span>Work, Energy & Power</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-category="electricity">
                            <div class="nav-icon"><i class="fas fa-bolt"></i></div>
                            <span>Electricity & Magnetism</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-category="waves">
                            <div class="nav-icon"><i class="fas fa-wave-square"></i></div>
                            <span>Waves & Optics</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-category="thermodynamics">
                            <div class="nav-icon"><i class="fas fa-thermometer-half"></i></div>
                            <span>Thermodynamics</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-category="modern-physics">
                            <div class="nav-icon"><i class="fas fa-atom"></i></div>
                            <span>Modern Physics</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-category="astrophysics">
                            <div class="nav-icon"><i class="fas fa-star"></i></div>
                            <span>Astrophysics</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-category="fluid-mechanics">
                            <div class="nav-icon"><i class="fas fa-water"></i></div>
                            <span>Fluid Mechanics</span>
                        </a>
                    </li>
                </ul>
            </div>
            
            <div class="nav-section">
                <div class="nav-section-title">
                    Chemistry Formulas
                    <button class="nav-section-toggle">
                        <i class="fas fa-chevron-down"></i>
                    </button>
                </div>
                <ul class="nav-list">
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-category="stoichiometry">
                            <div class="nav-icon"><i class="fas fa-balance-scale"></i></div>
                            <span>Stoichiometry</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-category="gas-laws">
                            <div class="nav-icon"><i class="fas fa-wind"></i></div>
                            <span>Gas Laws</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-category="thermochemistry">
                            <div class="nav-icon"><i class="fas fa-fire"></i></div>
                            <span>Thermochemistry</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-category="acids-bases">
                            <div class="nav-icon"><i class="fas fa-vial"></i></div>
                            <span>Acids & Bases</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-category="equilibrium">
                            <div class="nav-icon"><i class="fas fa-balance-scale-left"></i></div>
                            <span>Chemical Equilibrium</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-category="kinetics">
                            <div class="nav-icon"><i class="fas fa-tachometer-alt"></i></div>
                            <span>Chemical Kinetics</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-category="electrochemistry">
                            <div class="nav-icon"><i class="fas fa-car-battery"></i></div>
                            <span>Electrochemistry</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-category="organic-chemistry">
                            <div class="nav-icon"><i class="fas fa-oil-can"></i></div>
                            <span>Organic Chemistry</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-category="nuclear-chemistry">
                            <div class="nav-icon"><i class="fas fa-radiation"></i></div>
                            <span>Nuclear Chemistry</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-category="solutions">
                            <div class="nav-icon"><i class="fas fa-glass-whiskey"></i></div>
                            <span>Solutions Chemistry</span>
                        </a>
                    </li>
                </ul>
            </div>
        </nav>
        
        <!-- Content Area -->
        <main class="content-area" id="contentArea">
            

            <!-- Tabs -->
            <div class="tabs">
                <div class="tab active" data-tab="formulas">Formulas & Calculators</div>
                <div class="tab" data-tab="periodic-table">Periodic Table</div>
                <div class="tab" data-tab="chemical-groups">Chemical Groups</div>
            </div>
            
            <!-- Formulas Tab Content -->
            <div id="formulas-tab" class="tab-content active">
                <div class="content-header">
                    <div class="content-title">
                        <div class="content-title-icon">
                            <i class="fas fa-calculator"></i>
                        </div>
                        <h1>Physics & Chemistry Formulas</h1>
                    </div>
                    <div class="content-actions">
                        <button class="btn btn-outline" id="subjectFilter">
                            <i class="fas fa-filter"></i>
                            <span>All Subjects</span>
                        </button>
                        <div class="dropdown">
                            <button class="btn btn-outline" id="categoryFilter">
                                <i class="fas fa-tags"></i>
                                <span>All Categories</span>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div id="formulasContainer" class="formulas-grid">
                    <!-- Formulas will be dynamically rendered here -->
                </div>
            </div>
            
            <!-- Periodic Table Tab Content -->
            <div id="periodic-table-tab" class="tab-content">
                <div class="content-header">
                    <div class="content-title">
                        <div class="content-title-icon">
                            <i class="fas fa-table"></i>
                        </div>
                        <h1>Interactive Periodic Table</h1>
                    </div>
                    <div class="content-actions">
                        <button class="btn btn-outline" id="tableLegendBtn">
                            <i class="fas fa-layer-group"></i>
                            <span>Show Legend</span>
                        </button>
                    </div>
                </div>
                <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5477749334694815"
     crossorigin="anonymous"></script>
<!-- Before ad -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-5477749334694815"
     data-ad-slot="1845586558"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
                <div class="periodic-table-container">
                    <div id="periodicTable" class="periodic-table">
                        <!-- Periodic table will be dynamically rendered here -->
                    </div>
                </div>
                
                <div class="card mt-xl p-lg">
                    <h3 class="text-center mb-md">Periodic Table Legend</h3>
                    <div class="flex wrap justify-center gap-lg">
                        <div class="flex align-center gap-sm">
                            <div class="element-chip alkali-metal">H</div>
                            <span>Alkali Metals</span>
                        </div>
                        <div class="flex align-center gap-sm">
                            <div class="element-chip alkaline-earth-metal">Be</div>
                            <span>Alkaline Earth Metals</span>
                        </div>
                        <div class="flex align-center gap-sm">
                            <div class="element-chip transition-metal">Fe</div>
                            <span>Transition Metals</span>
                        </div>
                        <div class="flex align-center gap-sm">
                            <div class="element-chip basic-metal">Al</div>
                            <span>Basic Metals</span>
                        </div>
                        <div class="flex align-center gap-sm">
                            <div class="element-chip metalloid">Si</div>
                            <span>Metalloids</span>
                        </div>
                        <div class="flex align-center gap-sm">
                            <div class="element-chip nonmetal">C</div>
                            <span>Nonmetals</span>
                        </div>
                        <div class="flex align-center gap-sm">
                            <div class="element-chip halogen">Cl</div>
                            <span>Halogens</span>
                        </div>
                        <div class="flex align-center gap-sm">
                            <div class="element-chip noble-gas">Ne</div>
                            <span>Noble Gases</span>
                        </div>
                        <div class="flex align-center gap-sm">
                            <div class="element-chip lanthanide">Ce</div>
                            <span>Lanthanides</span>
                        </div>
                        <div class="flex align-center gap-sm">
                            <div class="element-chip actinide">U</div>
                            <span>Actinides</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Chemical Groups Tab Content -->
            <div id="chemical-groups-tab" class="tab-content">
                <div class="content-header">
                    <div class="content-title">
                        <div class="content-title-icon">
                            <i class="fas fa-flask"></i>
                        </div>
                        <h1>Chemical Groups & Families</h1>
                    </div>
                </div>

                <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5477749334694815"
     crossorigin="anonymous"></script>
<!-- Before ad -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-5477749334694815"
     data-ad-slot="1845586558"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

                <div id="chemicalGroupsContainer" class="chemical-groups-grid">
                    <!-- Chemical groups will be dynamically rendered here -->
                </div>
            </div>
        </main>
    </div>
    
    <!-- Element Details Panel -->
    <div id="elementDetailsPanel" class="element-details-panel">
        <div class="panel-header">
            <h2>Element Details</h2>
            <button id="closePanelBtn" class="panel-close">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div id="elementDetailsContent">
            <!-- Element details will be dynamically rendered here -->
        </div>
    </div>
    
</div>
    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-atom"></i>
                    </div>
                    <div>
                        <div class="logo-text">Science Master</div>
                        <div class="logo-subtitle">Physics & Chemistry Learning Platform</div>
                    </div>
                </div>
                
                <div class="footer-links">
                   <a href="about.html" class="footer-link" onclick="openPage('about')">About</a>
<a href="contact.html" class="footer-link" onclick="openPage('contact')">Contact</a>
<a href="privacy.html" class="footer-link" onclick="openPage('privacy')">Privacy Policy</a>
<a href="terms.html" class="footer-link" onclick="openPage('terms')">Terms of Use</a>

                </div>
                
                <div class="copyright">
                    &copy; 2026 Science Master. All rights reserved.
                </div>
            </div>
        </div>
    </footer>
    <!-- Auth Modal -->
<div class="auth-modal" id="authModal">
    <div class="auth-modal-content">
        <div class="auth-tabs">
            <div class="auth-tab active" data-auth-tab="login">Login</div>
            <div class="auth-tab" data-auth-tab="signup">Sign Up</div>
        </div>
        
        <!-- Login Form -->
        <div id="loginForm" class="auth-form active">
            <h3>Login to Science Master</h3>
            <div class="input-group">
                <label class="input-label">Email</label>
                <input type="email" id="loginEmail" class="input-field" placeholder="Enter your email">
            </div>
            <div class="input-group">
                <label class="input-label">Password</label>
                <input type="password" id="loginPassword" class="input-field" placeholder="Enter your password">
            </div>
            <div class="auth-error" id="loginError"></div>
            <div class="auth-success" id="loginSuccess"></div>
            <button class="btn btn-primary btn-block" onclick="login()">
                <i class="fas fa-sign-in-alt"></i>
                Login
            </button>
            <p class="text-center mt-md">
                Don't have an account? <a href="#" onclick="switchAuthTab('signup')">Sign up here</a>
            </p>
        </div>
        
        <!-- Sign Up Form -->
        <div id="signupForm" class="auth-form">
            <h3>Create New Account</h3>
            <div class="input-group">
                <label class="input-label">Full Name</label>
                <input type="text" id="signupName" class="input-field" placeholder="Enter your full name">
            </div>
            <div class="input-group">
                <label class="input-label">Email</label>
                <input type="email" id="signupEmail" class="input-field" placeholder="Enter your email">
            </div>
            <div class="input-group">
                <label class="input-label">Password</label>
                <input type="password" id="signupPassword" class="input-field" placeholder="Create a password (min. 6 characters)">
            </div>
            <div class="input-group">
                <label class="input-label">Confirm Password</label>
                <input type="password" id="signupConfirmPassword" class="input-field" placeholder="Confirm your password">
            </div>
            <div class="auth-error" id="signupError"></div>
            <div class="auth-success" id="signupSuccess"></div>
            <button class="btn btn-primary btn-block" onclick="signup()">
                <i class="fas fa-user-plus"></i>
                Create Account
            </button>
            <!-- Google Login Button -->
<div class="text-center mt-md">
    <p>OR</p>
    <button class="btn btn-outline btn-block" onclick="googleLogin()">
        <i class="fab fa-google" style="color:#DB4437;"></i>
        Continue with Google
    </button>
</div>

            <p class="text-center mt-md">
                Already have an account? <a href="#" onclick="switchAuthTab('login')">Login here</a>
            </p>
        </div>
        
        <button class="btn btn-outline btn-block mt-lg" onclick="closeAuthModal()">
            <i class="fas fa-times"></i>
            Cancel
        </button>
    </div>
</div>
    <script>
        // ============================================
// FIREBASE CONFIGURATION
// ============================================
const firebaseConfig = {
  apiKey: "AIzaSyDwb1kC0I3rY7N4CXTlQhcUCTM_K3UI1ZI",
  authDomain: "science-cal.firebaseapp.com",
  databaseURL: "https://science-cal-default-rtdb.firebaseio.com",
  projectId: "science-cal",
  storageBucket: "science-cal.firebasestorage.app",
  messagingSenderId: "214015863340",
  appId: "1:214015863340:web:c810e9bdb80111a460bf89",
  measurementId: "G-1C4RFBNRLX"
};


// Initialize Firebase
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();

// ============================================
// AUTO-SHOW AUTH MODAL ON PAGE LOAD
// ============================================
document.addEventListener('DOMContentLoaded', function() {
    // Check if user is already logged in
    auth.onAuthStateChanged((user) => {
        if (!user) {
            // If no user is logged in, show the auth modal after a short delay
            setTimeout(() => {
                showAuthModal('signup');
            }, 1000); // 1 second delay for better UX
        } else {
            // User is logged in, close modal if open
            closeAuthModal();
        }
    });
});

// Prevent closing modal unless user is authenticated
function closeAuthModal() {
    const user = auth.currentUser;
    if (!user) {
        // Don't allow closing if user is not logged in
        return;
    }
    
    const modal = document.getElementById('authModal');
    modal.classList.remove('active');
    
    // Clear form fields
    document.getElementById('loginEmail').value = '';
    document.getElementById('loginPassword').value = '';
    document.getElementById('signupName').value = '';
    document.getElementById('signupEmail').value = '';
    document.getElementById('signupPassword').value = '';
    document.getElementById('signupConfirmPassword').value = '';
    
    // Clear error/success messages
    document.querySelectorAll('.auth-error, .auth-success').forEach(el => {
        el.classList.remove('active');
        el.textContent = '';
    });
}

// Override the existing closeAuthModal function to prevent closing
window.closeAuthModal = function() {
    const user = auth.currentUser;
    if (!user) {
        alert('Please sign up or login to access Science Master');
        return;
    }
    
    const modal = document.getElementById('authModal');
    modal.classList.remove('active');
    
    // Clear form fields
    document.getElementById('loginEmail').value = '';
    document.getElementById('loginPassword').value = '';
    document.getElementById('signupName').value = '';
    document.getElementById('signupEmail').value = '';
    document.getElementById('signupPassword').value = '';
    document.getElementById('signupConfirmPassword').value = '';
    
    // Clear error/success messages
    document.querySelectorAll('.auth-error, .auth-success').forEach(el => {
        el.classList.remove('active');
        el.textContent = '';
    });
};

// ============================================
// AUTHENTICATION FUNCTIONS
// ============================================

// Check authentication state
auth.onAuthStateChanged((user) => {
    if (user) {
        // User is signed in
        updateUIForUser(user);
        saveUserData(user);
    } else {
        // User is signed out
        updateUIForGuest();
    }
});

// Sign Up function
async function signup() {
    const name = document.getElementById('signupName').value;
    const email = document.getElementById('signupEmail').value;
    const password = document.getElementById('signupPassword').value;
    const confirmPassword = document.getElementById('signupConfirmPassword').value;
    
    const errorElement = document.getElementById('signupError');
    const successElement = document.getElementById('signupSuccess');
    
    // Clear previous messages
    errorElement.classList.remove('active');
    successElement.classList.remove('active');
    
    // Validation
    if (!name || !email || !password || !confirmPassword) {
        errorElement.textContent = 'All fields are required';
        errorElement.classList.add('active');
        return;
    }
    
    if (password.length < 6) {
        errorElement.textContent = 'Password must be at least 6 characters';
        errorElement.classList.add('active');
        return;
    }
    
    if (password !== confirmPassword) {
        errorElement.textContent = 'Passwords do not match';
        errorElement.classList.add('active');
        return;
    }
    
    try {
        // Create user with email and password
        const userCredential = await auth.createUserWithEmailAndPassword(email, password);
        const user = userCredential.user;
        
        // Save user data to Firestore
        await db.collection('users').doc(user.uid).set({
            name: name,
            email: email,
            createdAt: firebase.firestore.FieldValue.serverTimestamp(),
            lastLogin: firebase.firestore.FieldValue.serverTimestamp(),
            favoriteFormulas: [],
            completedCalculations: 0
        });
        
        successElement.textContent = 'Account created successfully!';
        successElement.classList.add('active');
        
        // Close modal after 2 seconds
        setTimeout(() => {
            closeAuthModal();
        }, 2000);
        
    } catch (error) {
        console.error('Signup error:', error);
        errorElement.textContent = getErrorMessage(error.code);
        errorElement.classList.add('active');
    }
}

// Login function
async function login() {
    const email = document.getElementById('loginEmail').value;
    const password = document.getElementById('loginPassword').value;
    
    const errorElement = document.getElementById('loginError');
    const successElement = document.getElementById('loginSuccess');
    
    // Clear previous messages
    errorElement.classList.remove('active');
    successElement.classList.remove('active');
    
    // Validation
    if (!email || !password) {
        errorElement.textContent = 'Email and password are required';
        errorElement.classList.add('active');
        return;
    }
    
    try {
        // Sign in user
        const userCredential = await auth.signInWithEmailAndPassword(email, password);
        const user = userCredential.user;
        
        // Update last login in Firestore
        await db.collection('users').doc(user.uid).update({
            lastLogin: firebase.firestore.FieldValue.serverTimestamp()
        });
        
        successElement.textContent = 'Login successful!';
        successElement.classList.add('active');
        
        // Close modal after 1 second
        setTimeout(() => {
            closeAuthModal();
        }, 1000);
        
    } catch (error) {
        console.error('Login error:', error);
        errorElement.textContent = getErrorMessage(error.code);
        errorElement.classList.add('active');
    }
}

// Logout function
async function logout() {
    try {
        await auth.signOut();
        console.log('User logged out');
    } catch (error) {
        console.error('Logout error:', error);
        alert('Error logging out. Please try again.');
    }
}

// Save user calculation data
async function saveCalculationData(formulaId, formulaName, inputs, result) {
    const user = auth.currentUser;
    
    if (!user) {
        return; // Don't save if user is not logged in
    }
    
    try {
        const calculationData = {
            formulaId: formulaId,
            formulaName: formulaName,
            inputs: inputs,
            result: result,
            timestamp: firebase.firestore.FieldValue.serverTimestamp()
        };
        
        // user's calculations history
        await db.collection('users').doc(user.uid).collection('calculations').add(calculationData);
        
        // Increment completed calculations count
        await db.collection('users').doc(user.uid).update({
            completedCalculations: firebase.firestore.FieldValue.increment(1)
        });
        
        console.log('Calculation saved to database');
    } catch (error) {
        console.error('Error saving calculation:', error);
    }
}
// ===============================
// GOOGLE LOGIN FUNCTION
// ===============================
async function googleLogin() {
    const provider = new firebase.auth.GoogleAuthProvider();

    try {
        const result = await auth.signInWithPopup(provider);
        const user = result.user;

        // Save user to Firestore if first time
        const userRef = db.collection('users').doc(user.uid);
        const doc = await userRef.get();

        if (!doc.exists) {
            await userRef.set({
                name: user.displayName || "Google User",
                email: user.email,
                createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                lastLogin: firebase.firestore.FieldValue.serverTimestamp(),
                favoriteFormulas: [],
                completedCalculations: 0,
                loginMethod: "google"
            });
        } else {
            await userRef.update({
                lastLogin: firebase.firestore.FieldValue.serverTimestamp()
            });
        }

        closeAuthModal();

    } catch (error) {
        alert("Google Login Failed: " + error.message);
        console.error(error);
    }
}


// Save user data to Firestore
async function saveUserData(user) {
    try {
        const userRef = db.collection('users').doc(user.uid);
        const userDoc = await userRef.get();
        
        if (!userDoc.exists) {
            // Create user document if it doesn't exist
            await userRef.set({
                email: user.email,
                createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                lastLogin: firebase.firestore.FieldValue.serverTimestamp(),
                completedCalculations: 0,
                favoriteFormulas: []
            });
        } else {
            // Update last login
            await userRef.update({
                lastLogin: firebase.firestore.FieldValue.serverTimestamp()
            });
        }
    } catch (error) {
        console.error('Error saving user data:', error);
    }
}

// Get user's favorite formulas
async function getFavoriteFormulas() {
    const user = auth.currentUser;
    
    if (!user) {
        return [];
    }
    
    try {
        const userDoc = await db.collection('users').doc(user.uid).get();
        return userDoc.data().favoriteFormulas || [];
    } catch (error) {
        console.error('Error getting favorites:', error);
        return [];
    }
}

//  formula to favorites
async function addToFavorites(formulaId) {
    const user = auth.currentUser;
    
    if (!user) {
        showAuthModal();
        return;
    }
    
    try {
        const userRef = db.collection('users').doc(user.uid);
        await userRef.update({
            favoriteFormulas: firebase.firestore.FieldValue.arrayUnion(formulaId)
        });
        
        alert('Formula added to favorites!');
    } catch (error) {
        console.error('Error adding to favorites:', error);
        alert('Error adding to favorites. Please try again.');
    }
}

// Remove formula from favorites
async function removeFromFavorites(formulaId) {
    const user = auth.currentUser;
    
    if (!user) {
        return;
    }
    
    try {
        const userRef = db.collection('users').doc(user.uid);
        await userRef.update({
            favoriteFormulas: firebase.firestore.FieldValue.arrayRemove(formulaId)
        });
        
        alert('Formula removed from favorites!');
    } catch (error) {
        console.error('Error removing from favorites:', error);
        alert('Error removing from favorites. Please try again.');
    }
}

// ============================================
// UI UPDATE FUNCTIONS
// ============================================

// Update UI when user is logged in
function updateUIForUser(user) {
    document.getElementById('userInfo').classList.remove('hidden');
    document.getElementById('authButtons').classList.add('hidden');
    document.getElementById('userEmail').textContent = user.email;
    
    // Update formulas to show favorite buttons
    updateFormulaCardsForUser();
}

// Update UI when user is not logged in
function updateUIForGuest() {
    document.getElementById('userInfo').classList.add('hidden');
    document.getElementById('authButtons').classList.remove('hidden');
    
    // Update formulas to hide favorite buttons
    updateFormulaCardsForGuest();
}

// Update formula cards based on auth state
function updateFormulaCardsForUser() {
    document.querySelectorAll('.formula-card').forEach(card => {
        //  favorite button if not already present
        if (!card.querySelector('.favorite-btn')) {
            const formulaId = card.querySelector('[data-formula-id]')?.getAttribute('data-formula-id');
            if (formulaId) {
                const favoriteBtn = document.createElement('button');
                favoriteBtn.className = 'btn btn-outline btn-sm favorite-btn';
                favoriteBtn.innerHTML = '<i class="far fa-star"></i> Favorite';
                favoriteBtn.onclick = () => addToFavorites(formulaId);
                
                const actionsDiv = card.querySelector('.formula-actions');
                if (actionsDiv) {
                    actionsDiv.appendChild(favoriteBtn);
                }
            }
        }
    });
}

function updateFormulaCardsForGuest() {
    document.querySelectorAll('.favorite-btn').forEach(btn => {
        btn.remove();
    });
}

// ============================================
// AUTH MODAL FUNCTIONS
// ============================================

// Show auth modal
function showAuthModal(tab = 'login') {
    const modal = document.getElementById('authModal');
    modal.classList.add('active');
    switchAuthTab(tab);
}

// Close auth modal
function closeAuthModal() {
    const modal = document.getElementById('authModal');
    modal.classList.remove('active');
    
    // Clear form fields
    document.getElementById('loginEmail').value = '';
    document.getElementById('loginPassword').value = '';
    document.getElementById('signupName').value = '';
    document.getElementById('signupEmail').value = '';
    document.getElementById('signupPassword').value = '';
    document.getElementById('signupConfirmPassword').value = '';
    
    // Clear error/success messages
    document.querySelectorAll('.auth-error, .auth-success').forEach(el => {
        el.classList.remove('active');
        el.textContent = '';
    });
}

// Switch between login and signup tabs
function switchAuthTab(tab) {
    // Update tabs
    document.querySelectorAll('.auth-tab').forEach(authTab => {
        authTab.classList.remove('active');
        if (authTab.getAttribute('data-auth-tab') === tab) {
            authTab.classList.add('active');
        }
    });
    
    // Update forms
    document.querySelectorAll('.auth-form').forEach(form => {
        form.classList.remove('active');
    });
    document.getElementById(tab + 'Form').classList.add('active');
}

// Get user-friendly error messages
function getErrorMessage(errorCode) {
    const errorMessages = {
        'auth/email-already-in-use': 'Email already in use. Please use a different email.',
        'auth/invalid-email': 'Invalid email address.',
        'auth/operation-not-allowed': 'Email/password accounts are not enabled.',
        'auth/weak-password': 'Password is too weak. Please use a stronger password.',
        'auth/user-disabled': 'This account has been disabled.',
        'auth/user-not-found': 'No account found with this email.',
        'auth/wrong-password': 'Incorrect password. Please try again.',
        'auth/too-many-requests': 'Too many unsuccessful attempts. Please try again later.'
    };
    
    return errorMessages[errorCode] || 'An error occurred. Please try again.';
}

// ============================================
// INITIALIZE AUTH EVENT LISTENERS
// ============================================
function initAuthListeners() {
    // Sign up button
    document.getElementById('signUpBtn').addEventListener('click', () => {
        showAuthModal('signup');
    });
    
    // Auth tabs
    document.querySelectorAll('.auth-tab').forEach(tab => {
        tab.addEventListener('click', () => {
            const tabId = tab.getAttribute('data-auth-tab');
            switchAuthTab(tabId);
        });
    });
    
   // Prevent closing modal when clicking outside
document.getElementById('authModal').addEventListener('click', (e) => {
    // Don't close when clicking on modal background
    // Only allow closing through the cancel button
    if (e.target.id === 'authModal') {
        e.stopPropagation();
        return false;
    }
});
    
    // Enter key to submit forms
    document.getElementById('loginPassword').addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
            login();
        }
    });
    
    document.getElementById('signupConfirmPassword').addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
            signup();
        }
    });
}

// ============================================
// UPDATE CALCULATION FUNCTION TO SAVE DATA
// ============================================
function calculateFormula(formulaId) {
    const formula = formulas.find(f => f.id === formulaId);
    if (!formula) return;
    
    // Get input values
    const inputs = {};
    let isValid = true;
    
    formula.inputs.forEach(input => {
        const inputElement = document.getElementById(`formula-${formulaId}-${input.id}`);
        const value = parseFloat(inputElement.value);
        
        if (isNaN(value)) {
            inputElement.style.borderColor = 'var(--danger-color)';
            isValid = false;
        } else {
            inputElement.style.borderColor = 'var(--border-color)';
            inputs[input.id] = value;
        }
    });
    
    if (!isValid) {
        alert('Please enter valid numbers for all inputs.');
        return;
    }
    
    // Perform calculation
    try {
        const result = formula.calculate(inputs);
        const resultElement = document.getElementById(`result-${formulaId}`);
        
        // Format result
        let formattedResult;
        if (isNaN(result) || !isFinite(result)) {
            formattedResult = 'Invalid calculation';
        } else {
            formattedResult = result.toFixed(4);
            // Remove trailing zeros
            formattedResult = parseFloat(formattedResult).toString();
        }
        
        resultElement.innerHTML = `
            <div class="text-center">
                <div class="mb-sm">Result:</div>
                <div class="text-xl">${formattedResult} ${formula.outputUnit}</div>
                <div class="text-sm mt-sm text-muted">${formula.equation}</div>
                ${auth.currentUser ? '<div class="text-xs mt-xs text-success"><i class="fas fa-save"></i> Saved to your history</div>' : ''}
            </div>
        `;
        resultElement.classList.add('active');
        
        // Save calculation data if user is logged in
        if (auth.currentUser) {
            saveCalculationData(formulaId, formula.title, inputs, formattedResult);
        }
        
        // Scroll to result
        resultElement.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
    } catch (error) {
        console.error('Calculation error:', error);
        alert('An error occurred during calculation. Please check your inputs.');
    }
}
        // ============================================
        // APPLICATION DATA
        // ============================================
        
        // Formula categories
        const formulaCategories = {
            physics: [
                "motion", "dynamics", "energy", "electricity", 
                "waves", "thermodynamics", "modern-physics", 
                "astrophysics", "fluid-mechanics"
            ],
            chemistry: [
                "stoichiometry", "gas-laws", "thermochemistry", 
                "acids-bases", "equilibrium", "kinetics", 
                "electrochemistry", "organic-chemistry", 
                "nuclear-chemistry", "solutions"
            ]
        };
        
        // Formula data structure
        const formulas = [
            // ===== PHYSICS FORMULAS =====
{
    id: 11,
    category: "motion",
    title: "Final Velocity (v = u + 2as)",
    description: "Calculate final velocity when initial velocity, acceleration, and displacement are known.",
    equation: "v = u + 2as",
    variables: [
        {symbol: "v", description: "Final velocity"},
        {symbol: "u", description: "Initial velocity"},
        {symbol: "a", description: "Acceleration"},
        {symbol: "s", description: "Displacement"}
    ],
    inputs: [
        {id: "u", label: "Initial velocity (u)", unit: "m/s"},
        {id: "a", label: "Acceleration (a)", unit: "m/s"},
        {id: "s", label: "Displacement (s)", unit: "m"}
    ],
    calculate: (inputs) => Math.sqrt(Math.pow(inputs.u, 2) + 2 * inputs.a * inputs.s),
    outputUnit: "m/s",
    icon: "fas fa-running",
    subject: "physics"
},
{
    id: 12,
    category: "motion",
    title: "Displacement with Time (s = ut + at)",
    description: "Calculate displacement when initial velocity, acceleration, and time are known.",
    equation: "s = ut + at",
    variables: [
        {symbol: "s", description: "Displacement"},
        {symbol: "u", description: "Initial velocity"},
        {symbol: "a", description: "Acceleration"},
        {symbol: "t", description: "Time"}
    ],
    inputs: [
        {id: "u", label: "Initial velocity (u)", unit: "m/s"},
        {id: "a", label: "Acceleration (a)", unit: "m/s"},
        {id: "t", label: "Time (t)", unit: "s"}
    ],
    calculate: (inputs) => inputs.u * inputs.t + 0.5 * inputs.a * Math.pow(inputs.t, 2),
    outputUnit: "m",
    icon: "fas fa-road",
    subject: "physics"
},
{
    id: 13,
    category: "dynamics",
    title: "Weight",
    description: "Weight is the force exerted on an object due to gravity.",
    equation: "W = m  g",
    variables: [
        {symbol: "W", description: "Weight"},
        {symbol: "m", description: "Mass"},
        {symbol: "g", description: "Gravity (9.8 m/s)"}
    ],
    inputs: [
        {id: "m", label: "Mass (m)", unit: "kg"}
    ],
    calculate: (inputs) => inputs.m * 9.8,
    outputUnit: "N",
    icon: "fas fa-weight",
    subject: "physics"
},
{
    id: 14,
    category: "dynamics",
    title: "Friction Force",
    description: "The force of friction opposes motion and is proportional to the normal force.",
    equation: "F_f =   N",
    variables: [
        {symbol: "F_f", description: "Friction force"},
        {symbol: "", description: "Coefficient of friction"},
        {symbol: "N", description: "Normal force"}
    ],
    inputs: [
        {id: "mu", label: "Coefficient of friction ()", unit: ""},
        {id: "N", label: "Normal force (N)", unit: "N"}
    ],
    calculate: (inputs) => inputs.mu * inputs.N,
    outputUnit: "N",
    icon: "fas fa-hand-paper",
    subject: "physics"
},
{
    id: 15,
    category: "energy",
    title: "Power",
    description: "Power is the rate at which work is done or energy is transferred.",
    equation: "P = W / t",
    variables: [
        {symbol: "P", description: "Power"},
        {symbol: "W", description: "Work done"},
        {symbol: "t", description: "Time"}
    ],
    inputs: [
        {id: "W", label: "Work (W)", unit: "J"},
        {id: "t", label: "Time (t)", unit: "s"}
    ],
    calculate: (inputs) => inputs.W / inputs.t,
    outputUnit: "W",
    icon: "fas fa-bolt",
    subject: "physics"
},
{
    id: 16,
    category: "energy",
    title: "Efficiency",
    description: "Efficiency is the ratio of useful energy output to total energy input.",
    equation: " = (E_out / E_in)  100%",
    variables: [
        {symbol: "", description: "Efficiency"},
        {symbol: "E_out", description: "Useful energy output"},
        {symbol: "E_in", description: "Total energy input"}
    ],
    inputs: [
        {id: "E_out", label: "Energy output (E_out)", unit: "J"},
        {id: "E_in", label: "Energy input (E_in)", unit: "J"}
    ],
    calculate: (inputs) => (inputs.E_out / inputs.E_in) * 100,
    outputUnit: "%",
    icon: "fas fa-tachometer-alt",
    subject: "physics"
},
{
    id: 17,
    category: "electricity",
    title: "Resistance (R = L/A)",
    description: "Calculate resistance of a conductor based on its resistivity, length, and cross-sectional area.",
    equation: "R = L / A",
    variables: [
        {symbol: "R", description: "Resistance"},
        {symbol: "", description: "Resistivity"},
        {symbol: "L", description: "Length"},
        {symbol: "A", description: "Cross-sectional area"}
    ],
    inputs: [
        {id: "rho", label: "Resistivity ()", unit: "m"},
        {id: "L", label: "Length (L)", unit: "m"},
        {id: "A", label: "Cross-sectional area (A)", unit: "m"}
    ],
    calculate: (inputs) => (inputs.rho * inputs.L) / inputs.A,
    outputUnit: "",
    icon: "fas fa-resistance",
    subject: "physics"
},
{
    id: 18,
    category: "electricity",
    title: "Capacitance",
    description: "Capacitance is the ability of a capacitor to store electrical energy.",
    equation: "C = Q / V",
    variables: [
        {symbol: "C", description: "Capacitance"},
        {symbol: "Q", description: "Charge"},
        {symbol: "V", description: "Voltage"}
    ],
    inputs: [
        {id: "Q", label: "Charge (Q)", unit: "C"},
        {id: "V", label: "Voltage (V)", unit: "V"}
    ],
    calculate: (inputs) => inputs.Q / inputs.V,
    outputUnit: "F",
    icon: "fas fa-bolt",
    subject: "physics"
},
{
    id: 19,
    category: "waves",
    title: "Frequency from Period",
    description: "Frequency is the reciprocal of the period of a wave.",
    equation: "f = 1 / T",
    variables: [
        {symbol: "f", description: "Frequency"},
        {symbol: "T", description: "Period"}
    ],
    inputs: [
        {id: "T", label: "Period (T)", unit: "s"}
    ],
    calculate: (inputs) => 1 / inputs.T,
    outputUnit: "Hz",
    icon: "fas fa-wave-square",
    subject: "physics"
},
{
    id: 20,
    category: "waves",
    title: "Snell's Law",
    description: "Describes the relationship between angles of incidence and refraction when light passes between media.",
    equation: "nsin = nsin",
    variables: [
        {symbol: "n", description: "Refractive index of first medium"},
        {symbol: "", description: "Angle of incidence"},
        {symbol: "n", description: "Refractive index of second medium"},
        {symbol: "", description: "Angle of refraction"}
    ],
    inputs: [
        {id: "n1", label: "Refractive index (n)", unit: ""},
        {id: "theta1", label: "Angle of incidence ()", unit: ""},
        {id: "n2", label: "Refractive index (n)", unit: ""}
    ],
    calculate: (inputs) => {
        const theta1Rad = inputs.theta1 * Math.PI / 180;
        const sinTheta2 = (inputs.n1 * Math.sin(theta1Rad)) / inputs.n2;
        return Math.asin(sinTheta2) * 180 / Math.PI;
    },
    outputUnit: "",
    icon: "fas fa-sun",
    subject: "physics"
},
{
    id: 21,
    category: "thermodynamics",
    title: "First Law of Thermodynamics",
    description: "The change in internal energy equals heat added minus work done by the system.",
    equation: "U = Q - W",
    variables: [
        {symbol: "U", description: "Change in internal energy"},
        {symbol: "Q", description: "Heat added to system"},
        {symbol: "W", description: "Work done by system"}
    ],
    inputs: [
        {id: "Q", label: "Heat added (Q)", unit: "J"},
        {id: "W", label: "Work done (W)", unit: "J"}
    ],
    calculate: (inputs) => inputs.Q - inputs.W,
    outputUnit: "J",
    icon: "fas fa-fire",
    subject: "physics"
},
{
    id: 22,
    category: "modern-physics",
    title: "Energy-Mass Equivalence",
    description: "Einstein's famous equation relating mass and energy.",
    equation: "E = mc",
    variables: [
        {symbol: "E", description: "Energy"},
        {symbol: "m", description: "Mass"},
        {symbol: "c", description: "Speed of light (310 m/s)"}
    ],
    inputs: [
        {id: "m", label: "Mass (m)", unit: "kg"}
    ],
    calculate: (inputs) => inputs.m * Math.pow(3e8, 2),
    outputUnit: "J",
    icon: "fas fa-atom",
    subject: "physics"
},
{
    id: 23,
    category: "modern-physics",
    title: "De Broglie Wavelength",
    description: "Calculates the wavelength associated with a particle.",
    equation: " = h / p",
    variables: [
        {symbol: "", description: "Wavelength"},
        {symbol: "h", description: "Planck's constant (6.62610 Js)"},
        {symbol: "p", description: "Momentum"}
    ],
    inputs: [
        {id: "p", label: "Momentum (p)", unit: "kgm/s"}
    ],
    calculate: (inputs) => 6.626e-34 / inputs.p,
    outputUnit: "m",
    icon: "fas fa-atom",
    subject: "physics"
},
{
    id: 24,
    category: "fluid-mechanics",
    title: "Pressure",
    description: "Pressure is force applied per unit area.",
    equation: "P = F / A",
    variables: [
        {symbol: "P", description: "Pressure"},
        {symbol: "F", description: "Force"},
        {symbol: "A", description: "Area"}
    ],
    inputs: [
        {id: "F", label: "Force (F)", unit: "N"},
        {id: "A", label: "Area (A)", unit: "m"}
    ],
    calculate: (inputs) => inputs.F / inputs.A,
    outputUnit: "Pa",
    icon: "fas fa-tachometer-alt",
    subject: "physics"
},
{
    id: 25,
    category: "fluid-mechanics",
    title: "Buoyant Force",
    description: "The upward force exerted on an object submerged in a fluid.",
    equation: "F_b =   V  g",
    variables: [
        {symbol: "F_b", description: "Buoyant force"},
        {symbol: "", description: "Density of fluid"},
        {symbol: "V", description: "Volume displaced"},
        {symbol: "g", description: "Gravity (9.8 m/s)"}
    ],
    inputs: [
        {id: "rho", label: "Density of fluid ()", unit: "kg/m"},
        {id: "V", label: "Volume displaced (V)", unit: "m"}
    ],
    calculate: (inputs) => inputs.rho * inputs.V * 9.8,
    outputUnit: "N",
    icon: "fas fa-water",
    subject: "physics"
},
            {
                id: 1,
                category: "motion",
                title: "Displacement",
                description: "Displacement is the change in position of an object. It is a vector quantity with both magnitude and direction.",
                equation: "x = x_f - x_i",
                variables: [
                    {symbol: "x", description: "Displacement"},
                    {symbol: "x_f", description: "Final position"},
                    {symbol: "x_i", description: "Initial position"}
                ],
                inputs: [
                    {id: "x_f", label: "Final position (x_f)", unit: "m"}
                ],
                calculate: (inputs) => {
                    // For simplicity, assuming initial position is 0
                    return inputs.x_f;
                },
                outputUnit: "m",
                icon: "fas fa-running",
                subject: "physics"
            },
            {
                id: 2,
                category: "motion",
                title: "Average Velocity",
                description: "Average velocity is the displacement divided by the time interval. It is a vector quantity.",
                equation: "v_avg = x / t",
                variables: [
                    {symbol: "v_avg", description: "Average velocity"},
                    {symbol: "x", description: "Displacement"},
                    {symbol: "t", description: "Time interval"}
                ],
                inputs: [
                    {id: "delta_x", label: "Displacement (x)", unit: "m"},
                    {id: "delta_t", label: "Time interval (t)", unit: "s"}
                ],
                calculate: (inputs) => inputs.delta_x / inputs.delta_t,
                outputUnit: "m/s",
                icon: "fas fa-tachometer-alt",
                subject: "physics"
            },
            {
                id: 3,
                category: "motion",
                title: "Acceleration",
                description: "Acceleration is the rate of change of velocity with respect to time.",
                equation: "a = v / t",
                variables: [
                    {symbol: "a", description: "Acceleration"},
                    {symbol: "v", description: "Change in velocity"},
                    {symbol: "t", description: "Time interval"}
                ],
                inputs: [
                    {id: "delta_v", label: "Change in velocity (v)", unit: "m/s"},
                    {id: "delta_t", label: "Time interval (t)", unit: "s"}
                ],
                calculate: (inputs) => inputs.delta_v / inputs.delta_t,
                outputUnit: "m/s",
                icon: "fas fa-car",
                subject: "physics"
            },
            {
                id: 4,
                category: "dynamics",
                title: "Newton's Second Law",
                description: "The acceleration of an object is directly proportional to the net force acting on it and inversely proportional to its mass.",
                equation: "F = m  a",
                variables: [
                    {symbol: "F", description: "Force"},
                    {symbol: "m", description: "Mass"},
                    {symbol: "a", description: "Acceleration"}
                ],
                inputs: [
                    {id: "m", label: "Mass (m)", unit: "kg"},
                    {id: "a", label: "Acceleration (a)", unit: "m/s"}
                ],
                calculate: (inputs) => inputs.m * inputs.a,
                outputUnit: "N",
                icon: "fas fa-weight-hanging",
                subject: "physics"
            },
            {
                id: 5,
                category: "energy",
                title: "Kinetic Energy",
                description: "Kinetic energy is the energy possessed by an object due to its motion.",
                equation: "KE =   m  v",
                variables: [
                    {symbol: "KE", description: "Kinetic energy"},
                    {symbol: "m", description: "Mass"},
                    {symbol: "v", description: "Velocity"}
                ],
                inputs: [
                    {id: "m", label: "Mass (m)", unit: "kg"},
                    {id: "v", label: "Velocity (v)", unit: "m/s"}
                ],
                calculate: (inputs) => 0.5 * inputs.m * Math.pow(inputs.v, 2),
                outputUnit: "J",
                icon: "fas fa-bolt",
                subject: "physics"
            },
            {
                id: 6,
                category: "energy",
                title: "Potential Energy (Gravity)",
                description: "Gravitational potential energy is the energy stored in an object due to its height above the ground.",
                equation: "PE = m  g  h",
                variables: [
                    {symbol: "PE", description: "Potential energy"},
                    {symbol: "m", description: "Mass"},
                    {symbol: "g", description: "Gravity (9.8 m/s)"},
                    {symbol: "h", description: "Height"}
                ],
                inputs: [
                    {id: "m", label: "Mass (m)", unit: "kg"},
                    {id: "h", label: "Height (h)", unit: "m"}
                ],
                calculate: (inputs) => inputs.m * 9.8 * inputs.h,
                outputUnit: "J",
                icon: "fas fa-mountain",
                subject: "physics"
            },
            {
                id: 7,
                category: "electricity",
                title: "Ohm's Law",
                description: "Ohm's Law states that the current through a conductor between two points is directly proportional to the voltage across the two points.",
                equation: "V = I  R",
                variables: [
                    {symbol: "V", description: "Voltage"},
                    {symbol: "I", description: "Current"},
                    {symbol: "R", description: "Resistance"}
                ],
                inputs: [
                    {id: "I", label: "Current (I)", unit: "A"},
                    {id: "R", label: "Resistance (R)", unit: ""}
                ],
                calculate: (inputs) => inputs.I * inputs.R,
                outputUnit: "V",
                icon: "fas fa-bolt",
                subject: "physics"
            },
            {
                id: 8,
                category: "electricity",
                title: "Electric Power",
                description: "Electric power is the rate at which electrical energy is transferred by an electric circuit.",
                equation: "P = V  I",
                variables: [
                    {symbol: "P", description: "Power"},
                    {symbol: "V", description: "Voltage"},
                    {symbol: "I", description: "Current"}
                ],
                inputs: [
                    {id: "V", label: "Voltage (V)", unit: "V"},
                    {id: "I", label: "Current (I)", unit: "A"}
                ],
                calculate: (inputs) => inputs.V * inputs.I,
                outputUnit: "W",
                icon: "fas fa-plug",
                subject: "physics"
            },
            {
                id: 9,
                category: "waves",
                title: "Wave Speed",
                description: "The speed of a wave is equal to the product of its frequency and wavelength.",
                equation: "v = f  ",
                variables: [
                    {symbol: "v", description: "Wave speed"},
                    {symbol: "f", description: "Frequency"},
                    {symbol: "", description: "Wavelength"}
                ],
                inputs: [
                    {id: "f", label: "Frequency (f)", unit: "Hz"},
                    {id: "lambda", label: "Wavelength ()", unit: "m"}
                ],
                calculate: (inputs) => inputs.f * inputs.lambda,
                outputUnit: "m/s",
                icon: "fas fa-wave-square",
                subject: "physics"
            },
            {
                id: 10,
                category: "thermodynamics",
                title: "Heat Transfer",
                description: "The amount of heat transferred to or from a substance depends on its mass, specific heat capacity, and temperature change.",
                equation: "Q = m  c  T",
                variables: [
                    {symbol: "Q", description: "Heat transferred"},
                    {symbol: "m", description: "Mass"},
                    {symbol: "c", description: "Specific heat capacity"},
                    {symbol: "T", description: "Temperature change"}
                ],
                inputs: [
                    {id: "m", label: "Mass (m)", unit: "kg"},
                    {id: "c", label: "Specific heat (c)", unit: "J/(kgK)"},
                    {id: "delta_T", label: "Temperature change (T)", unit: "K"}
                ],
                calculate: (inputs) => inputs.m * inputs.c * inputs.delta_T,
                outputUnit: "J",
                icon: "fas fa-thermometer-half",
                subject: "physics"
            },
            
{
    id: 26,
    category: "motion",
    title: "Time of Flight (Projectile)",
    description: "Total time a projectile remains in the air when launched horizontally.",
    equation: "t = (2h/g)",
    variables: [
        {symbol: "t", description: "Time of flight"},
        {symbol: "h", description: "Height"},
        {symbol: "g", description: "Gravity (9.8 m/s)"}
    ],
    inputs: [
        {id: "h", label: "Height (h)", unit: "m"}
    ],
    calculate: (inputs) => Math.sqrt(2 * inputs.h / 9.8),
    outputUnit: "s",
    icon: "fas fa-project-diagram",
    subject: "physics"
},
{
    id: 27,
    category: "motion",
    title: "Range of Projectile",
    description: "Horizontal distance traveled by a projectile launched at an angle.",
    equation: "R = (v  sin(2)) / g",
    variables: [
        {symbol: "R", description: "Range"},
        {symbol: "v", description: "Initial velocity"},
        {symbol: "", description: "Launch angle"},
        {symbol: "g", description: "Gravity (9.8 m/s)"}
    ],
    inputs: [
        {id: "v0", label: "Initial velocity (v)", unit: "m/s"},
        {id: "theta", label: "Launch angle ()", unit: ""}
    ],
    calculate: (inputs) => {
        const thetaRad = inputs.theta * Math.PI / 180;
        return (Math.pow(inputs.v0, 2) * Math.sin(2 * thetaRad)) / 9.8;
    },
    outputUnit: "m",
    icon: "fas fa-bullseye",
    subject: "physics"
},
{
    id: 28,
    category: "motion",
    title: "Maximum Height (Projectile)",
    description: "Maximum vertical height reached by a projectile launched at an angle.",
    equation: "H = (v  sin) / (2g)",
    variables: [
        {symbol: "H", description: "Maximum height"},
        {symbol: "v", description: "Initial velocity"},
        {symbol: "", description: "Launch angle"},
        {symbol: "g", description: "Gravity (9.8 m/s)"}
    ],
    inputs: [
        {id: "v0", label: "Initial velocity (v)", unit: "m/s"},
        {id: "theta", label: "Launch angle ()", unit: ""}
    ],
    calculate: (inputs) => {
        const thetaRad = inputs.theta * Math.PI / 180;
        return (Math.pow(inputs.v0, 2) * Math.pow(Math.sin(thetaRad), 2)) / (2 * 9.8);
    },
    outputUnit: "m",
    icon: "fas fa-mountain",
    subject: "physics"
},
{
    id: 29,
    category: "dynamics",
    title: "Centripetal Force",
    description: "Force that keeps an object moving in a circular path.",
    equation: "F_c = (m  v) / r",
    variables: [
        {symbol: "F_c", description: "Centripetal force"},
        {symbol: "m", description: "Mass"},
        {symbol: "v", description: "Velocity"},
        {symbol: "r", description: "Radius"}
    ],
    inputs: [
        {id: "m", label: "Mass (m)", unit: "kg"},
        {id: "v", label: "Velocity (v)", unit: "m/s"},
        {id: "r", label: "Radius (r)", unit: "m"}
    ],
    calculate: (inputs) => (inputs.m * Math.pow(inputs.v, 2)) / inputs.r,
    outputUnit: "N",
    icon: "fas fa-circle",
    subject: "physics"
},
{
    id: 30,
    category: "dynamics",
    title: "Centripetal Acceleration",
    description: "Acceleration directed toward the center of a circular path.",
    equation: "a_c = v / r",
    variables: [
        {symbol: "a_c", description: "Centripetal acceleration"},
        {symbol: "v", description: "Velocity"},
        {symbol: "r", description: "Radius"}
    ],
    inputs: [
        {id: "v", label: "Velocity (v)", unit: "m/s"},
        {id: "r", label: "Radius (r)", unit: "m"}
    ],
    calculate: (inputs) => Math.pow(inputs.v, 2) / inputs.r,
    outputUnit: "m/s",
    icon: "fas fa-sync",
    subject: "physics"
},
{
    id: 31,
    category: "dynamics",
    title: "Period of Circular Motion",
    description: "Time for one complete revolution in circular motion.",
    equation: "T = 2r / v",
    variables: [
        {symbol: "T", description: "Period"},
        {symbol: "r", description: "Radius"},
        {symbol: "v", description: "Velocity"}
    ],
    inputs: [
        {id: "r", label: "Radius (r)", unit: "m"},
        {id: "v", label: "Velocity (v)", unit: "m/s"}
    ],
    calculate: (inputs) => (2 * Math.PI * inputs.r) / inputs.v,
    outputUnit: "s",
    icon: "fas fa-history",
    subject: "physics"
},
{
    id: 32,
    category: "dynamics",
    title: "Torque",
    description: "Rotational force, the product of force and lever arm.",
    equation: " = F  r  sin",
    variables: [
        {symbol: "", description: "Torque"},
        {symbol: "F", description: "Force"},
        {symbol: "r", description: "Lever arm"},
        {symbol: "", description: "Angle between force and lever"}
    ],
    inputs: [
        {id: "F", label: "Force (F)", unit: "N"},
        {id: "r", label: "Lever arm (r)", unit: "m"},
        {id: "theta", label: "Angle ()", unit: ""}
    ],
    calculate: (inputs) => {
        const thetaRad = inputs.theta * Math.PI / 180;
        return inputs.F * inputs.r * Math.sin(thetaRad);
    },
    outputUnit: "Nm",
    icon: "fas fa-cog",
    subject: "physics"
},
{
    id: 33,
    category: "energy",
    title: "Work Done by Force",
    description: "Work is done when a force causes displacement.",
    equation: "W = F  d  cos",
    variables: [
        {symbol: "W", description: "Work"},
        {symbol: "F", description: "Force"},
        {symbol: "d", description: "Displacement"},
        {symbol: "", description: "Angle between force and displacement"}
    ],
    inputs: [
        {id: "F", label: "Force (F)", unit: "N"},
        {id: "d", label: "Displacement (d)", unit: "m"},
        {id: "theta", label: "Angle ()", unit: ""}
    ],
    calculate: (inputs) => {
        const thetaRad = inputs.theta * Math.PI / 180;
        return inputs.F * inputs.d * Math.cos(thetaRad);
    },
    outputUnit: "J",
    icon: "fas fa-hammer",
    subject: "physics"
},
{
    id: 34,
    category: "energy",
    title: "Spring Potential Energy",
    description: "Energy stored in a compressed or stretched spring.",
    equation: "PE_spring =   k  x",
    variables: [
        {symbol: "PE_spring", description: "Spring potential energy"},
        {symbol: "k", description: "Spring constant"},
        {symbol: "x", description: "Displacement from equilibrium"}
    ],
    inputs: [
        {id: "k", label: "Spring constant (k)", unit: "N/m"},
        {id: "x", label: "Displacement (x)", unit: "m"}
    ],
    calculate: (inputs) => 0.5 * inputs.k * Math.pow(inputs.x, 2),
    outputUnit: "J",
    icon: "fas fa-expand-arrows-alt",
    subject: "physics"
},
{
    id: 35,
    category: "energy",
    title: "Hooke's Law",
    description: "Force needed to extend or compress a spring.",
    equation: "F = -k  x",
    variables: [
        {symbol: "F", description: "Spring force"},
        {symbol: "k", description: "Spring constant"},
        {symbol: "x", description: "Displacement from equilibrium"}
    ],
    inputs: [
        {id: "k", label: "Spring constant (k)", unit: "N/m"},
        {id: "x", label: "Displacement (x)", unit: "m"}
    ],
    calculate: (inputs) => inputs.k * inputs.x,
    outputUnit: "N",
    icon: "fas fa-compress-arrows-alt",
    subject: "physics"
},
{
    id: 36,
    category: "electricity",
    title: "Coulomb's Law",
    description: "Force between two point charges.",
    equation: "F = k  (q  q) / r",
    variables: [
        {symbol: "F", description: "Electrostatic force"},
        {symbol: "k", description: "Coulomb's constant (910 Nm/C)"},
        {symbol: "q, q", description: "Charges"},
        {symbol: "r", description: "Distance between charges"}
    ],
    inputs: [
        {id: "q1", label: "Charge 1 (q)", unit: "C"},
        {id: "q2", label: "Charge 2 (q)", unit: "C"},
        {id: "r", label: "Distance (r)", unit: "m"}
    ],
    calculate: (inputs) => {
        const k = 9e9;
        return (k * inputs.q1 * inputs.q2) / Math.pow(inputs.r, 2);
    },
    outputUnit: "N",
    icon: "fas fa-bolt",
    subject: "physics"
},
{
    id: 37,
    category: "electricity",
    title: "Electric Field Strength",
    description: "Force per unit charge experienced by a test charge.",
    equation: "E = F / q",
    variables: [
        {symbol: "E", description: "Electric field"},
        {symbol: "F", description: "Force"},
        {symbol: "q", description: "Test charge"}
    ],
    inputs: [
        {id: "F", label: "Force (F)", unit: "N"},
        {id: "q", label: "Test charge (q)", unit: "C"}
    ],
    calculate: (inputs) => inputs.F / inputs.q,
    outputUnit: "N/C",
    icon: "fas fa-wave-square",
    subject: "physics"
},
{
    id: 38,
    category: "electricity",
    title: "Electric Potential Energy",
    description: "Energy stored in a system of charges.",
    equation: "U = k  (q  q) / r",
    variables: [
        {symbol: "U", description: "Potential energy"},
        {symbol: "k", description: "Coulomb's constant (910 Nm/C)"},
        {symbol: "q, q", description: "Charges"},
        {symbol: "r", description: "Distance between charges"}
    ],
    inputs: [
        {id: "q1", label: "Charge 1 (q)", unit: "C"},
        {id: "q2", label: "Charge 2 (q)", unit: "C"},
        {id: "r", label: "Distance (r)", unit: "m"}
    ],
    calculate: (inputs) => {
        const k = 9e9;
        return (k * inputs.q1 * inputs.q2) / inputs.r;
    },
    outputUnit: "J",
    icon: "fas fa-battery-full",
    subject: "physics"
},
{
    id: 39,
    category: "electricity",
    title: "Electric Potential",
    description: "Electric potential energy per unit charge.",
    equation: "V = k  Q / r",
    variables: [
        {symbol: "V", description: "Electric potential"},
        {symbol: "k", description: "Coulomb's constant (910 Nm/C)"},
        {symbol: "Q", description: "Source charge"},
        {symbol: "r", description: "Distance from charge"}
    ],
    inputs: [
        {id: "Q", label: "Source charge (Q)", unit: "C"},
        {id: "r", label: "Distance (r)", unit: "m"}
    ],
    calculate: (inputs) => {
        const k = 9e9;
        return (k * inputs.Q) / inputs.r;
    },
    outputUnit: "V",
    icon: "fas fa-bolt",
    subject: "physics"
},
{
    id: 40,
    category: "electricity",
    title: "Magnetic Force on Moving Charge",
    description: "Force experienced by a charge moving in a magnetic field.",
    equation: "F = q  v  B  sin",
    variables: [
        {symbol: "F", description: "Magnetic force"},
        {symbol: "q", description: "Charge"},
        {symbol: "v", description: "Velocity"},
        {symbol: "B", description: "Magnetic field strength"},
        {symbol: "", description: "Angle between v and B"}
    ],
    inputs: [
        {id: "q", label: "Charge (q)", unit: "C"},
        {id: "v", label: "Velocity (v)", unit: "m/s"},
        {id: "B", label: "Magnetic field (B)", unit: "T"},
        {id: "theta", label: "Angle ()", unit: ""}
    ],
    calculate: (inputs) => {
        const thetaRad = inputs.theta * Math.PI / 180;
        return inputs.q * inputs.v * inputs.B * Math.sin(thetaRad);
    },
    outputUnit: "N",
    icon: "fas fa-magnet",
    subject: "physics"
},
{
    id: 41,
    category: "waves",
    title: "Period of Pendulum",
    description: "Time for one complete swing of a simple pendulum.",
    equation: "T = 2  (L/g)",
    variables: [
        {symbol: "T", description: "Period"},
        {symbol: "L", description: "Length of pendulum"},
        {symbol: "g", description: "Gravity (9.8 m/s)"}
    ],
    inputs: [
        {id: "L", label: "Length (L)", unit: "m"}
    ],
    calculate: (inputs) => 2 * Math.PI * Math.sqrt(inputs.L / 9.8),
    outputUnit: "s",
    icon: "fas fa-clock",
    subject: "physics"
},
{
    id: 42,
    category: "waves",
    title: "Doppler Effect (Sound)",
    description: "Change in frequency due to relative motion between source and observer.",
    equation: "f' = f  (v  v) / (v  v)",
    variables: [
        {symbol: "f'", description: "Observed frequency"},
        {symbol: "f", description: "Source frequency"},
        {symbol: "v", description: "Speed of sound (343 m/s)"},
        {symbol: "v", description: "Observer velocity"},
        {symbol: "v", description: "Source velocity"}
    ],
    inputs: [
        {id: "f", label: "Source frequency (f)", unit: "Hz"},
        {id: "v0", label: "Observer velocity (v)", unit: "m/s"},
        {id: "vs", label: "Source velocity (v)", unit: "m/s"}
    ],
    calculate: (inputs) => {
        const v = 343; // Speed of sound in m/s
        // Assuming source moving away, observer moving toward
        return inputs.f * (v + inputs.v0) / (v + inputs.vs);
    },
    outputUnit: "Hz",
    icon: "fas fa-volume-up",
    subject: "physics"
},
{
    id: 43,
    category: "waves",
    title: "Intensity of Sound",
    description: "Power per unit area carried by a sound wave.",
    equation: "I = P / A",
    variables: [
        {symbol: "I", description: "Intensity"},
        {symbol: "P", description: "Power"},
        {symbol: "A", description: "Area"}
    ],
    inputs: [
        {id: "P", label: "Power (P)", unit: "W"},
        {id: "A", label: "Area (A)", unit: "m"}
    ],
    calculate: (inputs) => inputs.P / inputs.A,
    outputUnit: "W/m",
    icon: "fas fa-volume",
    subject: "physics"
},
{
    id: 44,
    category: "waves",
    title: "Sound Intensity Level (Decibels)",
    description: "Logarithmic measure of sound intensity.",
    equation: " = 10  log(I/I)",
    variables: [
        {symbol: "", description: "Sound level"},
        {symbol: "I", description: "Intensity"},
        {symbol: "I", description: "Reference intensity (10 W/m)"}
    ],
    inputs: [
        {id: "I", label: "Intensity (I)", unit: "W/m"}
    ],
    calculate: (inputs) => 10 * Math.log10(inputs.I / 1e-12),
    outputUnit: "dB",
    icon: "fas fa-headphones",
    subject: "physics"
},
{
    id: 45,
    category: "thermodynamics",
    title: "Thermal Expansion (Linear)",
    description: "Change in length due to temperature change.",
    equation: "L =   L  T",
    variables: [
        {symbol: "L", description: "Change in length"},
        {symbol: "", description: "Coefficient of linear expansion"},
        {symbol: "L", description: "Original length"},
        {symbol: "T", description: "Temperature change"}
    ],
    inputs: [
        {id: "alpha", label: "Coefficient ()", unit: "/C"},
        {id: "L0", label: "Original length (L)", unit: "m"},
        {id: "delta_T", label: "Temperature change (T)", unit: "C"}
    ],
    calculate: (inputs) => inputs.alpha * inputs.L0 * inputs.delta_T,
    outputUnit: "m",
    icon: "fas fa-thermometer",
    subject: "physics"
},
{
    id: 46,
    category: "thermodynamics",
    title: "Ideal Gas Law (Pressure)",
    description: "Calculate pressure from ideal gas law.",
    equation: "P = (n  R  T) / V",
    variables: [
        {symbol: "P", description: "Pressure"},
        {symbol: "n", description: "Number of moles"},
        {symbol: "R", description: "Gas constant (0.0821 Latm/(molK))"},
        {symbol: "T", description: "Temperature"},
        {symbol: "V", description: "Volume"}
    ],
    inputs: [
        {id: "n", label: "Moles (n)", unit: "mol"},
        {id: "T", label: "Temperature (T)", unit: "K"},
        {id: "V", label: "Volume (V)", unit: "L"}
    ],
    calculate: (inputs) => {
        const R = 0.0821;
        return (inputs.n * R * inputs.T) / inputs.V;
    },
    outputUnit: "atm",
    icon: "fas fa-temperature-high",
    subject: "physics"
},
{
    id: 47,
    category: "thermodynamics",
    title: "Heat Conduction",
    description: "Rate of heat transfer through a material.",
    equation: "Q/t = k  A  T / d",
    variables: [
        {symbol: "Q/t", description: "Rate of heat transfer"},
        {symbol: "k", description: "Thermal conductivity"},
        {symbol: "A", description: "Cross-sectional area"},
        {symbol: "T", description: "Temperature difference"},
        {symbol: "d", description: "Thickness"}
    ],
    inputs: [
        {id: "k", label: "Thermal conductivity (k)", unit: "W/(mK)"},
        {id: "A", label: "Area (A)", unit: "m"},
        {id: "delta_T", label: "Temp difference (T)", unit: "K"},
        {id: "d", label: "Thickness (d)", unit: "m"}
    ],
    calculate: (inputs) => (inputs.k * inputs.A * inputs.delta_T) / inputs.d,
    outputUnit: "W",
    icon: "fas fa-fire",
    subject: "physics"
},
{
    id: 48,
    category: "modern-physics",
    title: "Photoelectric Effect",
    description: "Kinetic energy of ejected electrons in photoelectric effect.",
    equation: "K_max = hf - ",
    variables: [
        {symbol: "K_max", description: "Maximum kinetic energy"},
        {symbol: "h", description: "Planck's constant (6.62610 Js)"},
        {symbol: "f", description: "Frequency"},
        {symbol: "", description: "Work function"}
    ],
    inputs: [
        {id: "f", label: "Frequency (f)", unit: "Hz"},
        {id: "phi", label: "Work function ()", unit: "J"}
    ],
    calculate: (inputs) => {
        const h = 6.626e-34;
        return h * inputs.f - inputs.phi;
    },
    outputUnit: "J",
    icon: "fas fa-lightbulb",
    subject: "physics"
},
{
    id: 49,
    category: "modern-physics",
    title: "Time Dilation",
    description: "Time interval measured by moving observer (special relativity).",
    equation: "t' = t / (1 - v/c)",
    variables: [
        {symbol: "t'", description: "Dilated time"},
        {symbol: "t", description: "Proper time"},
        {symbol: "v", description: "Relative velocity"},
        {symbol: "c", description: "Speed of light (310 m/s)"}
    ],
    inputs: [
        {id: "delta_t", label: "Proper time (t)", unit: "s"},
        {id: "v", label: "Velocity (v)", unit: "m/s"}
    ],
    calculate: (inputs) => {
        const c = 3e8;
        return inputs.delta_t / Math.sqrt(1 - Math.pow(inputs.v / c, 2));
    },
    outputUnit: "s",
    icon: "fas fa-clock",
    subject: "physics"
},
{
    id: 50,
    category: "modern-physics",
    title: "Length Contraction",
    description: "Length measured by moving observer (special relativity).",
    equation: "L' = L  (1 - v/c)",
    variables: [
        {symbol: "L'", description: "Contracted length"},
        {symbol: "L", description: "Proper length"},
        {symbol: "v", description: "Relative velocity"},
        {symbol: "c", description: "Speed of light (310 m/s)"}
    ],
    inputs: [
        {id: "L0", label: "Proper length (L)", unit: "m"},
        {id: "v", label: "Velocity (v)", unit: "m/s"}
    ],
    calculate: (inputs) => {
        const c = 3e8;
        return inputs.L0 * Math.sqrt(1 - Math.pow(inputs.v / c, 2));
    },
    outputUnit: "m",
    icon: "fas fa-ruler",
    subject: "physics"
},
{
    id: 51,
    category: "astrophysics",
    title: "Escape Velocity",
    description: "Minimum speed needed to escape a planet's gravitational pull.",
    equation: "v_esc = (2GM/R)",
    variables: [
        {symbol: "v_esc", description: "Escape velocity"},
        {symbol: "G", description: "Gravitational constant (6.67410 Nm/kg)"},
        {symbol: "M", description: "Planet mass"},
        {symbol: "R", description: "Planet radius"}
    ],
    inputs: [
        {id: "M", label: "Planet mass (M)", unit: "kg"},
        {id: "R", label: "Planet radius (R)", unit: "m"}
    ],
    calculate: (inputs) => {
        const G = 6.674e-11;
        return Math.sqrt(2 * G * inputs.M / inputs.R);
    },
    outputUnit: "m/s",
    icon: "fas fa-rocket",
    subject: "physics"
},
{
    id: 52,
    category: "astrophysics",
    title: "Orbital Velocity",
    description: "Speed needed for an object to stay in circular orbit.",
    equation: "v_orb = (GM/r)",
    variables: [
        {symbol: "v_orb", description: "Orbital velocity"},
        {symbol: "G", description: "Gravitational constant (6.67410 Nm/kg)"},
        {symbol: "M", description: "Central mass"},
        {symbol: "r", description: "Orbital radius"}
    ],
    inputs: [
        {id: "M", label: "Central mass (M)", unit: "kg"},
        {id: "r", label: "Orbital radius (r)", unit: "m"}
    ],
    calculate: (inputs) => {
        const G = 6.674e-11;
        return Math.sqrt(G * inputs.M / inputs.r);
    },
    outputUnit: "m/s",
    icon: "fas fa-satellite",
    subject: "physics"
},
{
    id: 53,
    category: "astrophysics",
    title: "Kepler's Third Law",
    description: "Relationship between orbital period and orbital radius.",
    equation: "T = (4/GM)  r",
    variables: [
        {symbol: "T", description: "Orbital period"},
        {symbol: "G", description: "Gravitational constant (6.67410 Nm/kg)"},
        {symbol: "M", description: "Central mass"},
        {symbol: "r", description: "Orbital radius"}
    ],
    inputs: [
        {id: "M", label: "Central mass (M)", unit: "kg"},
        {id: "r", label: "Orbital radius (r)", unit: "m"}
    ],
    calculate: (inputs) => {
        const G = 6.674e-11;
        return Math.sqrt((4 * Math.pow(Math.PI, 2) / (G * inputs.M)) * Math.pow(inputs.r, 3));
    },
    outputUnit: "s",
    icon: "fas fa-globe",
    subject: "physics"
},
{
    id: 54,
    category: "fluid-mechanics",
    title: "Bernoulli's Equation",
    description: "Relationship between pressure, velocity, and height in fluid flow.",
    equation: "P + v + gh = constant",
    variables: [
        {symbol: "P", description: "Pressure"},
        {symbol: "", description: "Density"},
        {symbol: "v", description: "Velocity"},
        {symbol: "g", description: "Gravity"},
        {symbol: "h", description: "Height"}
    ],
    inputs: [
        {id: "rho", label: "Density ()", unit: "kg/m"},
        {id: "v", label: "Velocity (v)", unit: "m/s"},
        {id: "h", label: "Height (h)", unit: "m"}
    ],
    calculate: (inputs) => {
        const g = 9.8;
        // Calculate total energy per unit volume
        return 0.5 * inputs.rho * Math.pow(inputs.v, 2) + inputs.rho * g * inputs.h;
    },
    outputUnit: "J/m",
    icon: "fas fa-water",
    subject: "physics"
},
{
    id: 55,
    category: "fluid-mechanics",
    title: "Flow Rate",
    description: "Volume of fluid passing through a cross-section per unit time.",
    equation: "Q = A  v",
    variables: [
        {symbol: "Q", description: "Flow rate"},
        {symbol: "A", description: "Cross-sectional area"},
        {symbol: "v", description: "Velocity"}
    ],
    inputs: [
        {id: "A", label: "Area (A)", unit: "m"},
        {id: "v", label: "Velocity (v)", unit: "m/s"}
    ],
    calculate: (inputs) => inputs.A * inputs.v,
    outputUnit: "m/s",
    icon: "fas fa-faucet",
    subject: "physics"
},
{
    id: 144,
    category: "motion",
    title: "Instantaneous Velocity",
    description: "Velocity of an object at a specific instant in time.",
    equation: "v = dx/dt",
    variables: [
        {symbol: "v", description: "Instantaneous velocity"},
        {symbol: "dx", description: "Infinitesimal displacement"},
        {symbol: "dt", description: "Infinitesimal time interval"}
    ],
    inputs: [
        {id: "dx", label: "Displacement (dx)", unit: "m"},
        {id: "dt", label: "Time interval (dt)", unit: "s"}
    ],
    calculate: (inputs) => inputs.dx / inputs.dt,
    outputUnit: "m/s",
    icon: "fas fa-tachometer-alt",
    subject: "physics"
},
{
    id: 145,
    category: "motion",
    title: "Instantaneous Acceleration",
    description: "Acceleration of an object at a specific instant in time.",
    equation: "a = dv/dt",
    variables: [
        {symbol: "a", description: "Instantaneous acceleration"},
        {symbol: "dv", description: "Infinitesimal velocity change"},
        {symbol: "dt", description: "Infinitesimal time interval"}
    ],
    inputs: [
        {id: "dv", label: "Velocity change (dv)", unit: "m/s"},
        {id: "dt", label: "Time interval (dt)", unit: "s"}
    ],
    calculate: (inputs) => inputs.dv / inputs.dt,
    outputUnit: "m/s",
    icon: "fas fa-car",
    subject: "physics"
},
{
    id: 146,
    category: "dynamics",
    title: "Normal Force (Incline)",
    description: "Normal force on an object resting on an inclined plane.",
    equation: "N = mg  cos",
    variables: [
        {symbol: "N", description: "Normal force"},
        {symbol: "m", description: "Mass"},
        {symbol: "g", description: "Gravity (9.8 m/s)"},
        {symbol: "", description: "Angle of incline"}
    ],
    inputs: [
        {id: "m", label: "Mass (m)", unit: "kg"},
        {id: "theta", label: "Angle ()", unit: ""}
    ],
    calculate: (inputs) => {
        const thetaRad = inputs.theta * Math.PI / 180;
        return inputs.m * 9.8 * Math.cos(thetaRad);
    },
    outputUnit: "N",
    icon: "fas fa-mountain",
    subject: "physics"
},
{
    id: 147,
    category: "dynamics",
    title: "Parallel Force (Incline)",
    description: "Component of weight parallel to an inclined plane.",
    equation: "F_parallel = mg  sin",
    variables: [
        {symbol: "F_parallel", description: "Parallel force"},
        {symbol: "m", description: "Mass"},
        {symbol: "g", description: "Gravity (9.8 m/s)"},
        {symbol: "", description: "Angle of incline"}
    ],
    inputs: [
        {id: "m", label: "Mass (m)", unit: "kg"},
        {id: "theta", label: "Angle ()", unit: ""}
    ],
    calculate: (inputs) => {
        const thetaRad = inputs.theta * Math.PI / 180;
        return inputs.m * 9.8 * Math.sin(thetaRad);
    },
    outputUnit: "N",
    icon: "fas fa-angle-right",
    subject: "physics"
},
{
    id: 148,
    category: "energy",
    title: "Mechanical Energy",
    description: "Total mechanical energy (kinetic + potential) of a system.",
    equation: "E = KE + PE",
    variables: [
        {symbol: "E", description: "Total mechanical energy"},
        {symbol: "KE", description: "Kinetic energy"},
        {symbol: "PE", description: "Potential energy"}
    ],
    inputs: [
        {id: "KE", label: "Kinetic energy (KE)", unit: "J"},
        {id: "PE", label: "Potential energy (PE)", unit: "J"}
    ],
    calculate: (inputs) => inputs.KE + inputs.PE,
    outputUnit: "J",
    icon: "fas fa-bolt",
    subject: "physics"
},
{
    id: 149,
    category: "energy",
    title: "Conservation of Energy",
    description: "Total energy before equals total energy after (in closed system).",
    equation: "E_initial = E_final",
    variables: [
        {symbol: "E_initial", description: "Initial total energy"},
        {symbol: "E_final", description: "Final total energy"}
    ],
    inputs: [
        {id: "E_initial", label: "Initial energy", unit: "J"},
        {id: "E_final", label: "Final energy", unit: "J"}
    ],
    calculate: (inputs) => inputs.E_initial - inputs.E_final,
    outputUnit: "J",
    icon: "fas fa-balance-scale",
    subject: "physics"
},
{
    id: 150,
    category: "electricity",
    title: "Resistors in Series",
    description: "Total resistance of resistors connected in series.",
    equation: "R_total = R + R + R + ...",
    variables: [
        {symbol: "R_total", description: "Total resistance"},
        {symbol: "R, R, R", description: "Individual resistances"}
    ],
    inputs: [
        {id: "R1", label: "Resistor 1 (R)", unit: ""},
        {id: "R2", label: "Resistor 2 (R)", unit: ""},
        {id: "R3", label: "Resistor 3 (R)", unit: ""}
    ],
    calculate: (inputs) => inputs.R1 + inputs.R2 + inputs.R3,
    outputUnit: "",
    icon: "fas fa-link",
    subject: "physics"
},
{
    id: 151,
    category: "electricity",
    title: "Resistors in Parallel",
    description: "Total resistance of resistors connected in parallel.",
    equation: "1/R_total = 1/R + 1/R + 1/R + ...",
    variables: [
        {symbol: "R_total", description: "Total resistance"},
        {symbol: "R, R, R", description: "Individual resistances"}
    ],
    inputs: [
        {id: "R1", label: "Resistor 1 (R)", unit: ""},
        {id: "R2", label: "Resistor 2 (R)", unit: ""},
        {id: "R3", label: "Resistor 3 (R)", unit: ""}
    ],
    calculate: (inputs) => 1 / (1/inputs.R1 + 1/inputs.R2 + 1/inputs.R3),
    outputUnit: "",
    icon: "fas fa-project-diagram",
    subject: "physics"
},
{
    id: 152,
    category: "waves",
    title: "Wavelength from Energy",
    description: "Calculate wavelength of photon from its energy.",
    equation: " = hc/E",
    variables: [
        {symbol: "", description: "Wavelength"},
        {symbol: "h", description: "Planck's constant (6.62610 Js)"},
        {symbol: "c", description: "Speed of light (310 m/s)"},
        {symbol: "E", description: "Energy"}
    ],
    inputs: [
        {id: "E", label: "Energy (E)", unit: "J"}
    ],
    calculate: (inputs) => {
        const h = 6.626e-34;
        const c = 3e8;
        return (h * c) / inputs.E;
    },
    outputUnit: "m",
    icon: "fas fa-wave-square",
    subject: "physics"
},
{
    id: 153,
    category: "waves",
    title: "Energy from Frequency",
    description: "Calculate energy of photon from its frequency.",
    equation: "E = hf",
    variables: [
        {symbol: "E", description: "Energy"},
        {symbol: "h", description: "Planck's constant (6.62610 Js)"},
        {symbol: "f", description: "Frequency"}
    ],
    inputs: [
        {id: "f", label: "Frequency (f)", unit: "Hz"}
    ],
    calculate: (inputs) => {
        const h = 6.626e-34;
        return h * inputs.f;
    },
    outputUnit: "J",
    icon: "fas fa-bolt",
    subject: "physics"
},
{
    id: 154,
    category: "thermodynamics",
    title: "Specific Heat Capacity",
    description: "Amount of heat required to raise temperature of unit mass by 1C.",
    equation: "c = Q/(mT)",
    variables: [
        {symbol: "c", description: "Specific heat capacity"},
        {symbol: "Q", description: "Heat transferred"},
        {symbol: "m", description: "Mass"},
        {symbol: "T", description: "Temperature change"}
    ],
    inputs: [
        {id: "Q", label: "Heat (Q)", unit: "J"},
        {id: "m", label: "Mass (m)", unit: "kg"},
        {id: "delta_T", label: "Temp change (T)", unit: "C"}
    ],
    calculate: (inputs) => inputs.Q / (inputs.m * inputs.delta_T),
    outputUnit: "J/(kgC)",
    icon: "fas fa-thermometer",
    subject: "physics"
},
{
    id: 155,
    category: "thermodynamics",
    title: "Latent Heat",
    description: "Heat required for phase change without temperature change.",
    equation: "Q = mL",
    variables: [
        {symbol: "Q", description: "Heat transferred"},
        {symbol: "m", description: "Mass"},
        {symbol: "L", description: "Latent heat"}
    ],
    inputs: [
        {id: "m", label: "Mass (m)", unit: "kg"},
        {id: "L", label: "Latent heat (L)", unit: "J/kg"}
    ],
    calculate: (inputs) => inputs.m * inputs.L,
    outputUnit: "J",
    icon: "fas fa-fire",
    subject: "physics"
},
{
    id: 156,
    category: "modern-physics",
    title: "Heisenberg Uncertainty Principle",
    description: "Position and momentum cannot both be precisely known.",
    equation: "xp  /2",
    variables: [
        {symbol: "x", description: "Uncertainty in position"},
        {symbol: "p", description: "Uncertainty in momentum"},
        {symbol: "", description: "Reduced Planck constant (1.05410 Js)"}
    ],
    inputs: [
        {id: "delta_x", label: "Position uncertainty (x)", unit: "m"}
    ],
    calculate: (inputs) => {
        const hbar = 1.054e-34;
        return hbar / (2 * inputs.delta_x);
    },
    outputUnit: "kgm/s",
    icon: "fas fa-question-circle",
    subject: "physics"
},
{
    id: 157,
    category: "modern-physics",
    title: "Schrdinger Equation (Time Independent)",
    description: "Fundamental equation of quantum mechanics.",
    equation: " = E",
    variables: [
        {symbol: "", description: "Hamiltonian operator"},
        {symbol: "", description: "Wave function"},
        {symbol: "E", description: "Energy"}
    ],
    inputs: [
        {id: "E", label: "Energy (E)", unit: "J"}
    ],
    calculate: (inputs) => inputs.E,
    outputUnit: "J",
    icon: "fas fa-atom",
    subject: "physics"
},
{
    id: 158,
    category: "astrophysics",
    title: "Gravitational Force",
    description: "Force of attraction between two masses.",
    equation: "F = G(mm)/r",
    variables: [
        {symbol: "F", description: "Gravitational force"},
        {symbol: "G", description: "Gravitational constant (6.67410 Nm/kg)"},
        {symbol: "m, m", description: "Masses"},
        {symbol: "r", description: "Distance between centers"}
    ],
    inputs: [
        {id: "m1", label: "Mass 1 (m)", unit: "kg"},
        {id: "m2", label: "Mass 2 (m)", unit: "kg"},
        {id: "r", label: "Distance (r)", unit: "m"}
    ],
    calculate: (inputs) => {
        const G = 6.674e-11;
        return (G * inputs.m1 * inputs.m2) / Math.pow(inputs.r, 2);
    },
    outputUnit: "N",
    icon: "fas fa-globe",
    subject: "physics"
},
{
    id: 159,
    category: "astrophysics",
    title: "Gravitational Potential",
    description: "Potential energy per unit mass in gravitational field.",
    equation: "V = -GM/r",
    variables: [
        {symbol: "V", description: "Gravitational potential"},
        {symbol: "G", description: "Gravitational constant"},
        {symbol: "M", description: "Mass creating field"},
        {symbol: "r", description: "Distance from mass"}
    ],
    inputs: [
        {id: "M", label: "Mass (M)", unit: "kg"},
        {id: "r", label: "Distance (r)", unit: "m"}
    ],
    calculate: (inputs) => {
        const G = 6.674e-11;
        return -(G * inputs.M) / inputs.r;
    },
    outputUnit: "J/kg",
    icon: "fas fa-mountain",
    subject: "physics"
},
{
    id: 160,
    category: "fluid-mechanics",
    title: "Continuity Equation",
    description: "Mass flow rate is constant in steady flow.",
    equation: "Av = Av",
    variables: [
        {symbol: "A, A", description: "Cross-sectional areas"},
        {symbol: "v, v", description: "Fluid velocities"}
    ],
    inputs: [
        {id: "A1", label: "Area 1 (A)", unit: "m"},
        {id: "v1", label: "Velocity 1 (v)", unit: "m/s"},
        {id: "A2", label: "Area 2 (A)", unit: "m"}
    ],
    calculate: (inputs) => (inputs.A1 * inputs.v1) / inputs.A2,
    outputUnit: "m/s",
    icon: "fas fa-water",
    subject: "physics"
},
{
    id: 161,
    category: "fluid-mechanics",
    title: "Archimedes' Principle",
    description: "Buoyant force equals weight of displaced fluid.",
    equation: "F_b = _fluid  V_displaced  g",
    variables: [
        {symbol: "F_b", description: "Buoyant force"},
        {symbol: "_fluid", description: "Density of fluid"},
        {symbol: "V_displaced", description: "Volume displaced"},
        {symbol: "g", description: "Gravity (9.8 m/s)"}
    ],
    inputs: [
        {id: "rho_fluid", label: "Fluid density ()", unit: "kg/m"},
        {id: "V_displaced", label: "Volume displaced (V)", unit: "m"}
    ],
    calculate: (inputs) => inputs.rho_fluid * inputs.V_displaced * 9.8,
    outputUnit: "N",
    icon: "fas fa-swimming-pool",
    subject: "physics"
},

// ===== ADDITIONAL  FORMULAS =====
{
    id: 200,
    category: "stoichiometry",
    title: "Percent Yield",
    description: "Ratio of actual yield to theoretical yield.",
    equation: "% yield = (actual yield / theoretical yield)  100%",
    variables: [
        {symbol: "% yield", description: "Percentage yield"},
        {symbol: "actual", description: "Actual yield"},
        {symbol: "theoretical", description: "Theoretical yield"}
    ],
    inputs: [
        {id: "actual", label: "Actual yield", unit: "g"},
        {id: "theoretical", label: "Theoretical yield", unit: "g"}
    ],
    calculate: (inputs) => (inputs.actual / inputs.theoretical) * 100,
    outputUnit: "%",
    icon: "fas fa-percentage",
    subject: "chemistry"
},
{
    id: 201,
    category: "stoichiometry",
    title: "Limiting Reagent",
    description: "Reactant that is completely consumed first.",
    equation: "Compare mole ratios",
    variables: [
        {symbol: "moles_A", description: "Moles of reactant A"},
        {symbol: "moles_B", description: "Moles of reactant B"},
        {symbol: "ratio", description: "Stoichiometric ratio"}
    ],
    inputs: [
        {id: "moles_A", label: "Moles of A", unit: "mol"},
        {id: "moles_B", label: "Moles of B", unit: "mol"},
        {id: "ratio_A", label: "Coefficient of A", unit: ""},
        {id: "ratio_B", label: "Coefficient of B", unit: ""}
    ],
    calculate: (inputs) => {
        const ratioA = inputs.moles_A / inputs.ratio_A;
        const ratioB = inputs.moles_B / inputs.ratio_B;
        return ratioA < ratioB ? "A is limiting" : "B is limiting";
    },
    outputUnit: "",
    icon: "fas fa-balance-scale",
    subject: "chemistry"
},
{
    id: 202,
    category: "gas-laws",
    title: "Avogadro's Law",
    description: "Volume of gas is directly proportional to number of moles.",
    equation: "V/n = V/n",
    variables: [
        {symbol: "V, V", description: "Volumes"},
        {symbol: "n, n", description: "Number of moles"}
    ],
    inputs: [
        {id: "V1", label: "Initial volume (V)", unit: "L"},
        {id: "n1", label: "Initial moles (n)", unit: "mol"},
        {id: "n2", label: "Final moles (n)", unit: "mol"}
    ],
    calculate: (inputs) => (inputs.V1 * inputs.n2) / inputs.n1,
    outputUnit: "L",
    icon: "fas fa-wind",
    subject: "chemistry"
},
{
    id: 203,
    category: "gas-laws",
    title: "Dalton's Law of Partial Pressures",
    description: "Total pressure equals sum of partial pressures.",
    equation: "P_total = P + P + P + ...",
    variables: [
        {symbol: "P_total", description: "Total pressure"},
        {symbol: "P, P, P", description: "Partial pressures"}
    ],
    inputs: [
        {id: "P1", label: "Pressure 1 (P)", unit: "atm"},
        {id: "P2", label: "Pressure 2 (P)", unit: "atm"},
        {id: "P3", label: "Pressure 3 (P)", unit: "atm"}
    ],
    calculate: (inputs) => inputs.P1 + inputs.P2 + inputs.P3,
    outputUnit: "atm",
    icon: "fas fa-layer-group",
    subject: "chemistry"
},
{
    id: 204,
    category: "thermochemistry",
    title: "Calorimetry",
    description: "Heat gained equals heat lost in calorimeter.",
    equation: "q_gained = -q_lost",
    variables: [
        {symbol: "q_gained", description: "Heat gained by system"},
        {symbol: "q_lost", description: "Heat lost by surroundings"}
    ],
    inputs: [
        {id: "q_lost", label: "Heat lost", unit: "J"}
    ],
    calculate: (inputs) => -inputs.q_lost,
    outputUnit: "J",
    icon: "fas fa-temperature-high",
    subject: "chemistry"
},
{
    id: 205,
    category: "thermochemistry",
    title: "Bond Energy",
    description: "Energy required to break a chemical bond.",
    equation: "H = (bond energies broken) - (bond energies formed)",
    variables: [
        {symbol: "H", description: "Enthalpy change"},
        {symbol: "_broken", description: "Sum of bond energies broken"},
        {symbol: "_formed", description: "Sum of bond energies formed"}
    ],
    inputs: [
        {id: "broken", label: "Bond energies broken", unit: "kJ/mol"},
        {id: "formed", label: "Bond energies formed", unit: "kJ/mol"}
    ],
    calculate: (inputs) => inputs.broken - inputs.formed,
    outputUnit: "kJ/mol",
    icon: "fas fa-link",
    subject: "chemistry"
},
{
    id: 206,
    category: "acids-bases",
    title: "pH of Strong Acid",
    description: "pH of strong acid assuming complete dissociation.",
    equation: "pH = -log[H]",
    variables: [
        {symbol: "pH", description: "pH value"},
        {symbol: "[H]", description: "Hydrogen ion concentration"}
    ],
    inputs: [
        {id: "H_plus", label: "[H] concentration", unit: "M"}
    ],
    calculate: (inputs) => -Math.log10(inputs.H_plus),
    outputUnit: "",
    icon: "fas fa-vial",
    subject: "chemistry"
},
{
    id: 207,
    category: "acids-bases",
    title: "pOH of Strong Base",
    description: "pOH of strong base assuming complete dissociation.",
    equation: "pOH = -log[OH]",
    variables: [
        {symbol: "pOH", description: "pOH value"},
        {symbol: "[OH]", description: "Hydroxide ion concentration"}
    ],
    inputs: [
        {id: "OH_minus", label: "[OH] concentration", unit: "M"}
    ],
    calculate: (inputs) => -Math.log10(inputs.OH_minus),
    outputUnit: "",
    icon: "fas fa-flask",
    subject: "chemistry"
},
{
    id: 208,
    category: "equilibrium",
    title: "Le Chatelier's Principle",
    description: "System responds to stress to reestablish equilibrium.",
    equation: "Shift to counteract change",
    variables: [
        {symbol: "", description: "Change in conditions"},
        {symbol: "Shift", description: "Direction of equilibrium shift"}
    ],
    inputs: [
        {id: "change", label: "Type of change", unit: ""}
    ],
    calculate: (inputs) => {
        const changes = {
            "concentration": "Shift to opposite side",
            "pressure": "Shift to side with fewer moles",
            "temperature": "Shift to absorb heat"
        };
        return changes[inputs.change] || "Depends on specific change";
    },
    outputUnit: "",
    icon: "fas fa-balance-scale",
    subject: "chemistry"
},
{
    id: 209,
    category: "kinetics",
    title: "Rate Law",
    description: "Relationship between reaction rate and concentrations.",
    equation: "Rate = k[A]^m[B]^n",
    variables: [
        {symbol: "Rate", description: "Reaction rate"},
        {symbol: "k", description: "Rate constant"},
        {symbol: "[A],[B]", description: "Concentrations"},
        {symbol: "m,n", description: "Reaction orders"}
    ],
    inputs: [
        {id: "k", label: "Rate constant (k)", unit: "varies"},
        {id: "A", label: "[A] concentration", unit: "M"},
        {id: "B", label: "[B] concentration", unit: "M"},
        {id: "m", label: "Order for A (m)", unit: ""},
        {id: "n", label: "Order for B (n)", unit: ""}
    ],
    calculate: (inputs) => inputs.k * Math.pow(inputs.A, inputs.m) * Math.pow(inputs.B, inputs.n),
    outputUnit: "M/s",
    icon: "fas fa-chart-line",
    subject: "chemistry"
},
{
    id: 210,
    category: "electrochemistry",
    title: "Electrolysis Time",
    description: "Time required for electrolysis given current.",
    equation: "t = (nF)/(I)",
    variables: [
        {symbol: "t", description: "Time"},
        {symbol: "n", description: "Moles of electrons"},
        {symbol: "F", description: "Faraday constant (96485 C/mol)"},
        {symbol: "I", description: "Current"}
    ],
    inputs: [
        {id: "n", label: "Moles of electrons (n)", unit: "mol"},
        {id: "I", label: "Current (I)", unit: "A"}
    ],
    calculate: (inputs) => {
        const F = 96485;
        return (inputs.n * F) / inputs.I;
    },
    outputUnit: "s",
    icon: "fas fa-clock",
    subject: "chemistry"
},
{
    id: 211,
    category: "electrochemistry",
    title: "Standard Cell Potential",
    description: "Potential difference between two half-cells.",
    equation: "E_cell = E_cathode - E_anode",
    variables: [
        {symbol: "E_cell", description: "Standard cell potential"},
        {symbol: "E_cathode", description: "Cathode reduction potential"},
        {symbol: "E_anode", description: "Anode reduction potential"}
    ],
    inputs: [
        {id: "E_cathode", label: "E cathode", unit: "V"},
        {id: "E_anode", label: "E anode", unit: "V"}
    ],
    calculate: (inputs) => inputs.E_cathode - inputs.E_anode,
    outputUnit: "V",
    icon: "fas fa-battery-full",
    subject: "chemistry"
},
{
    id: 212,
    category: "organic-chemistry",
    title: "Isomer Counting",
    description: "Count possible structural isomers for organic compounds.",
    equation: "Based on carbon chain",
    variables: [
        {symbol: "n", description: "Number of carbon atoms"},
        {symbol: "isomers", description: "Number of isomers"}
    ],
    inputs: [
        {id: "n", label: "Carbon atoms (n)", unit: ""}
    ],
    calculate: (inputs) => {
        const isomerCounts = {
            1: 1, 2: 1, 3: 1, 4: 2, 5: 3, 6: 5, 7: 9, 8: 18, 9: 35, 10: 75
        };
        return isomerCounts[inputs.n] || "Too many to calculate";
    },
    outputUnit: "",
    icon: "fas fa-cubes",
    subject: "chemistry"
},
{
    id: 213,
    category: "organic-chemistry",
    title: "Degree of Polymerization",
    description: "Number of monomer units in a polymer.",
    equation: "DP = M_polymer / M_monomer",
    variables: [
        {symbol: "DP", description: "Degree of polymerization"},
        {symbol: "M_polymer", description: "Polymer molar mass"},
        {symbol: "M_monomer", description: "Monomer molar mass"}
    ],
    inputs: [
        {id: "M_polymer", label: "Polymer molar mass", unit: "g/mol"},
        {id: "M_monomer", label: "Monomer molar mass", unit: "g/mol"}
    ],
    calculate: (inputs) => inputs.M_polymer / inputs.M_monomer,
    outputUnit: "",
    icon: "fas fa-link",
    subject: "chemistry"
},
{
    id: 214,
    category: "nuclear-chemistry",
    title: "Nuclear Binding Energy",
    description: "Energy required to disassemble nucleus into nucleons.",
    equation: "E = mc",
    variables: [
        {symbol: "E", description: "Binding energy"},
        {symbol: "m", description: "Mass defect"},
        {symbol: "c", description: "Speed of light (310 m/s)"}
    ],
    inputs: [
        {id: "delta_m", label: "Mass defect (m)", unit: "kg"}
    ],
    calculate: (inputs) => inputs.delta_m * Math.pow(3e8, 2),
    outputUnit: "J",
    icon: "fas fa-atom",
    subject: "chemistry"
},
{
    id: 215,
    category: "nuclear-chemistry",
    title: "Activity of Radioactive Sample",
    description: "Number of decays per unit time.",
    equation: "A = N",
    variables: [
        {symbol: "A", description: "Activity"},
        {symbol: "", description: "Decay constant"},
        {symbol: "N", description: "Number of atoms"}
    ],
    inputs: [
        {id: "lambda", label: "Decay constant ()", unit: "s"},
        {id: "N", label: "Number of atoms (N)", unit: ""}
    ],
    calculate: (inputs) => inputs.lambda * inputs.N,
    outputUnit: "Bq",
    icon: "fas fa-radiation",
    subject: "chemistry"
},
{
    id: 216,
    category: "solutions",
    title: "Mole Fraction",
    description: "Ratio of moles of component to total moles.",
    equation: "X_A = n_A / (n_A + n_B + ...)",
    variables: [
        {symbol: "X_A", description: "Mole fraction of A"},
        {symbol: "n_A", description: "Moles of A"},
        {symbol: "n_total", description: "Total moles"}
    ],
    inputs: [
        {id: "n_A", label: "Moles of A", unit: "mol"},
        {id: "n_total", label: "Total moles", unit: "mol"}
    ],
    calculate: (inputs) => inputs.n_A / inputs.n_total,
    outputUnit: "",
    icon: "fas fa-percentage",
    subject: "chemistry"
},
{
    id: 217,
    category: "solutions",
    title: "Mass Fraction",
    description: "Ratio of mass of component to total mass.",
    equation: "w_A = m_A / (m_A + m_B + ...)",
    variables: [
        {symbol: "w_A", description: "Mass fraction of A"},
        {symbol: "m_A", description: "Mass of A"},
        {symbol: "m_total", description: "Total mass"}
    ],
    inputs: [
        {id: "m_A", label: "Mass of A", unit: "g"},
        {id: "m_total", label: "Total mass", unit: "g"}
    ],
    calculate: (inputs) => inputs.m_A / inputs.m_total,
    outputUnit: "",
    icon: "fas fa-balance-scale",
    subject: "chemistry"
},
{
    id: 218,
    category: "solutions",
    title: "Normality",
    description: "Number of gram equivalents per liter of solution.",
    equation: "N = n_eq / V",
    variables: [
        {symbol: "N", description: "Normality"},
        {symbol: "n_eq", description: "Gram equivalents"},
        {symbol: "V", description: "Volume"}
    ],
    inputs: [
        {id: "n_eq", label: "Gram equivalents", unit: "eq"},
        {id: "V", label: "Volume (V)", unit: "L"}
    ],
    calculate: (inputs) => inputs.n_eq / inputs.V,
    outputUnit: "eq/L",
    icon: "fas fa-flask",
    subject: "chemistry"
},
{
    id: 219,
    category: "chemical-equilibrium",
    title: "Kc from Concentrations",
    description: "Calculate equilibrium constant from equilibrium concentrations.",
    equation: "Kc = [products]^coefficients / [reactants]^coefficients",
    variables: [
        {symbol: "Kc", description: "Equilibrium constant"},
        {symbol: "[P]", description: "Product concentrations"},
        {symbol: "[R]", description: "Reactant concentrations"}
    ],
    inputs: [
        {id: "products", label: "Products conc", unit: "M"},
        {id: "reactants", label: "Reactants conc", unit: "M"}
    ],
    calculate: (inputs) => inputs.products / inputs.reactants,
    outputUnit: "",
    icon: "fas fa-calculator",
    subject: "chemistry"
},
{
    id: 220,
    category: "chemical-equilibrium",
    title: "Reaction Direction from Q",
    description: "Determine direction of reaction based on Q vs K.",
    equation: "If Q < K: forward, Q > K: reverse, Q = K: equilibrium",
    variables: [
        {symbol: "Q", description: "Reaction quotient"},
        {symbol: "K", description: "Equilibrium constant"}
    ],
    inputs: [
        {id: "Q", label: "Reaction quotient (Q)", unit: ""},
        {id: "K", label: "Equilibrium constant (K)", unit: ""}
    ],
    calculate: (inputs) => {
        if (inputs.Q < inputs.K) return "Reaction proceeds forward";
        if (inputs.Q > inputs.K) return "Reaction proceeds reverse";
        return "System is at equilibrium";
    },
    outputUnit: "",
    icon: "fas fa-arrows-alt-h",
    subject: "chemistry"
},
{
    id: 221,
    category: "analytical-chemistry",
    title: "Beer-Lambert Law",
    description: "Absorbance is proportional to concentration and path length.",
    equation: "A = cl",
    variables: [
        {symbol: "A", description: "Absorbance"},
        {symbol: "", description: "Molar absorptivity"},
        {symbol: "c", description: "Concentration"},
        {symbol: "l", description: "Path length"}
    ],
    inputs: [
        {id: "epsilon", label: "Molar absorptivity ()", unit: "L/(molcm)"},
        {id: "c", label: "Concentration (c)", unit: "M"},
        {id: "l", label: "Path length (l)", unit: "cm"}
    ],
    calculate: (inputs) => inputs.epsilon * inputs.c * inputs.l,
    outputUnit: "",
    icon: "fas fa-vial",
    subject: "chemistry"
},
{
    id: 222,
    category: "analytical-chemistry",
    title: "Titration Calculation",
    description: "Calculate unknown concentration from titration data.",
    equation: "MV = MV",
    variables: [
        {symbol: "M, M", description: "Molarities"},
        {symbol: "V, V", description: "Volumes"}
    ],
    inputs: [
        {id: "M1", label: "Known molarity (M)", unit: "M"},
        {id: "V1", label: "Known volume (V)", unit: "mL"},
        {id: "V2", label: "Unknown volume (V)", unit: "mL"}
    ],
    calculate: (inputs) => (inputs.M1 * inputs.V1) / inputs.V2,
    outputUnit: "M",
    icon: "fas fa-tint",
    subject: "chemistry"
},
{
    id: 223,
    category: "inorganic-chemistry",
    title: "Coordination Number",
    description: "Number of ligand atoms bonded to central metal atom.",
    equation: "Depends on geometry",
    variables: [
        {symbol: "geometry", description: "Molecular geometry"},
        {symbol: "CN", description: "Coordination number"}
    ],
    inputs: [
        {id: "geometry", label: "Geometry", unit: ""}
    ],
    calculate: (inputs) => {
        const geometries = {
            "linear": 2,
            "tetrahedral": 4,
            "square planar": 4,
            "octahedral": 6,
            "bipyramidal": 7
        };
        return geometries[inputs.geometry] || "Varies with complex";
    },
    outputUnit: "",
    icon: "fas fa-shapes",
    subject: "chemistry"
},
{
    id: 224,
    category: "inorganic-chemistry",
    title: "Crystal Field Splitting",
    description: "Energy difference between d orbitals in ligand field.",
    equation: " = hc/",
    variables: [
        {symbol: "", description: "Crystal field splitting"},
        {symbol: "", description: "Wavelength of absorbed light"}
    ],
    inputs: [
        {id: "lambda", label: "Wavelength ()", unit: "nm"}
    ],
    calculate: (inputs) => {
        const h = 6.626e-34;
        const c = 3e8;
        return (h * c) / (inputs.lambda * 1e-9);
    },
    outputUnit: "J",
    icon: "fas fa-gem",
    subject: "chemistry"
},
{
   
    
    id: 111,
    category: "stoichiometry",
    title: "Mass Percent Composition",
    description: "Calculate the percentage by mass of an element in a compound.",
    equation: "% mass = (mass of element / mass of compound)  100%",
    variables: [
        {symbol: "% mass", description: "Mass percentage"},
        {symbol: "mass_element", description: "Mass of element"},
        {symbol: "mass_compound", description: "Mass of compound"}
    ],
    inputs: [
        {id: "mass_element", label: "Mass of element", unit: "g"},
        {id: "mass_compound", label: "Mass of compound", unit: "g"}
    ],
    calculate: (inputs) => (inputs.mass_element / inputs.mass_compound) * 100,
    outputUnit: "%",
    icon: "fas fa-percentage",
    subject: "chemistry"
},
{
    id: 112,
    category: "gas-laws",
    title: "Boyle's Law",
    description: "At constant temperature, the pressure of a gas is inversely proportional to its volume.",
    equation: "PV = PV",
    variables: [
        {symbol: "P", description: "Initial pressure"},
        {symbol: "V", description: "Initial volume"},
        {symbol: "P", description: "Final pressure"},
        {symbol: "V", description: "Final volume"}
    ],
    inputs: [
        {id: "P1", label: "Initial pressure (P)", unit: "atm"},
        {id: "V1", label: "Initial volume (V)", unit: "L"},
        {id: "P2", label: "Final pressure (P)", unit: "atm"}
    ],
    calculate: (inputs) => (inputs.P1 * inputs.V1) / inputs.P2,
    outputUnit: "L",
    icon: "fas fa-wind",
    subject: "chemistry"
},
{
    id: 113,
    category: "gas-laws",
    title: "Charles's Law",
    description: "At constant pressure, the volume of a gas is directly proportional to its temperature.",
    equation: "V/T = V/T",
    variables: [
        {symbol: "V", description: "Initial volume"},
        {symbol: "T", description: "Initial temperature"},
        {symbol: "V", description: "Final volume"},
        {symbol: "T", description: "Final temperature"}
    ],
    inputs: [
        {id: "V1", label: "Initial volume (V)", unit: "L"},
        {id: "T1", label: "Initial temperature (T)", unit: "K"},
        {id: "T2", label: "Final temperature (T)", unit: "K"}
    ],
    calculate: (inputs) => (inputs.V1 * inputs.T2) / inputs.T1,
    outputUnit: "L",
    icon: "fas fa-temperature-high",
    subject: "chemistry"
},
{
    id: 114,
    category: "thermochemistry",
    title: "Heat of Reaction",
    description: "Calculate the heat released or absorbed during a chemical reaction.",
    equation: "q = m  c  T",
    variables: [
        {symbol: "q", description: "Heat transferred"},
        {symbol: "m", description: "Mass of solution"},
        {symbol: "c", description: "Specific heat capacity"},
        {symbol: "T", description: "Temperature change"}
    ],
    inputs: [
        {id: "m", label: "Mass of solution (m)", unit: "g"},
        {id: "c", label: "Specific heat (c)", unit: "J/(gC)"},
        {id: "delta_T", label: "Temperature change (T)", unit: "C"}
    ],
    calculate: (inputs) => inputs.m * inputs.c * inputs.delta_T,
    outputUnit: "J",
    icon: "fas fa-fire",
    subject: "chemistry"
},
{
    id: 115,
    category: "acids-bases",
    title: "pOH from pH",
    description: "Calculate pOH from pH using the relationship pH + pOH = 14.",
    equation: "pOH = 14 - pH",
    variables: [
        {symbol: "pOH", description: "pOH value"},
        {symbol: "pH", description: "pH value"}
    ],
    inputs: [
        {id: "pH", label: "pH value", unit: ""}
    ],
    calculate: (inputs) => 14 - inputs.pH,
    outputUnit: "",
    icon: "fas fa-vial",
    subject: "chemistry"
},
{
    id: 116,
    category: "equilibrium",
    title: "Reaction Quotient (Q)",
    description: "The reaction quotient Q measures the relative amounts of products and reactants present during a reaction.",
    equation: "Q = [C]^c  [D]^d / ([A]^a  [B]^b)",
    variables: [
        {symbol: "Q", description: "Reaction quotient"},
        {symbol: "[A],[B]", description: "Reactant concentrations"},
        {symbol: "[C],[D]", description: "Product concentrations"}
    ],
    inputs: [
        {id: "C", label: "[C] concentration", unit: "mol/L"},
        {id: "D", label: "[D] concentration", unit: "mol/L"},
        {id: "A", label: "[A] concentration", unit: "mol/L"},
        {id: "B", label: "[B] concentration", unit: "mol/L"}
    ],
    calculate: (inputs) => (inputs.C * inputs.D) / (inputs.A * inputs.B),
    outputUnit: "",
    icon: "fas fa-balance-scale",
    subject: "chemistry"
},
{
    id: 117,
    category: "kinetics",
    title: "Half-Life (First Order)",
    description: "The time required for the concentration of a reactant to decrease to half its initial value.",
    equation: "t/ = 0.693 / k",
    variables: [
        {symbol: "t/", description: "Half-life"},
        {symbol: "k", description: "Rate constant"}
    ],
    inputs: [
        {id: "k", label: "Rate constant (k)", unit: "s"}
    ],
    calculate: (inputs) => 0.693 / inputs.k,
    outputUnit: "s",
    icon: "fas fa-hourglass-half",
    subject: "chemistry"
},
{
    id: 118,
    category: "electrochemistry",
    title: "Nernst Equation",
    description: "Calculates the cell potential under non-standard conditions.",
    equation: "E = E - (RT/nF)lnQ",
    variables: [
        {symbol: "E", description: "Cell potential"},
        {symbol: "E", description: "Standard cell potential"},
        {symbol: "R", description: "Gas constant (8.314 J/(molK))"},
        {symbol: "T", description: "Temperature"},
        {symbol: "n", description: "Number of electrons transferred"},
        {symbol: "F", description: "Faraday constant (96485 C/mol)"},
        {symbol: "Q", description: "Reaction quotient"}
    ],
    inputs: [
        {id: "E0", label: "Standard potential (E)", unit: "V"},
        {id: "T", label: "Temperature (T)", unit: "K"},
        {id: "n", label: "Number of electrons (n)", unit: ""},
        {id: "Q", label: "Reaction quotient (Q)", unit: ""}
    ],
    calculate: (inputs) => {
        const R = 8.314;
        const F = 96485;
        return inputs.E0 - (R * inputs.T * Math.log(inputs.Q)) / (inputs.n * F);
    },
    outputUnit: "V",
    icon: "fas fa-battery-full",
    subject: "chemistry"
},
{
    id: 119,
    category: "organic-chemistry",
    title: "Degree of Unsaturation",
    description: "Calculates the number of rings and pi bonds in an organic compound.",
    equation: "DU = (2C + 2 + N - H - X) / 2",
    variables: [
        {symbol: "DU", description: "Degree of unsaturation"},
        {symbol: "C", description: "Number of carbon atoms"},
        {symbol: "H", description: "Number of hydrogen atoms"},
        {symbol: "N", description: "Number of nitrogen atoms"},
        {symbol: "X", description: "Number of halogen atoms"}
    ],
    inputs: [
        {id: "C", label: "Carbon atoms (C)", unit: ""},
        {id: "H", label: "Hydrogen atoms (H)", unit: ""},
        {id: "N", label: "Nitrogen atoms (N)", unit: ""},
        {id: "X", label: "Halogen atoms (X)", unit: ""}
    ],
    calculate: (inputs) => (2 * inputs.C + 2 + inputs.N - inputs.H - inputs.X) / 2,
    outputUnit: "",
    icon: "fas fa-oil-can",
    subject: "chemistry"
},
{
    id: 120,
    category: "nuclear-chemistry",
    title: "Radioactive Decay",
    description: "Calculates remaining amount of radioactive material after time t.",
    equation: "N = Ne^(-t)",
    variables: [
        {symbol: "N", description: "Final amount"},
        {symbol: "N", description: "Initial amount"},
        {symbol: "", description: "Decay constant"},
        {symbol: "t", description: "Time"}
    ],
    inputs: [
        {id: "N0", label: "Initial amount (N)", unit: "g"},
        {id: "lambda", label: "Decay constant ()", unit: "s"},
        {id: "t", label: "Time (t)", unit: "s"}
    ],
    calculate: (inputs) => inputs.N0 * Math.exp(-inputs.lambda * inputs.t),
    outputUnit: "g",
    icon: "fas fa-radiation",
    subject: "chemistry"
},
{
    id: 121,
    category: "solutions",
    title: "Molality",
    description: "Molality is the number of moles of solute per kilogram of solvent.",
    equation: "m = n / kg_solvent",
    variables: [
        {symbol: "m", description: "Molality"},
        {symbol: "n", description: "Moles of solute"},
        {symbol: "kg_solvent", description: "Mass of solvent"}
    ],
    inputs: [
        {id: "n", label: "Moles of solute (n)", unit: "mol"},
        {id: "kg_solvent", label: "Mass of solvent", unit: "kg"}
    ],
    calculate: (inputs) => inputs.n / inputs.kg_solvent,
    outputUnit: "mol/kg",
    icon: "fas fa-flask",
    subject: "chemistry"
},
{
    id: 122,
    category: "solutions",
    title: "Dilution Formula",
    description: "Calculate concentration after dilution: initial concentration times initial volume equals final concentration times final volume.",
    equation: "CV = CV",
    variables: [
        {symbol: "C", description: "Initial concentration"},
        {symbol: "V", description: "Initial volume"},
        {symbol: "C", description: "Final concentration"},
        {symbol: "V", description: "Final volume"}
    ],
    inputs: [
        {id: "C1", label: "Initial concentration (C)", unit: "M"},
        {id: "V1", label: "Initial volume (V)", unit: "L"},
        {id: "C2", label: "Final concentration (C)", unit: "M"}
    ],
    calculate: (inputs) => (inputs.C1 * inputs.V1) / inputs.C2,
    outputUnit: "L",
    icon: "fas fa-tint",
    subject: "chemistry"
},
            {
                id: 101,
                category: "stoichiometry",
                title: "Molar Mass",
                description: "Molar mass is the mass of one mole of a substance. It is calculated by summing the atomic masses of all atoms in the formula.",
                equation: "M = m / n",
                variables: [
                    {symbol: "M", description: "Molar mass"},
                    {symbol: "m", description: "Mass"},
                    {symbol: "n", description: "Amount of substance"}
                ],
                inputs: [
                    {id: "m", label: "Mass (m)", unit: "g"},
                    {id: "n", label: "Amount of substance (n)", unit: "mol"}
                ],
                calculate: (inputs) => inputs.m / inputs.n,
                outputUnit: "g/mol",
                icon: "fas fa-balance-scale",
                subject: "chemistry"
            },
            {
                id: 102,
                category: "stoichiometry",
                title: "Number of Moles",
                description: "The number of moles of a substance is calculated by dividing its mass by its molar mass.",
                equation: "n = m / M",
                variables: [
                    {symbol: "n", description: "Amount of substance"},
                    {symbol: "m", description: "Mass"},
                    {symbol: "M", description: "Molar mass"}
                ],
                inputs: [
                    {id: "m", label: "Mass (m)", unit: "g"},
                    {id: "M", label: "Molar mass (M)", unit: "g/mol"}
                ],
                calculate: (inputs) => inputs.m / inputs.M,
                outputUnit: "mol",
                icon: "fas fa-vial",
                subject: "chemistry"
            },
            {
                id: 103,
                category: "gas-laws",
                title: "Ideal Gas Law",
                description: "The ideal gas law relates the pressure, volume, temperature, and number of moles of an ideal gas.",
                equation: "P  V = n  R  T",
                variables: [
                    {symbol: "P", description: "Pressure"},
                    {symbol: "V", description: "Volume"},
                    {symbol: "n", description: "Amount of substance"},
                    {symbol: "R", description: "Ideal gas constant (0.0821 Latm/(molK))"},
                    {symbol: "T", description: "Temperature"}
                ],
                inputs: [
                    {id: "n", label: "Amount of substance (n)", unit: "mol"},
                    {id: "T", label: "Temperature (T)", unit: "K"},
                    {id: "V", label: "Volume (V)", unit: "L"}
                ],
                calculate: (inputs) => {
                    const R = 0.0821; // Latm/(molK)
                    return (inputs.n * R * inputs.T) / inputs.V;
                },
                outputUnit: "atm",
                icon: "fas fa-wind",
                subject: "chemistry"
            },
            {
                id: 104,
                category: "acids-bases",
                title: "pH Calculation",
                description: "pH is a measure of the acidity or basicity of a solution. It is the negative logarithm of the hydrogen ion concentration.",
                equation: "pH = -log[H]",
                variables: [
                    {symbol: "pH", description: "pH value"},
                    {symbol: "[H]", description: "Hydrogen ion concentration"}
                ],
                inputs: [
                    {id: "H_plus", label: "[H] concentration", unit: "mol/L"}
                ],
                calculate: (inputs) => -Math.log10(inputs.H_plus),
                outputUnit: "",
                icon: "fas fa-vial",
                subject: "chemistry"
            },
            {
                id: 105,
                category: "acids-bases",
                title: "pOH Calculation",
                description: "pOH is a measure of the hydroxide ion concentration in a solution. It is related to pH by pH + pOH = 14.",
                equation: "pOH = -log[OH]",
                variables: [
                    {symbol: "pOH", description: "pOH value"},
                    {symbol: "[OH]", description: "Hydroxide ion concentration"}
                ],
                inputs: [
                    {id: "OH_minus", label: "[OH] concentration", unit: "mol/L"}
                ],
                calculate: (inputs) => -Math.log10(inputs.OH_minus),
                outputUnit: "",
                icon: "fas fa-vial",
                subject: "chemistry"
            },
            {
                id: 106,
                category: "thermochemistry",
                title: "Enthalpy Change",
                description: "Enthalpy change (H) is the heat released or absorbed during a chemical reaction at constant pressure.",
                equation: "H = q / n",
                variables: [
                    {symbol: "H", description: "Enthalpy change"},
                    {symbol: "q", description: "Heat transferred"},
                    {symbol: "n", description: "Amount of substance"}
                ],
                inputs: [
                    {id: "q", label: "Heat transferred (q)", unit: "J"},
                    {id: "n", label: "Amount of substance (n)", unit: "mol"}
                ],
                calculate: (inputs) => inputs.q / inputs.n,
                outputUnit: "J/mol",
                icon: "fas fa-fire",
                subject: "chemistry"
            },
            {
                id: 107,
                category: "electrochemistry",
                title: "Faraday's Law",
                description: "Faraday's law of electrolysis relates the amount of substance deposited at an electrode to the electric charge passed through the electrolyte.",
                equation: "m = (Q  M) / (n  F)",
                variables: [
                    {symbol: "m", description: "Mass deposited"},
                    {symbol: "Q", description: "Electric charge"},
                    {symbol: "M", description: "Molar mass"},
                    {symbol: "n", description: "Number of electrons transferred"},
                    {symbol: "F", description: "Faraday constant (96485 C/mol)"}
                ],
                inputs: [
                    {id: "Q", label: "Electric charge (Q)", unit: "C"},
                    {id: "M", label: "Molar mass (M)", unit: "g/mol"},
                    {id: "n", label: "Number of electrons (n)", unit: ""}
                ],
                calculate: (inputs) => {
                    const F = 96485; // Faraday constant in C/mol
                    return (inputs.Q * inputs.M) / (inputs.n * F);
                },
                outputUnit: "g",
                icon: "fas fa-car-battery",
                subject: "chemistry"
            },
            {
                id: 108,
                category: "solutions",
                title: "Molarity",
                description: "Molarity is the concentration of a solution expressed as moles of solute per liter of solution.",
                equation: "M = n / V",
                variables: [
                    {symbol: "M", description: "Molarity"},
                    {symbol: "n", description: "Amount of solute"},
                    {symbol: "V", description: "Volume of solution"}
                ],
                inputs: [
                    {id: "n", label: "Amount of solute (n)", unit: "mol"},
                    {id: "V", label: "Volume of solution (V)", unit: "L"}
                ],
                calculate: (inputs) => inputs.n / inputs.V,
                outputUnit: "mol/L",
                icon: "fas fa-glass-whiskey",
                subject: "chemistry"
            },
            {
                id: 109,
                category: "kinetics",
                title: "Reaction Rate",
                description: "The rate of a chemical reaction is the change in concentration of a reactant or product per unit time.",
                equation: "Rate = -[A] / t",
                variables: [
                    {symbol: "Rate", description: "Reaction rate"},
                    {symbol: "[A]", description: "Change in concentration of A"},
                    {symbol: "t", description: "Time interval"}
                ],
                inputs: [
                    {id: "delta_A", label: "Change in [A] ([A])", unit: "mol/L"},
                    {id: "delta_t", label: "Time interval (t)", unit: "s"}
                ],
                calculate: (inputs) => -inputs.delta_A / inputs.delta_t,
                outputUnit: "mol/(Ls)",
                icon: "fas fa-tachometer-alt",
                subject: "chemistry"
            },
            {
                id: 110,
                category: "equilibrium",
                title: "Equilibrium Constant",
                description: "The equilibrium constant (Kc) expresses the relationship between the concentrations of reactants and products at equilibrium.",
                equation: "Kc = [C]^c  [D]^d / ([A]^a  [B]^b)",
                variables: [
                    {symbol: "Kc", description: "Equilibrium constant"},
                    {symbol: "[A],[B]", description: "Reactant concentrations"},
                    {symbol: "[C],[D]", description: "Product concentrations"},
                    {symbol: "a,b,c,d", description: "Stoichiometric coefficients"}
                ],
                inputs: [
                    {id: "C", label: "[C] concentration", unit: "mol/L"},
                    {id: "D", label: "[D] concentration", unit: "mol/L"},
                    {id: "A", label: "[A] concentration", unit: "mol/L"},
                    {id: "B", label: "[B] concentration", unit: "mol/L"}
                ],
                calculate: (inputs) => {
                    // Simplified calculation for aA + bB  cC + dD
                    // Assuming stoichiometric coefficients are all 1 for simplicity
                    return (inputs.C * inputs.D) / (inputs.A * inputs.B);
                },
                outputUnit: "",
                icon: "fas fa-balance-scale-left",
                subject: "chemistry"
            },
{
    id: 123,
    category: "stoichiometry",
    title: "Empirical Formula",
    description: "Calculate empirical formula from percentage composition.",
    equation: "Convert % to moles, divide by smallest, get ratio",
    variables: [
        {symbol: "C%", description: "Carbon percentage"},
        {symbol: "H%", description: "Hydrogen percentage"},
        {symbol: "O%", description: "Oxygen percentage"}
    ],
    inputs: [
        {id: "C_percent", label: "Carbon % (C%)", unit: "%"},
        {id: "H_percent", label: "Hydrogen % (H%)", unit: "%"},
        {id: "O_percent", label: "Oxygen % (O%)", unit: "%"}
    ],
    calculate: (inputs) => {
        // Convert percentages to moles
        const molesC = inputs.C_percent / 12.01;
        const molesH = inputs.H_percent / 1.008;
        const molesO = inputs.O_percent / 16.00;
        
        // Find smallest
        const smallest = Math.min(molesC, molesH, molesO);
        
        // Calculate ratios
        const ratioC = Math.round(molesC / smallest * 100) / 100;
        const ratioH = Math.round(molesH / smallest * 100) / 100;
        const ratioO = Math.round(molesO / smallest * 100) / 100;
        
        return `C${ratioC}H${ratioH}O${ratioO}`;
    },
    outputUnit: "",
    icon: "fas fa-vial",
    subject: "chemistry"
},
{
    id: 124,
    category: "gas-laws",
    title: "Gay-Lussac's Law",
    description: "At constant volume, pressure is directly proportional to temperature.",
    equation: "P/T = P/T",
    variables: [
        {symbol: "P", description: "Initial pressure"},
        {symbol: "T", description: "Initial temperature"},
        {symbol: "P", description: "Final pressure"},
        {symbol: "T", description: "Final temperature"}
    ],
    inputs: [
        {id: "P1", label: "Initial pressure (P)", unit: "atm"},
        {id: "T1", label: "Initial temperature (T)", unit: "K"},
        {id: "T2", label: "Final temperature (T)", unit: "K"}
    ],
    calculate: (inputs) => (inputs.P1 * inputs.T2) / inputs.T1,
    outputUnit: "atm",
    icon: "fas fa-temperature-high",
    subject: "chemistry"
},
{
    id: 125,
    category: "gas-laws",
    title: "Combined Gas Law",
    description: "Combines Boyle's, Charles's, and Gay-Lussac's laws.",
    equation: "PV/T = PV/T",
    variables: [
        {symbol: "P,V,T", description: "Initial conditions"},
        {symbol: "P,V,T", description: "Final conditions"}
    ],
    inputs: [
        {id: "P1", label: "Initial pressure (P)", unit: "atm"},
        {id: "V1", label: "Initial volume (V)", unit: "L"},
        {id: "T1", label: "Initial temperature (T)", unit: "K"},
        {id: "P2", label: "Final pressure (P)", unit: "atm"},
        {id: "T2", label: "Final temperature (T)", unit: "K"}
    ],
    calculate: (inputs) => (inputs.P1 * inputs.V1 * inputs.T2) / (inputs.P2 * inputs.T1),
    outputUnit: "L",
    icon: "fas fa-gas-pump",
    subject: "chemistry"
},
{
    id: 126,
    category: "thermochemistry",
    title: "Hess's Law",
    description: "Total enthalpy change is sum of enthalpy changes for each step.",
    equation: "H_total = H_steps",
    variables: [
        {symbol: "H", description: "Enthalpy change step 1"},
        {symbol: "H", description: "Enthalpy change step 2"},
        {symbol: "H", description: "Enthalpy change step 3"}
    ],
    inputs: [
        {id: "delta_H1", label: "H step 1", unit: "kJ/mol"},
        {id: "delta_H2", label: "H step 2", unit: "kJ/mol"},
        {id: "delta_H3", label: "H step 3", unit: "kJ/mol"}
    ],
    calculate: (inputs) => inputs.delta_H1 + inputs.delta_H2 + inputs.delta_H3,
    outputUnit: "kJ/mol",
    icon: "fas fa-layer-group",
    subject: "chemistry"
},
{
    id: 127,
    category: "acids-bases",
    title: "Ka from pH",
    description: "Calculate acid dissociation constant from pH and concentration.",
    equation: "Ka = [H] / (C - [H])",
    variables: [
        {symbol: "Ka", description: "Acid dissociation constant"},
        {symbol: "[H]", description: "Hydrogen ion concentration"},
        {symbol: "C", description: "Initial acid concentration"}
    ],
    inputs: [
        {id: "H_plus", label: "[H] concentration", unit: "mol/L"},
        {id: "C", label: "Initial concentration (C)", unit: "mol/L"}
    ],
    calculate: (inputs) => Math.pow(inputs.H_plus, 2) / (inputs.C - inputs.H_plus),
    outputUnit: "",
    icon: "fas fa-vial",
    subject: "chemistry"
},
{
    id: 128,
    category: "acids-bases",
    title: "Kb from pOH",
    description: "Calculate base dissociation constant from pOH and concentration.",
    equation: "Kb = [OH] / (C - [OH])",
    variables: [
        {symbol: "Kb", description: "Base dissociation constant"},
        {symbol: "[OH]", description: "Hydroxide ion concentration"},
        {symbol: "C", description: "Initial base concentration"}
    ],
    inputs: [
        {id: "OH_minus", label: "[OH] concentration", unit: "mol/L"},
        {id: "C", label: "Initial concentration (C)", unit: "mol/L"}
    ],
    calculate: (inputs) => Math.pow(inputs.OH_minus, 2) / (inputs.C - inputs.OH_minus),
    outputUnit: "",
    icon: "fas fa-flask",
    subject: "chemistry"
},
{
    id: 129,
    category: "equilibrium",
    title: "Kp from Kc",
    description: "Convert equilibrium constant from concentration to pressure units.",
    equation: "Kp = Kc  (RT)^n",
    variables: [
        {symbol: "Kp", description: "Equilibrium constant (pressure)"},
        {symbol: "Kc", description: "Equilibrium constant (concentration)"},
        {symbol: "R", description: "Gas constant (0.0821 Latm/(molK))"},
        {symbol: "T", description: "Temperature"},
        {symbol: "n", description: "Change in moles of gas"}
    ],
    inputs: [
        {id: "Kc", label: "Kc value", unit: ""},
        {id: "T", label: "Temperature (T)", unit: "K"},
        {id: "delta_n", label: "n (moles change)", unit: ""}
    ],
    calculate: (inputs) => {
        const R = 0.0821;
        return inputs.Kc * Math.pow(R * inputs.T, inputs.delta_n);
    },
    outputUnit: "",
    icon: "fas fa-balance-scale",
    subject: "chemistry"
},
{
    id: 130,
    category: "kinetics",
    title: "Arrhenius Equation",
    description: "Relationship between rate constant and temperature.",
    equation: "k = A  e^(-Ea/RT)",
    variables: [
        {symbol: "k", description: "Rate constant"},
        {symbol: "A", description: "Pre-exponential factor"},
        {symbol: "Ea", description: "Activation energy"},
        {symbol: "R", description: "Gas constant (8.314 J/(molK))"},
        {symbol: "T", description: "Temperature"}
    ],
    inputs: [
        {id: "A", label: "Pre-exponential factor (A)", unit: "s"},
        {id: "Ea", label: "Activation energy (Ea)", unit: "J/mol"},
        {id: "T", label: "Temperature (T)", unit: "K"}
    ],
    calculate: (inputs) => {
        const R = 8.314;
        return inputs.A * Math.exp(-inputs.Ea / (R * inputs.T));
    },
    outputUnit: "s",
    icon: "fas fa-chart-line",
    subject: "chemistry"
},
{
    id: 131,
    category: "electrochemistry",
    title: "Cell Potential from G",
    description: "Calculate standard cell potential from Gibbs free energy.",
    equation: "G = -nFE",
    variables: [
        {symbol: "G", description: "Standard Gibbs free energy"},
        {symbol: "n", description: "Number of electrons"},
        {symbol: "F", description: "Faraday constant (96485 C/mol)"},
        {symbol: "E", description: "Standard cell potential"}
    ],
    inputs: [
        {id: "delta_G", label: "G", unit: "J/mol"},
        {id: "n", label: "Number of electrons (n)", unit: ""}
    ],
    calculate: (inputs) => {
        const F = 96485;
        return -inputs.delta_G / (inputs.n * F);
    },
    outputUnit: "V",
    icon: "fas fa-battery-half",
    subject: "chemistry"
},
{
    id: 132,
    category: "electrochemistry",
    title: "Electrical Work",
    description: "Maximum electrical work obtainable from a galvanic cell.",
    equation: "W_max = -nFE",
    variables: [
        {symbol: "W_max", description: "Maximum work"},
        {symbol: "n", description: "Number of electrons"},
        {symbol: "F", description: "Faraday constant (96485 C/mol)"},
        {symbol: "E", description: "Cell potential"}
    ],
    inputs: [
        {id: "n", label: "Number of electrons (n)", unit: ""},
        {id: "E", label: "Cell potential (E)", unit: "V"}
    ],
    calculate: (inputs) => {
        const F = 96485;
        return -inputs.n * F * inputs.E;
    },
    outputUnit: "J",
    icon: "fas fa-bolt",
    subject: "chemistry"
},
{
    id: 133,
    category: "organic-chemistry",
    title: "Boiling Point Elevation",
    description: "Increase in boiling point due to dissolved solute.",
    equation: "T_b = K_b  m  i",
    variables: [
        {symbol: "T_b", description: "Boiling point elevation"},
        {symbol: "K_b", description: "Ebullioscopic constant"},
        {symbol: "m", description: "Molality"},
        {symbol: "i", description: "Van't Hoff factor"}
    ],
    inputs: [
        {id: "Kb", label: "K_b constant", unit: "Ckg/mol"},
        {id: "m", label: "Molality (m)", unit: "mol/kg"},
        {id: "i", label: "Van't Hoff factor (i)", unit: ""}
    ],
    calculate: (inputs) => inputs.Kb * inputs.m * inputs.i,
    outputUnit: "C",
    icon: "fas fa-thermometer",
    subject: "chemistry"
},
{
    id: 134,
    category: "organic-chemistry",
    title: "Freezing Point Depression",
    description: "Decrease in freezing point due to dissolved solute.",
    equation: "T_f = K_f  m  i",
    variables: [
        {symbol: "T_f", description: "Freezing point depression"},
        {symbol: "K_f", description: "Cryoscopic constant"},
        {symbol: "m", description: "Molality"},
        {symbol: "i", description: "Van't Hoff factor"}
    ],
    inputs: [
        {id: "Kf", label: "K_f constant", unit: "Ckg/mol"},
        {id: "m", label: "Molality (m)", unit: "mol/kg"},
        {id: "i", label: "Van't Hoff factor (i)", unit: ""}
    ],
    calculate: (inputs) => inputs.Kf * inputs.m * inputs.i,
    outputUnit: "C",
    icon: "fas fa-snowflake",
    subject: "chemistry"
},
{
    id: 135,
    category: "nuclear-chemistry",
    title: "Half-Life (Zero Order)",
    description: "Half-life for zero-order reactions (concentration independent).",
    equation: "t/ = [A] / (2k)",
    variables: [
        {symbol: "t/", description: "Half-life"},
        {symbol: "[A]", description: "Initial concentration"},
        {symbol: "k", description: "Rate constant"}
    ],
    inputs: [
        {id: "A0", label: "Initial concentration [A]", unit: "mol/L"},
        {id: "k", label: "Rate constant (k)", unit: "mol/(Ls)"}
    ],
    calculate: (inputs) => inputs.A0 / (2 * inputs.k),
    outputUnit: "s",
    icon: "fas fa-hourglass",
    subject: "chemistry"
},
{
    id: 136,
    category: "nuclear-chemistry",
    title: "Half-Life (Second Order)",
    description: "Half-life for second-order reactions.",
    equation: "t/ = 1 / (k[A])",
    variables: [
        {symbol: "t/", description: "Half-life"},
        {symbol: "k", description: "Rate constant"},
        {symbol: "[A]", description: "Initial concentration"}
    ],
    inputs: [
        {id: "k", label: "Rate constant (k)", unit: "L/(mols)"},
        {id: "A0", label: "Initial concentration [A]", unit: "mol/L"}
    ],
    calculate: (inputs) => 1 / (inputs.k * inputs.A0),
    outputUnit: "s",
    icon: "fas fa-hourglass-half",
    subject: "chemistry"
},
{
    id: 137,
    category: "solutions",
    title: "Osmotic Pressure",
    description: "Pressure required to prevent osmosis.",
    equation: " = iMRT",
    variables: [
        {symbol: "", description: "Osmotic pressure"},
        {symbol: "i", description: "Van't Hoff factor"},
        {symbol: "M", description: "Molarity"},
        {symbol: "R", description: "Gas constant (0.0821 Latm/(molK))"},
        {symbol: "T", description: "Temperature"}
    ],
    inputs: [
        {id: "i", label: "Van't Hoff factor (i)", unit: ""},
        {id: "M", label: "Molarity (M)", unit: "mol/L"},
        {id: "T", label: "Temperature (T)", unit: "K"}
    ],
    calculate: (inputs) => {
        const R = 0.0821;
        return inputs.i * inputs.M * R * inputs.T;
    },
    outputUnit: "atm",
    icon: "fas fa-tint",
    subject: "chemistry"
},
{
    id: 138,
    category: "solutions",
    title: "Raoult's Law",
    description: "Vapor pressure of ideal solution is mole fraction times pure solvent vapor pressure.",
    equation: "P_solution = X_solvent  P_solvent",
    variables: [
        {symbol: "P_solution", description: "Vapor pressure of solution"},
        {symbol: "X_solvent", description: "Mole fraction of solvent"},
        {symbol: "P_solvent", description: "Vapor pressure of pure solvent"}
    ],
    inputs: [
        {id: "X_solvent", label: "Mole fraction (X_solvent)", unit: ""},
        {id: "P0_solvent", label: "Pure solvent P", unit: "atm"}
    ],
    calculate: (inputs) => inputs.X_solvent * inputs.P0_solvent,
    outputUnit: "atm",
    icon: "fas fa-cloud",
    subject: "chemistry"
},
{
    id: 139,
    category: "solutions",
    title: "Henry's Law",
    description: "Solubility of gas is proportional to its partial pressure.",
    equation: "C = k_H  P",
    variables: [
        {symbol: "C", description: "Concentration of gas"},
        {symbol: "k_H", description: "Henry's constant"},
        {symbol: "P", description: "Partial pressure"}
    ],
    inputs: [
        {id: "kH", label: "Henry's constant (k_H)", unit: "mol/(Latm)"},
        {id: "P", label: "Partial pressure (P)", unit: "atm"}
    ],
    calculate: (inputs) => inputs.kH * inputs.P,
    outputUnit: "mol/L",
    icon: "fas fa-wind",
    subject: "chemistry"
},
{
    id: 140,
    category: "solutions",
    title: "Parts Per Million (ppm)",
    description: "Concentration in parts per million.",
    equation: "ppm = (mass of solute / mass of solution)  10",
    variables: [
        {symbol: "ppm", description: "Parts per million"},
        {symbol: "mass_solute", description: "Mass of solute"},
        {symbol: "mass_solution", description: "Mass of solution"}
    ],
    inputs: [
        {id: "mass_solute", label: "Mass of solute", unit: "g"},
        {id: "mass_solution", label: "Mass of solution", unit: "g"}
    ],
    calculate: (inputs) => (inputs.mass_solute / inputs.mass_solution) * 1e6,
    outputUnit: "ppm",
    icon: "fas fa-percentage",
    subject: "chemistry"
},
{
    id: 141,
    category: "solutions",
    title: "Parts Per Billion (ppb)",
    description: "Concentration in parts per billion.",
    equation: "ppb = (mass of solute / mass of solution)  10",
    variables: [
        {symbol: "ppb", description: "Parts per billion"},
        {symbol: "mass_solute", description: "Mass of solute"},
        {symbol: "mass_solution", description: "Mass of solution"}
    ],
    inputs: [
        {id: "mass_solute", label: "Mass of solute", unit: "g"},
        {id: "mass_solution", label: "Mass of solution", unit: "g"}
    ],
    calculate: (inputs) => (inputs.mass_solute / inputs.mass_solution) * 1e9,
    outputUnit: "ppb",
    icon: "fas fa-percentage",
    subject: "chemistry"
},
{
    id: 142,
    category: "chemical-equilibrium",
    title: "Reaction Quotient (Q)",
    description: "Ratio of product concentrations to reactant concentrations at any point.",
    equation: "Q = [products] / [reactants]",
    variables: [
        {symbol: "Q", description: "Reaction quotient"},
        {symbol: "[P]", description: "Product concentrations"},
        {symbol: "[R]", description: "Reactant concentrations"}
    ],
    inputs: [
        {id: "products", label: "Products concentration", unit: "mol/L"},
        {id: "reactants", label: "Reactants concentration", unit: "mol/L"}
    ],
    calculate: (inputs) => inputs.products / inputs.reactants,
    outputUnit: "",
    icon: "fas fa-balance-scale",
    subject: "chemistry"
},
{
    id: 143,
    category: "chemical-equilibrium",
    title: "G from K",
    description: "Calculate Gibbs free energy from equilibrium constant.",
    equation: "G = -RT ln K",
    variables: [
        {symbol: "G", description: "Standard Gibbs free energy"},
        {symbol: "R", description: "Gas constant (8.314 J/(molK))"},
        {symbol: "T", description: "Temperature"},
        {symbol: "K", description: "Equilibrium constant"}
    ],
    inputs: [
        {id: "T", label: "Temperature (T)", unit: "K"},
        {id: "K", label: "Equilibrium constant (K)", unit: ""}
    ],
    calculate: (inputs) => {
        const R = 8.314;
        return -R * inputs.T * Math.log(inputs.K);
    },
    outputUnit: "J/mol",
    icon: "fas fa-calculator",
    subject: "chemistry"
},
{
    id: 300,
    category: "motion",
    title: "Angular Velocity",
    description: "Rate of change of angular displacement.",
    equation: " = /t",
    variables: [
        {symbol: "", description: "Angular velocity"},
        {symbol: "", description: "Angular displacement"},
        {symbol: "t", description: "Time interval"}
    ],
    inputs: [
        {id: "delta_theta", label: " (radians)", unit: "rad"},
        {id: "delta_t", label: "t", unit: "s"}
    ],
    calculate: (inputs) => inputs.delta_theta / inputs.delta_t,
    outputUnit: "rad/s",
    icon: "fas fa-sync",
    subject: "physics"
},
{
    id: 301,
    category: "motion",
    title: "Angular Acceleration",
    description: "Rate of change of angular velocity.",
    equation: " = /t",
    variables: [
        {symbol: "", description: "Angular acceleration"},
        {symbol: "", description: "Change in angular velocity"},
        {symbol: "t", description: "Time interval"}
    ],
    inputs: [
        {id: "delta_omega", label: "", unit: "rad/s"},
        {id: "delta_t", label: "t", unit: "s"}
    ],
    calculate: (inputs) => inputs.delta_omega / inputs.delta_t,
    outputUnit: "rad/s",
    icon: "fas fa-redo",
    subject: "physics"
},
{
    id: 302,
    category: "dynamics",
    title: "Impulse-Momentum Theorem",
    description: "Impulse equals change in momentum.",
    equation: "J = F  t = p",
    variables: [
        {symbol: "J", description: "Impulse"},
        {symbol: "F", description: "Average force"},
        {symbol: "t", description: "Time interval"},
        {symbol: "p", description: "Change in momentum"}
    ],
    inputs: [
        {id: "F", label: "Force (F)", unit: "N"},
        {id: "delta_t", label: "Time (t)", unit: "s"}
    ],
    calculate: (inputs) => inputs.F * inputs.delta_t,
    outputUnit: "Ns",
    icon: "fas fa-bolt",
    subject: "physics"
},
{
    id: 303,
    category: "dynamics",
    title: "Conservation of Momentum",
    description: "Total momentum before equals total momentum after.",
    equation: "mv + mv = mv' + mv'",
    variables: [
        {symbol: "m, m", description: "Masses"},
        {symbol: "v, v", description: "Initial velocities"},
        {symbol: "v', v'", description: "Final velocities"}
    ],
    inputs: [
        {id: "m1", label: "Mass 1 (m)", unit: "kg"},
        {id: "v1", label: "Initial v", unit: "m/s"},
        {id: "m2", label: "Mass 2 (m)", unit: "kg"},
        {id: "v2", label: "Initial v", unit: "m/s"}
    ],
    calculate: (inputs) => inputs.m1 * inputs.v1 + inputs.m2 * inputs.v2,
    outputUnit: "kgm/s",
    icon: "fas fa-balance-scale",
    subject: "physics"
},
{
    id: 304,
    category: "energy",
    title: "Gravitational Potential Energy (General)",
    description: "Potential energy between two masses.",
    equation: "U = -G  (mm)/r",
    variables: [
        {symbol: "U", description: "Gravitational potential energy"},
        {symbol: "G", description: "Gravitational constant"},
        {symbol: "m, m", description: "Masses"},
        {symbol: "r", description: "Distance between centers"}
    ],
    inputs: [
        {id: "m1", label: "Mass 1 (m)", unit: "kg"},
        {id: "m2", label: "Mass 2 (m)", unit: "kg"},
        {id: "r", label: "Distance (r)", unit: "m"}
    ],
    calculate: (inputs) => {
        const G = 6.674e-11;
        return -G * inputs.m1 * inputs.m2 / inputs.r;
    },
    outputUnit: "J",
    icon: "fas fa-globe",
    subject: "physics"
},
{
    id: 305,
    category: "energy",
    title: "Rotational Kinetic Energy",
    description: "Kinetic energy due to rotation.",
    equation: "KE_rot =   I  ",
    variables: [
        {symbol: "KE_rot", description: "Rotational kinetic energy"},
        {symbol: "I", description: "Moment of inertia"},
        {symbol: "", description: "Angular velocity"}
    ],
    inputs: [
        {id: "I", label: "Moment of inertia (I)", unit: "kgm"},
        {id: "omega", label: "Angular velocity ()", unit: "rad/s"}
    ],
    calculate: (inputs) => 0.5 * inputs.I * Math.pow(inputs.omega, 2),
    outputUnit: "J",
    icon: "fas fa-sync",
    subject: "physics"
},
{
    id: 306,
    category: "electricity",
    title: "Capacitors in Series",
    description: "Total capacitance of capacitors in series.",
    equation: "1/C_total = 1/C + 1/C + 1/C",
    variables: [
        {symbol: "C_total", description: "Total capacitance"},
        {symbol: "C, C, C", description: "Individual capacitances"}
    ],
    inputs: [
        {id: "C1", label: "Capacitor 1 (C)", unit: "F"},
        {id: "C2", label: "Capacitor 2 (C)", unit: "F"},
        {id: "C3", label: "Capacitor 3 (C)", unit: "F"}
    ],
    calculate: (inputs) => 1 / (1/inputs.C1 + 1/inputs.C2 + 1/inputs.C3),
    outputUnit: "F",
    icon: "fas fa-layer-group",
    subject: "physics"
},
{
    id: 307,
    category: "electricity",
    title: "Capacitors in Parallel",
    description: "Total capacitance of capacitors in parallel.",
    equation: "C_total = C + C + C",
    variables: [
        {symbol: "C_total", description: "Total capacitance"},
        {symbol: "C, C, C", description: "Individual capacitances"}
    ],
    inputs: [
        {id: "C1", label: "Capacitor 1 (C)", unit: "F"},
        {id: "C2", label: "Capacitor 2 (C)", unit: "F"},
        {id: "C3", label: "Capacitor 3 (C)", unit: "F"}
    ],
    calculate: (inputs) => inputs.C1 + inputs.C2 + inputs.C3,
    outputUnit: "F",
    icon: "fas fa-project-diagram",
    subject: "physics"
},
{
    id: 308,
    category: "waves",
    title: "Beat Frequency",
    description: "Frequency of amplitude variation from two close frequencies.",
    equation: "f_beat = |f - f|",
    variables: [
        {symbol: "f_beat", description: "Beat frequency"},
        {symbol: "f, f", description: "Source frequencies"}
    ],
    inputs: [
        {id: "f1", label: "Frequency 1 (f)", unit: "Hz"},
        {id: "f2", label: "Frequency 2 (f)", unit: "Hz"}
    ],
    calculate: (inputs) => Math.abs(inputs.f1 - inputs.f2),
    outputUnit: "Hz",
    icon: "fas fa-wave-square",
    subject: "physics"
},
{
    id: 309,
    category: "waves",
    title: "Standing Wave Wavelength",
    description: "Wavelength for standing wave on string fixed at both ends.",
    equation: " = 2L/n",
    variables: [
        {symbol: "", description: "Wavelength"},
        {symbol: "L", description: "Length of string"},
        {symbol: "n", description: "Harmonic number"}
    ],
    inputs: [
        {id: "L", label: "Length (L)", unit: "m"},
        {id: "n", label: "Harmonic (n)", unit: ""}
    ],
    calculate: (inputs) => 2 * inputs.L / inputs.n,
    outputUnit: "m",
    icon: "fas fa-guitar",
    subject: "physics"
},
{
    id: 310,
    category: "thermodynamics",
    title: "Carnot Efficiency",
    description: "Maximum possible efficiency of heat engine.",
    equation: " = 1 - T_c/T_h",
    variables: [
        {symbol: "", description: "Carnot efficiency"},
        {symbol: "T_c", description: "Cold reservoir temperature"},
        {symbol: "T_h", description: "Hot reservoir temperature"}
    ],
    inputs: [
        {id: "T_c", label: "T_c (cold)", unit: "K"},
        {id: "T_h", label: "T_h (hot)", unit: "K"}
    ],
    calculate: (inputs) => 1 - (inputs.T_c / inputs.T_h),
    outputUnit: "",
    icon: "fas fa-tachometer-alt",
    subject: "physics"
},
{
    id: 311,
    category: "thermodynamics",
    title: "Adiabatic Process",
    description: "PV^ = constant",
    equation: "PV^ = constant",
    variables: [
        {symbol: "P", description: "Pressure"},
        {symbol: "V", description: "Volume"},
        {symbol: "", description: "Heat capacity ratio"}
    ],
    inputs: [
        {id: "P1", label: "Initial pressure (P)", unit: "Pa"},
        {id: "V1", label: "Initial volume (V)", unit: "m"},
        {id: "V2", label: "Final volume (V)", unit: "m"},
        {id: "gamma", label: " (Cp/Cv)", unit: ""}
    ],
    calculate: (inputs) => inputs.P1 * Math.pow(inputs.V1, inputs.gamma) / Math.pow(inputs.V2, inputs.gamma),
    outputUnit: "Pa",
    icon: "fas fa-compress-arrows-alt",
    subject: "physics"
},
{
    id: 312,
    category: "modern-physics",
    title: "Compton Scattering",
    description: "Wavelength shift in photon scattering.",
    equation: " = (h/mc)(1 - cos)",
    variables: [
        {symbol: "", description: "Wavelength shift"},
        {symbol: "h", description: "Planck's constant"},
        {symbol: "m", description: "Electron mass"},
        {symbol: "c", description: "Speed of light"},
        {symbol: "", description: "Scattering angle"}
    ],
    inputs: [
        {id: "theta", label: "Angle ()", unit: ""}
    ],
    calculate: (inputs) => {
        const h = 6.626e-34;
        const m = 9.109e-31;
        const c = 3e8;
        const thetaRad = inputs.theta * Math.PI / 180;
        return (h/(m*c)) * (1 - Math.cos(thetaRad));
    },
    outputUnit: "m",
    icon: "fas fa-atom",
    subject: "physics"
},
{
    id: 313,
    category: "modern-physics",
    title: "Rydberg Formula",
    description: "Calculate wavelengths of hydrogen spectral lines.",
    equation: "1/ = R(1/n - 1/n)",
    variables: [
        {symbol: "", description: "Wavelength"},
        {symbol: "R", description: "Rydberg constant"},
        {symbol: "n, n", description: "Energy levels"}
    ],
    inputs: [
        {id: "n1", label: "Initial level (n)", unit: ""},
        {id: "n2", label: "Final level (n)", unit: ""}
    ],
    calculate: (inputs) => {
        const R = 1.097e7;
        return 1 / (R * (1/Math.pow(inputs.n1, 2) - 1/Math.pow(inputs.n2, 2)));
    },
    outputUnit: "m",
    icon: "fas fa-lightbulb",
    subject: "physics"
},
{
    id: 314,
    category: "astrophysics",
    title: "Luminosity",
    description: "Total energy radiated per unit time.",
    equation: "L = 4RT",
    variables: [
        {symbol: "L", description: "Luminosity"},
        {symbol: "R", description: "Radius"},
        {symbol: "", description: "Stefan-Boltzmann constant"},
        {symbol: "T", description: "Temperature"}
    ],
    inputs: [
        {id: "R", label: "Radius (R)", unit: "m"},
        {id: "T", label: "Temperature (T)", unit: "K"}
    ],
    calculate: (inputs) => {
        const sigma = 5.67e-8;
        return 4 * Math.PI * Math.pow(inputs.R, 2) * sigma * Math.pow(inputs.T, 4);
    },
    outputUnit: "W",
    icon: "fas fa-sun",
    subject: "physics"
},
{
    id: 315,
    category: "astrophysics",
    title: "Schwarzschild Radius",
    description: "Radius of event horizon for non-rotating black hole.",
    equation: "R_s = 2GM/c",
    variables: [
        {symbol: "R_s", description: "Schwarzschild radius"},
        {symbol: "G", description: "Gravitational constant"},
        {symbol: "M", description: "Mass"},
        {symbol: "c", description: "Speed of light"}
    ],
    inputs: [
        {id: "M", label: "Mass (M)", unit: "kg"}
    ],
    calculate: (inputs) => {
        const G = 6.674e-11;
        const c = 3e8;
        return (2 * G * inputs.M) / Math.pow(c, 2);
    },
    outputUnit: "m",
    icon: "fas fa-circle",
    subject: "physics"
},
{
    id: 316,
    category: "fluid-mechanics",
    title: "Stokes' Law",
    description: "Drag force on sphere in viscous fluid.",
    equation: "F_d = 6rv",
    variables: [
        {symbol: "F_d", description: "Drag force"},
        {symbol: "", description: "Viscosity"},
        {symbol: "r", description: "Radius of sphere"},
        {symbol: "v", description: "Velocity"}
    ],
    inputs: [
        {id: "eta", label: "Viscosity ()", unit: "Pas"},
        {id: "r", label: "Radius (r)", unit: "m"},
        {id: "v", label: "Velocity (v)", unit: "m/s"}
    ],
    calculate: (inputs) => 6 * Math.PI * inputs.eta * inputs.r * inputs.v,
    outputUnit: "N",
    icon: "fas fa-tint",
    subject: "physics"
},
{
    id: 317,
    category: "fluid-mechanics",
    title: "Reynolds Number",
    description: "Predict flow pattern in fluid.",
    equation: "Re = vD/",
    variables: [
        {symbol: "Re", description: "Reynolds number"},
        {symbol: "", description: "Density"},
        {symbol: "v", description: "Velocity"},
        {symbol: "D", description: "Diameter"},
        {symbol: "", description: "Viscosity"}
    ],
    inputs: [
        {id: "rho", label: "Density ()", unit: "kg/m"},
        {id: "v", label: "Velocity (v)", unit: "m/s"},
        {id: "D", label: "Diameter (D)", unit: "m"},
        {id: "eta", label: "Viscosity ()", unit: "Pas"}
    ],
    calculate: (inputs) => (inputs.rho * inputs.v * inputs.D) / inputs.eta,
    outputUnit: "",
    icon: "fas fa-water",
    subject: "physics"
},
{
    id: 318,
    category: "motion",
    title: "Simple Harmonic Motion (Period)",
    description: "Period of mass-spring system.",
    equation: "T = 2(m/k)",
    variables: [
        {symbol: "T", description: "Period"},
        {symbol: "m", description: "Mass"},
        {symbol: "k", description: "Spring constant"}
    ],
    inputs: [
        {id: "m", label: "Mass (m)", unit: "kg"},
        {id: "k", label: "Spring constant (k)", unit: "N/m"}
    ],
    calculate: (inputs) => 2 * Math.PI * Math.sqrt(inputs.m / inputs.k),
    outputUnit: "s",
    icon: "fas fa-spring",
    subject: "physics"
},
{
    id: 319,
    category: "dynamics",
    title: "Moment of Inertia (Point Mass)",
    description: "Moment of inertia for point mass at distance r.",
    equation: "I = mr",
    variables: [
        {symbol: "I", description: "Moment of inertia"},
        {symbol: "m", description: "Mass"},
        {symbol: "r", description: "Distance from axis"}
    ],
    inputs: [
        {id: "m", label: "Mass (m)", unit: "kg"},
        {id: "r", label: "Distance (r)", unit: "m"}
    ],
    calculate: (inputs) => inputs.m * Math.pow(inputs.r, 2),
    outputUnit: "kgm",
    icon: "fas fa-circle",
    subject: "physics"
},
{
    id: 320,
    category: "energy",
    title: "Power in Rotational Motion",
    description: "Power for rotating system.",
    equation: "P =   ",
    variables: [
        {symbol: "P", description: "Power"},
        {symbol: "", description: "Torque"},
        {symbol: "", description: "Angular velocity"}
    ],
    inputs: [
        {id: "tau", label: "Torque ()", unit: "Nm"},
        {id: "omega", label: "Angular velocity ()", unit: "rad/s"}
    ],
    calculate: (inputs) => inputs.tau * inputs.omega,
    outputUnit: "W",
    icon: "fas fa-cog",
    subject: "physics"
},
// ===== ADDITIONAL CHEMISTRY FORMULAS -  =====
{
    id: 225,
    category: "stoichiometry",
    title: "Theoretical Yield",
    description: "Maximum amount of product that can be produced from given reactants.",
    equation: "Based on limiting reagent",
    variables: [
        {symbol: "moles_LR", description: "Moles of limiting reagent"},
        {symbol: "stoich_ratio", description: "Stoichiometric ratio"},
        {symbol: "M_product", description: "Molar mass of product"}
    ],
    inputs: [
        {id: "moles_LR", label: "Moles of limiting reagent", unit: "mol"},
        {id: "ratio", label: "Mole ratio (product:reactant)", unit: ""},
        {id: "M_product", label: "Molar mass of product", unit: "g/mol"}
    ],
    calculate: (inputs) => inputs.moles_LR * inputs.ratio * inputs.M_product,
    outputUnit: "g",
    icon: "fas fa-calculator",
    subject: "chemistry"
},
{
    id: 226,
    category: "stoichiometry",
    title: "Atom Economy",
    description: "Percentage of reactant atoms incorporated into desired product.",
    equation: "% atom economy = (M_desired_product / M_reactants)  100%",
    variables: [
        {symbol: "% atom economy", description: "Atom efficiency"},
        {symbol: "M_product", description: "Molar mass of desired product"},
        {symbol: "M_reactants", description: "Sum of molar masses of all reactants"}
    ],
    inputs: [
        {id: "M_product", label: "Molar mass product", unit: "g/mol"},
        {id: "sum_M_reactants", label: "Sum molar masses reactants", unit: "g/mol"}
    ],
    calculate: (inputs) => (inputs.M_product / inputs.sum_M_reactants) * 100,
    outputUnit: "%",
    icon: "fas fa-recycle",
    subject: "chemistry"
},
{
    id: 227,
    category: "gas-laws",
    title: "Van der Waals Equation",
    description: "Modified ideal gas law accounting for molecular size and intermolecular forces.",
    equation: "(P + a(n/V))(V - nb) = nRT",
    variables: [
        {symbol: "P", description: "Pressure"},
        {symbol: "V", description: "Volume"},
        {symbol: "n", description: "Number of moles"},
        {symbol: "R", description: "Gas constant"},
        {symbol: "T", description: "Temperature"},
        {symbol: "a,b", description: "Van der Waals constants"}
    ],
    inputs: [
        {id: "n", label: "Moles (n)", unit: "mol"},
        {id: "T", label: "Temperature (T)", unit: "K"},
        {id: "V", label: "Volume (V)", unit: "L"},
        {id: "a", label: "Constant a", unit: "Latm/mol"},
        {id: "b", label: "Constant b", unit: "L/mol"}
    ],
    calculate: (inputs) => {
        const R = 0.0821;
        const term1 = inputs.a * Math.pow(inputs.n/inputs.V, 2);
        const term2 = inputs.V - inputs.n * inputs.b;
        return (inputs.n * R * inputs.T / term2) - term1;
    },
    outputUnit: "atm",
    icon: "fas fa-molecule",
    subject: "chemistry"
},
{
    id: 228,
    category: "thermochemistry",
    title: "Entropy Change",
    description: "Measure of disorder or randomness in a system.",
    equation: "S = q_rev/T",
    variables: [
        {symbol: "S", description: "Entropy change"},
        {symbol: "q_rev", description: "Reversible heat transfer"},
        {symbol: "T", description: "Temperature"}
    ],
    inputs: [
        {id: "q_rev", label: "Reversible heat (q_rev)", unit: "J"},
        {id: "T", label: "Temperature (T)", unit: "K"}
    ],
    calculate: (inputs) => inputs.q_rev / inputs.T,
    outputUnit: "J/K",
    icon: "fas fa-random",
    subject: "chemistry"
},
{
    id: 229,
    category: "thermochemistry",
    title: "Gibbs Free Energy",
    description: "Energy available to do work at constant temperature and pressure.",
    equation: "G = H - TS",
    variables: [
        {symbol: "G", description: "Gibbs free energy change"},
        {symbol: "H", description: "Enthalpy change"},
        {symbol: "T", description: "Temperature"},
        {symbol: "S", description: "Entropy change"}
    ],
    inputs: [
        {id: "delta_H", label: "H", unit: "J/mol"},
        {id: "T", label: "Temperature (T)", unit: "K"},
        {id: "delta_S", label: "S", unit: "J/(molK)"}
    ],
    calculate: (inputs) => inputs.delta_H - inputs.T * inputs.delta_S,
    outputUnit: "J/mol",
    icon: "fas fa-bolt",
    subject: "chemistry"
},
{
    id: 230,
    category: "acids-bases",
    title: "Buffer Capacity",
    description: "Ability of buffer to resist pH change upon addition of acid or base.",
    equation: " = dn/d(pH)",
    variables: [
        {symbol: "", description: "Buffer capacity"},
        {symbol: "dn", description: "Moles of strong acid/base added"},
        {symbol: "d(pH)", description: "Change in pH"}
    ],
    inputs: [
        {id: "dn", label: "Moles added", unit: "mol"},
        {id: "d_pH", label: "pH change", unit: ""}
    ],
    calculate: (inputs) => inputs.dn / inputs.d_pH,
    outputUnit: "mol/pH",
    icon: "fas fa-shield-alt",
    subject: "chemistry"
},
{
    id: 231,
    category: "acids-bases",
    title: "Henderson-Hasselbalch Equation",
    description: "Calculate pH of buffer solution.",
    equation: "pH = pKa + log([A]/[HA])",
    variables: [
        {symbol: "pH", description: "pH of buffer"},
        {symbol: "pKa", description: "Acid dissociation constant"},
        {symbol: "[A]", description: "Concentration of conjugate base"},
        {symbol: "[HA]", description: "Concentration of weak acid"}
    ],
    inputs: [
        {id: "pKa", label: "pKa value", unit: ""},
        {id: "conj_base", label: "[A] concentration", unit: "M"},
        {id: "weak_acid", label: "[HA] concentration", unit: "M"}
    ],
    calculate: (inputs) => inputs.pKa + Math.log10(inputs.conj_base / inputs.weak_acid),
    outputUnit: "",
    icon: "fas fa-vial",
    subject: "chemistry"
},
{
    id: 232,
    category: "equilibrium",
    title: "Solubility Product Constant",
    description: "Equilibrium constant for dissolution of sparingly soluble salt.",
    equation: "Ksp = [A][B]",
    variables: [
        {symbol: "Ksp", description: "Solubility product constant"},
        {symbol: "[A]", description: "Concentration of cation"},
        {symbol: "[B]", description: "Concentration of anion"},
        {symbol: "m,n", description: "Stoichiometric coefficients"}
    ],
    inputs: [
        {id: "cation", label: "[Cation] concentration", unit: "M"},
        {id: "anion", label: "[Anion] concentration", unit: "M"},
        {id: "m", label: "Coefficient m", unit: ""},
        {id: "n", label: "Coefficient n", unit: ""}
    ],
    calculate: (inputs) => Math.pow(inputs.cation, inputs.m) * Math.pow(inputs.anion, inputs.n),
    outputUnit: "",
    icon: "fas fa-vial",
    subject: "chemistry"
},
{
    id: 233,
    category: "kinetics",
    title: "Integrated Rate Law (Zero Order)",
    description: "Concentration vs time for zero-order reactions.",
    equation: "[A] = [A] - kt",
    variables: [
        {symbol: "[A]", description: "Concentration at time t"},
        {symbol: "[A]", description: "Initial concentration"},
        {symbol: "k", description: "Rate constant"},
        {symbol: "t", description: "Time"}
    ],
    inputs: [
        {id: "A0", label: "Initial [A]", unit: "M"},
        {id: "k", label: "Rate constant (k)", unit: "M/s"},
        {id: "t", label: "Time (t)", unit: "s"}
    ],
    calculate: (inputs) => inputs.A0 - inputs.k * inputs.t,
    outputUnit: "M",
    icon: "fas fa-chart-line",
    subject: "chemistry"
},
{
    id: 234,
    category: "kinetics",
    title: "Integrated Rate Law (First Order)",
    description: "Concentration vs time for first-order reactions.",
    equation: "ln[A] = ln[A] - kt",
    variables: [
        {symbol: "[A]", description: "Concentration at time t"},
        {symbol: "[A]", description: "Initial concentration"},
        {symbol: "k", description: "Rate constant"},
        {symbol: "t", description: "Time"}
    ],
    inputs: [
        {id: "A0", label: "Initial [A]", unit: "M"},
        {id: "k", label: "Rate constant (k)", unit: "s"},
        {id: "t", label: "Time (t)", unit: "s"}
    ],
    calculate: (inputs) => Math.log(inputs.A0) - inputs.k * inputs.t,
    outputUnit: "ln(M)",
    icon: "fas fa-chart-line",
    subject: "chemistry"
},
{
    id: 235,
    category: "electrochemistry",
    title: "Conductivity",
    description: "Ability of solution to conduct electric current.",
    equation: " = G  (l/A)",
    variables: [
        {symbol: "", description: "Conductivity"},
        {symbol: "G", description: "Conductance"},
        {symbol: "l", description: "Distance between electrodes"},
        {symbol: "A", description: "Cross-sectional area"}
    ],
    inputs: [
        {id: "G", label: "Conductance (G)", unit: "S"},
        {id: "l", label: "Distance (l)", unit: "m"},
        {id: "A", label: "Area (A)", unit: "m"}
    ],
    calculate: (inputs) => inputs.G * (inputs.l / inputs.A),
    outputUnit: "S/m",
    icon: "fas fa-bolt",
    subject: "chemistry"
},
{
    id: 236,
    category: "electrochemistry",
    title: "Molar Conductivity",
    description: "Conductivity per unit concentration.",
    equation: "_m = /c",
    variables: [
        {symbol: "_m", description: "Molar conductivity"},
        {symbol: "", description: "Conductivity"},
        {symbol: "c", description: "Concentration"}
    ],
    inputs: [
        {id: "kappa", label: "Conductivity ()", unit: "S/m"},
        {id: "c", label: "Concentration (c)", unit: "mol/m"}
    ],
    calculate: (inputs) => inputs.kappa / inputs.c,
    outputUnit: "Sm/mol",
    icon: "fas fa-chart-bar",
    subject: "chemistry"
},
{
    id: 237,
    category: "organic-chemistry",
    title: "Optical Activity",
    description: "Rotation of plane-polarized light by chiral compounds.",
    equation: "[] = /(lc)",
    variables: [
        {symbol: "[]", description: "Specific rotation"},
        {symbol: "", description: "Observed rotation"},
        {symbol: "l", description: "Path length"},
        {symbol: "c", description: "Concentration"}
    ],
    inputs: [
        {id: "alpha_obs", label: "Observed rotation ()", unit: ""},
        {id: "l", label: "Path length (l)", unit: "dm"},
        {id: "c", label: "Concentration (c)", unit: "g/mL"}
    ],
    calculate: (inputs) => inputs.alpha_obs / (inputs.l * inputs.c),
    outputUnit: "mL/(gdm)",
    icon: "fas fa-sync",
    subject: "chemistry"
},
{
    id: 238,
    category: "organic-chemistry",
    title: "Retention Factor (TLC)",
    description: "Ratio of distance traveled by compound to solvent front.",
    equation: "R_f = distance_compound / distance_solvent",
    variables: [
        {symbol: "R_f", description: "Retention factor"},
        {symbol: "distance_compound", description: "Distance traveled by compound"},
        {symbol: "distance_solvent", description: "Distance traveled by solvent"}
    ],
    inputs: [
        {id: "dist_compound", label: "Distance compound", unit: "cm"},
        {id: "dist_solvent", label: "Distance solvent", unit: "cm"}
    ],
    calculate: (inputs) => inputs.dist_compound / inputs.dist_solvent,
    outputUnit: "",
    icon: "fas fa-ruler",
    subject: "chemistry"
},
{
    id: 239,
    category: "nuclear-chemistry",
    title: "Decay Constant from Half-Life",
    description: "Calculate decay constant from half-life.",
    equation: " = ln(2)/t/",
    variables: [
        {symbol: "", description: "Decay constant"},
        {symbol: "t/", description: "Half-life"}
    ],
    inputs: [
        {id: "t_half", label: "Half-life (t/)", unit: "s"}
    ],
    calculate: (inputs) => Math.log(2) / inputs.t_half,
    outputUnit: "s",
    icon: "fas fa-hourglass-half",
    subject: "chemistry"
},
{
    id: 240,
    category: "nuclear-chemistry",
    title: "Nuclear Reaction Energy",
    description: "Energy released in nuclear reaction from mass defect.",
    equation: "Q = (m_initial - m_final)c",
    variables: [
        {symbol: "Q", description: "Energy released"},
        {symbol: "m_initial", description: "Total initial mass"},
        {symbol: "m_final", description: "Total final mass"},
        {symbol: "c", description: "Speed of light"}
    ],
    inputs: [
        {id: "m_initial", label: "Initial mass", unit: "kg"},
        {id: "m_final", label: "Final mass", unit: "kg"}
    ],
    calculate: (inputs) => (inputs.m_initial - inputs.m_final) * Math.pow(3e8, 2),
    outputUnit: "J",
    icon: "fas fa-atom",
    subject: "chemistry"
},
{
    id: 241,
    category: "solutions",
    title: "Colligative Properties",
    description: "Properties depending on number of solute particles.",
    equation: "T = iK_m",
    variables: [
        {symbol: "T", description: "Change in property"},
        {symbol: "i", description: "Van't Hoff factor"},
        {symbol: "K", description: "Constant"},
        {symbol: "m", description: "Molality"}
    ],
    inputs: [
        {id: "i", label: "Van't Hoff factor (i)", unit: ""},
        {id: "K", label: "Constant (K)", unit: "Ckg/mol"},
        {id: "m", label: "Molality (m)", unit: "mol/kg"}
    ],
    calculate: (inputs) => inputs.i * inputs.K * inputs.m,
    outputUnit: "C",
    icon: "fas fa-snowflake",
    subject: "chemistry"
},
{
    id: 242,
    title: "Colligative Properties - Vapor Pressure Lowering",
    description: "Decrease in vapor pressure due to non-volatile solute.",
    equation: "P = X_solute  P_solvent",
    variables: [
        {symbol: "P", description: "Vapor pressure lowering"},
        {symbol: "X_solute", description: "Mole fraction of solute"},
        {symbol: "P_solvent", description: "Vapor pressure of pure solvent"}
    ],
    inputs: [
        {id: "X_solute", label: "Mole fraction solute", unit: ""},
        {id: "P0_solvent", label: "Pure solvent vapor pressure", unit: "mmHg"}
    ],
    calculate: (inputs) => inputs.X_solute * inputs.P0_solvent,
    outputUnit: "mmHg",
    icon: "fas fa-cloud",
    subject: "chemistry",
    category: "solutions"
},
{
    id: 243,
    category: "analytical-chemistry",
    title: "Standard Addition Method",
    description: "Method to determine unknown concentration by adding known standards.",
    equation: "C_unknown from calibration curve",
    variables: [
        {symbol: "signal", description: "Instrument response"},
        {symbol: "C_added", description: "Concentration of standard added"},
        {symbol: "V_sample", description: "Volume of sample"},
        {symbol: "V_total", description: "Total volume"}
    ],
    inputs: [
        {id: "signal", label: "Signal intensity", unit: ""},
        {id: "C_added", label: "Concentration added", unit: "M"},
        {id: "V_sample", label: "Sample volume", unit: "mL"},
        {id: "V_total", label: "Total volume", unit: "mL"}
    ],
    calculate: (inputs) => (inputs.signal * inputs.C_added * inputs.V_sample) / (inputs.V_total - inputs.V_sample),
    outputUnit: "M",
    icon: "fas fa-chart-line",
    subject: "chemistry"
},
{
    id: 244,
    category: "inorganic-chemistry",
    title: "Ligand Field Theory",
    description: "Energy splitting in transition metal complexes.",
    equation: " = 10Dq",
    variables: [
        {symbol: "", description: "Crystal field splitting energy"},
        {symbol: "Dq", description: "Splitting parameter"}
    ],
    inputs: [
        {id: "Dq", label: "Splitting parameter (Dq)", unit: "cm"}
    ],
    calculate: (inputs) => 10 * inputs.Dq,
    outputUnit: "cm",
    icon: "fas fa-magnet",
    subject: "chemistry"
},
];
        
        
        // ============================================
// COMPLETE PERIODIC TABLE DATA (118 Elements)
// ============================================
const periodicTableData = [
    // Period 1
    { number: 1, symbol: "H", name: "Hydrogen", mass: "1.008", category: "nonmetal", group: 1, period: 1, electronConfig: "1s", block: "s" },
    { number: 2, symbol: "He", name: "Helium", mass: "4.0026", category: "noble-gas", group: 18, period: 1, electronConfig: "1s", block: "s" },
    
    // Period 2
    { number: 3, symbol: "Li", name: "Lithium", mass: "6.94", category: "alkali-metal", group: 1, period: 2, electronConfig: "[He] 2s", block: "s" },
    { number: 4, symbol: "Be", name: "Beryllium", mass: "9.0122", category: "alkaline-earth-metal", group: 2, period: 2, electronConfig: "[He] 2s", block: "s" },
    { number: 5, symbol: "B", name: "Boron", mass: "10.81", category: "metalloid", group: 13, period: 2, electronConfig: "[He] 2s 2p", block: "p" },
    { number: 6, symbol: "C", name: "Carbon", mass: "12.011", category: "nonmetal", group: 14, period: 2, electronConfig: "[He] 2s 2p", block: "p" },
    { number: 7, symbol: "N", name: "Nitrogen", mass: "14.007", category: "nonmetal", group: 15, period: 2, electronConfig: "[He] 2s 2p", block: "p" },
    { number: 8, symbol: "O", name: "Oxygen", mass: "15.999", category: "nonmetal", group: 16, period: 2, electronConfig: "[He] 2s 2p", block: "p" },
    { number: 9, symbol: "F", name: "Fluorine", mass: "18.998", category: "halogen", group: 17, period: 2, electronConfig: "[He] 2s 2p", block: "p" },
    { number: 10, symbol: "Ne", name: "Neon", mass: "20.180", category: "noble-gas", group: 18, period: 2, electronConfig: "[He] 2s 2p", block: "p" },
    
    // Period 3
    { number: 11, symbol: "Na", name: "Sodium", mass: "22.990", category: "alkali-metal", group: 1, period: 3, electronConfig: "[Ne] 3s", block: "s" },
    { number: 12, symbol: "Mg", name: "Magnesium", mass: "24.305", category: "alkaline-earth-metal", group: 2, period: 3, electronConfig: "[Ne] 3s", block: "s" },
    { number: 13, symbol: "Al", name: "Aluminium", mass: "26.982", category: "basic-metal", group: 13, period: 3, electronConfig: "[Ne] 3s 3p", block: "p" },
    { number: 14, symbol: "Si", name: "Silicon", mass: "28.085", category: "metalloid", group: 14, period: 3, electronConfig: "[Ne] 3s 3p", block: "p" },
    { number: 15, symbol: "P", name: "Phosphorus", mass: "30.974", category: "nonmetal", group: 15, period: 3, electronConfig: "[Ne] 3s 3p", block: "p" },
    { number: 16, symbol: "S", name: "Sulfur", mass: "32.06", category: "nonmetal", group: 16, period: 3, electronConfig: "[Ne] 3s 3p", block: "p" },
    { number: 17, symbol: "Cl", name: "Chlorine", mass: "35.45", category: "halogen", group: 17, period: 3, electronConfig: "[Ne] 3s 3p", block: "p" },
    { number: 18, symbol: "Ar", name: "Argon", mass: "39.948", category: "noble-gas", group: 18, period: 3, electronConfig: "[Ne] 3s 3p", block: "p" },
    
    // Period 4
    { number: 19, symbol: "K", name: "Potassium", mass: "39.098", category: "alkali-metal", group: 1, period: 4, electronConfig: "[Ar] 4s", block: "s" },
    { number: 20, symbol: "Ca", name: "Calcium", mass: "40.078", category: "alkaline-earth-metal", group: 2, period: 4, electronConfig: "[Ar] 4s", block: "s" },
    { number: 21, symbol: "Sc", name: "Scandium", mass: "44.956", category: "transition-metal", group: 3, period: 4, electronConfig: "[Ar] 3d 4s", block: "d" },
    { number: 22, symbol: "Ti", name: "Titanium", mass: "47.867", category: "transition-metal", group: 4, period: 4, electronConfig: "[Ar] 3d 4s", block: "d" },
    { number: 23, symbol: "V", name: "Vanadium", mass: "50.942", category: "transition-metal", group: 5, period: 4, electronConfig: "[Ar] 3d 4s", block: "d" },
    { number: 24, symbol: "Cr", name: "Chromium", mass: "51.996", category: "transition-metal", group: 6, period: 4, electronConfig: "[Ar] 3d 4s", block: "d" },
    { number: 25, symbol: "Mn", name: "Manganese", mass: "54.938", category: "transition-metal", group: 7, period: 4, electronConfig: "[Ar] 3d 4s", block: "d" },
    { number: 26, symbol: "Fe", name: "Iron", mass: "55.845", category: "transition-metal", group: 8, period: 4, electronConfig: "[Ar] 3d 4s", block: "d" },
    { number: 27, symbol: "Co", name: "Cobalt", mass: "58.933", category: "transition-metal", group: 9, period: 4, electronConfig: "[Ar] 3d 4s", block: "d" },
    { number: 28, symbol: "Ni", name: "Nickel", mass: "58.693", category: "transition-metal", group: 10, period: 4, electronConfig: "[Ar] 3d 4s", block: "d" },
    { number: 29, symbol: "Cu", name: "Copper", mass: "63.546", category: "transition-metal", group: 11, period: 4, electronConfig: "[Ar] 3d 4s", block: "d" },
    { number: 30, symbol: "Zn", name: "Zinc", mass: "65.38", category: "transition-metal", group: 12, period: 4, electronConfig: "[Ar] 3d 4s", block: "d" },
    { number: 31, symbol: "Ga", name: "Gallium", mass: "69.723", category: "basic-metal", group: 13, period: 4, electronConfig: "[Ar] 3d 4s 4p", block: "p" },
    { number: 32, symbol: "Ge", name: "Germanium", mass: "72.630", category: "metalloid", group: 14, period: 4, electronConfig: "[Ar] 3d 4s 4p", block: "p" },
    { number: 33, symbol: "As", name: "Arsenic", mass: "74.922", category: "metalloid", group: 15, period: 4, electronConfig: "[Ar] 3d 4s 4p", block: "p" },
    { number: 34, symbol: "Se", name: "Selenium", mass: "78.971", category: "nonmetal", group: 16, period: 4, electronConfig: "[Ar] 3d 4s 4p", block: "p" },
    { number: 35, symbol: "Br", name: "Bromine", mass: "79.904", category: "halogen", group: 17, period: 4, electronConfig: "[Ar] 3d 4s 4p", block: "p" },
    { number: 36, symbol: "Kr", name: "Krypton", mass: "83.798", category: "noble-gas", group: 18, period: 4, electronConfig: "[Ar] 3d 4s 4p", block: "p" },
    
    // Period 5
    { number: 37, symbol: "Rb", name: "Rubidium", mass: "85.468", category: "alkali-metal", group: 1, period: 5, electronConfig: "[Kr] 5s", block: "s" },
    { number: 38, symbol: "Sr", name: "Strontium", mass: "87.62", category: "alkaline-earth-metal", group: 2, period: 5, electronConfig: "[Kr] 5s", block: "s" },
    { number: 39, symbol: "Y", name: "Yttrium", mass: "88.906", category: "transition-metal", group: 3, period: 5, electronConfig: "[Kr] 4d 5s", block: "d" },
    { number: 40, symbol: "Zr", name: "Zirconium", mass: "91.224", category: "transition-metal", group: 4, period: 5, electronConfig: "[Kr] 4d 5s", block: "d" },
    { number: 41, symbol: "Nb", name: "Niobium", mass: "92.906", category: "transition-metal", group: 5, period: 5, electronConfig: "[Kr] 4d 5s", block: "d" },
    { number: 42, symbol: "Mo", name: "Molybdenum", mass: "95.95", category: "transition-metal", group: 6, period: 5, electronConfig: "[Kr] 4d 5s", block: "d" },
    { number: 43, symbol: "Tc", name: "Technetium", mass: "(98)", category: "transition-metal", group: 7, period: 5, electronConfig: "[Kr] 4d 5s", block: "d" },
    { number: 44, symbol: "Ru", name: "Ruthenium", mass: "101.07", category: "transition-metal", group: 8, period: 5, electronConfig: "[Kr] 4d 5s", block: "d" },
    { number: 45, symbol: "Rh", name: "Rhodium", mass: "102.91", category: "transition-metal", group: 9, period: 5, electronConfig: "[Kr] 4d 5s", block: "d" },
    { number: 46, symbol: "Pd", name: "Palladium", mass: "106.42", category: "transition-metal", group: 10, period: 5, electronConfig: "[Kr] 4d", block: "d" },
    { number: 47, symbol: "Ag", name: "Silver", mass: "107.87", category: "transition-metal", group: 11, period: 5, electronConfig: "[Kr] 4d 5s", block: "d" },
    { number: 48, symbol: "Cd", name: "Cadmium", mass: "112.41", category: "transition-metal", group: 12, period: 5, electronConfig: "[Kr] 4d 5s", block: "d" },
    { number: 49, symbol: "In", name: "Indium", mass: "114.82", category: "basic-metal", group: 13, period: 5, electronConfig: "[Kr] 4d 5s 5p", block: "p" },
    { number: 50, symbol: "Sn", name: "Tin", mass: "118.71", category: "basic-metal", group: 14, period: 5, electronConfig: "[Kr] 4d 5s 5p", block: "p" },
    { number: 51, symbol: "Sb", name: "Antimony", mass: "121.76", category: "metalloid", group: 15, period: 5, electronConfig: "[Kr] 4d 5s 5p", block: "p" },
    { number: 52, symbol: "Te", name: "Tellurium", mass: "127.60", category: "metalloid", group: 16, period: 5, electronConfig: "[Kr] 4d 5s 5p", block: "p" },
    { number: 53, symbol: "I", name: "Iodine", mass: "126.90", category: "halogen", group: 17, period: 5, electronConfig: "[Kr] 4d 5s 5p", block: "p" },
    { number: 54, symbol: "Xe", name: "Xenon", mass: "131.29", category: "noble-gas", group: 18, period: 5, electronConfig: "[Kr] 4d 5s 5p", block: "p" },
    
    // Period 6
    { number: 55, symbol: "Cs", name: "Caesium", mass: "132.91", category: "alkali-metal", group: 1, period: 6, electronConfig: "[Xe] 6s", block: "s" },
    { number: 56, symbol: "Ba", name: "Barium", mass: "137.33", category: "alkaline-earth-metal", group: 2, period: 6, electronConfig: "[Xe] 6s", block: "s" },
    // Lanthanides (placed below, but position 57-71)
    { number: 57, symbol: "La", name: "Lanthanum", mass: "138.91", category: "lanthanide", group: 3, period: 6, electronConfig: "[Xe] 5d 6s", block: "d" },
    { number: 72, symbol: "Hf", name: "Hafnium", mass: "178.49", category: "transition-metal", group: 4, period: 6, electronConfig: "[Xe] 4f 5d 6s", block: "d" },
    { number: 73, symbol: "Ta", name: "Tantalum", mass: "180.95", category: "transition-metal", group: 5, period: 6, electronConfig: "[Xe] 4f 5d 6s", block: "d" },
    { number: 74, symbol: "W", name: "Tungsten", mass: "183.84", category: "transition-metal", group: 6, period: 6, electronConfig: "[Xe] 4f 5d 6s", block: "d" },
    { number: 75, symbol: "Re", name: "Rhenium", mass: "186.21", category: "transition-metal", group: 7, period: 6, electronConfig: "[Xe] 4f 5d 6s", block: "d" },
    { number: 76, symbol: "Os", name: "Osmium", mass: "190.23", category: "transition-metal", group: 8, period: 6, electronConfig: "[Xe] 4f 5d 6s", block: "d" },
    { number: 77, symbol: "Ir", name: "Iridium", mass: "192.22", category: "transition-metal", group: 9, period: 6, electronConfig: "[Xe] 4f 5d 6s", block: "d" },
    { number: 78, symbol: "Pt", name: "Platinum", mass: "195.08", category: "transition-metal", group: 10, period: 6, electronConfig: "[Xe] 4f 5d 6s", block: "d" },
    { number: 79, symbol: "Au", name: "Gold", mass: "196.97", category: "transition-metal", group: 11, period: 6, electronConfig: "[Xe] 4f 5d 6s", block: "d" },
    { number: 80, symbol: "Hg", name: "Mercury", mass: "200.59", category: "transition-metal", group: 12, period: 6, electronConfig: "[Xe] 4f 5d 6s", block: "d" },
    { number: 81, symbol: "Tl", name: "Thallium", mass: "204.38", category: "basic-metal", group: 13, period: 6, electronConfig: "[Xe] 4f 5d 6s 6p", block: "p" },
    { number: 82, symbol: "Pb", name: "Lead", mass: "207.2", category: "basic-metal", group: 14, period: 6, electronConfig: "[Xe] 4f 5d 6s 6p", block: "p" },
    { number: 83, symbol: "Bi", name: "Bismuth", mass: "208.98", category: "basic-metal", group: 15, period: 6, electronConfig: "[Xe] 4f 5d 6s 6p", block: "p" },
    { number: 84, symbol: "Po", name: "Polonium", mass: "(209)", category: "metalloid", group: 16, period: 6, electronConfig: "[Xe] 4f 5d 6s 6p", block: "p" },
    { number: 85, symbol: "At", name: "Astatine", mass: "(210)", category: "halogen", group: 17, period: 6, electronConfig: "[Xe] 4f 5d 6s 6p", block: "p" },
    { number: 86, symbol: "Rn", name: "Radon", mass: "(222)", category: "noble-gas", group: 18, period: 6, electronConfig: "[Xe] 4f 5d 6s 6p", block: "p" },
    
    // Period 7
    { number: 87, symbol: "Fr", name: "Francium", mass: "(223)", category: "alkali-metal", group: 1, period: 7, electronConfig: "[Rn] 7s", block: "s" },
    { number: 88, symbol: "Ra", name: "Radium", mass: "(226)", category: "alkaline-earth-metal", group: 2, period: 7, electronConfig: "[Rn] 7s", block: "s" },
    // Actinides (placed below, but position 89-103)
    { number: 89, symbol: "Ac", name: "Actinium", mass: "(227)", category: "actinide", group: 3, period: 7, electronConfig: "[Rn] 6d 7s", block: "d" },
    { number: 104, symbol: "Rf", name: "Rutherfordium", mass: "(267)", category: "transition-metal", group: 4, period: 7, electronConfig: "[Rn] 5f 6d 7s", block: "d" },
    { number: 105, symbol: "Db", name: "Dubnium", mass: "(268)", mass: "(268)", category: "transition-metal", group: 5, period: 7, electronConfig: "[Rn] 5f 6d 7s", block: "d" },
    { number: 106, symbol: "Sg", name: "Seaborgium", mass: "(269)", category: "transition-metal", group: 6, period: 7, electronConfig: "[Rn] 5f 6d 7s", block: "d" },
    { number: 107, symbol: "Bh", name: "Bohrium", mass: "(270)", category: "transition-metal", group: 7, period: 7, electronConfig: "[Rn] 5f 6d 7s", block: "d" },
    { number: 108, symbol: "Hs", name: "Hassium", mass: "(277)", category: "transition-metal", group: 8, period: 7, electronConfig: "[Rn] 5f 6d 7s", block: "d" },
    { number: 109, symbol: "Mt", name: "Meitnerium", mass: "(278)", category: "transition-metal", group: 9, period: 7, electronConfig: "[Rn] 5f 6d 7s", block: "d" },
    { number: 110, symbol: "Ds", name: "Darmstadtium", mass: "(281)", category: "transition-metal", group: 10, period: 7, electronConfig: "[Rn] 5f 6d 7s", block: "d" },
    { number: 111, symbol: "Rg", name: "Roentgenium", mass: "(282)", category: "transition-metal", group: 11, period: 7, electronConfig: "[Rn] 5f 6d 7s", block: "d" },
    { number: 112, symbol: "Cn", name: "Copernicium", mass: "(285)", category: "transition-metal", group: 12, period: 7, electronConfig: "[Rn] 5f 6d 7s", block: "d" },
    { number: 113, symbol: "Nh", name: "Nihonium", mass: "(286)", category: "basic-metal", group: 13, period: 7, electronConfig: "[Rn] 5f 6d 7s 7p", block: "p" },
    { number: 114, symbol: "Fl", name: "Flerovium", mass: "(289)", category: "basic-metal", group: 14, period: 7, electronConfig: "[Rn] 5f 6d 7s 7p", block: "p" },
    { number: 115, symbol: "Mc", name: "Moscovium", mass: "(290)", category: "basic-metal", group: 15, period: 7, electronConfig: "[Rn] 5f 6d 7s 7p", block: "p" },
    { number: 116, symbol: "Lv", name: "Livermorium", mass: "(293)", category: "basic-metal", group: 16, period: 7, electronConfig: "[Rn] 5f 6d 7s 7p", block: "p" },
    { number: 117, symbol: "Ts", name: "Tennessine", mass: "(294)", category: "halogen", group: 17, period: 7, electronConfig: "[Rn] 5f 6d 7s 7p", block: "p" },
    { number: 118, symbol: "Og", name: "Oganesson", mass: "(294)", category: "noble-gas", group: 18, period: 7, electronConfig: "[Rn] 5f 6d 7s 7p", block: "p" },
    
    // Lanthanides (separate row)
    { number: 58, symbol: "Ce", name: "Cerium", mass: "140.12", category: "lanthanide", group: 0, period: 8, electronConfig: "[Xe] 4f 5d 6s", block: "f" },
    { number: 59, symbol: "Pr", name: "Praseodymium", mass: "140.91", category: "lanthanide", group: 0, period: 8, electronConfig: "[Xe] 4f 6s", block: "f" },
    { number: 60, symbol: "Nd", name: "Neodymium", mass: "144.24", category: "lanthanide", group: 0, period: 8, electronConfig: "[Xe] 4f 6s", block: "f" },
    { number: 61, symbol: "Pm", name: "Promethium", mass: "(145)", category: "lanthanide", group: 0, period: 8, electronConfig: "[Xe] 4f 6s", block: "f" },
    { number: 62, symbol: "Sm", name: "Samarium", mass: "150.36", category: "lanthanide", group: 0, period: 8, electronConfig: "[Xe] 4f 6s", block: "f" },
    { number: 63, symbol: "Eu", name: "Europium", mass: "151.96", category: "lanthanide", group: 0, period: 8, electronConfig: "[Xe] 4f 6s", block: "f" },
    { number: 64, symbol: "Gd", name: "Gadolinium", mass: "157.25", category: "lanthanide", group: 0, period: 8, electronConfig: "[Xe] 4f 5d 6s", block: "f" },
    { number: 65, symbol: "Tb", name: "Terbium", mass: "158.93", category: "lanthanide", group: 0, period: 8, electronConfig: "[Xe] 4f 6s", block: "f" },
    { number: 66, symbol: "Dy", name: "Dysprosium", mass: "162.50", category: "lanthanide", group: 0, period: 8, electronConfig: "[Xe] 4f 6s", block: "f" },
    { number: 67, symbol: "Ho", name: "Holmium", mass: "164.93", category: "lanthanide", group: 0, period: 8, electronConfig: "[Xe] 4f 6s", block: "f" },
    { number: 68, symbol: "Er", name: "Erbium", mass: "167.26", category: "lanthanide", group: 0, period: 8, electronConfig: "[Xe] 4f 6s", block: "f" },
    { number: 69, symbol: "Tm", name: "Thulium", mass: "168.93", category: "lanthanide", group: 0, period: 8, electronConfig: "[Xe] 4f 6s", block: "f" },
    { number: 70, symbol: "Yb", name: "Ytterbium", mass: "173.05", category: "lanthanide", group: 0, period: 8, electronConfig: "[Xe] 4f 6s", block: "f" },
    { number: 71, symbol: "Lu", name: "Lutetium", mass: "174.97", category: "lanthanide", group: 0, period: 8, electronConfig: "[Xe] 4f 5d 6s", block: "f" },
    
    // Actinides (separate row)
    { number: 90, symbol: "Th", name: "Thorium", mass: "232.04", category: "actinide", group: 0, period: 9, electronConfig: "[Rn] 6d 7s", block: "f" },
    { number: 91, symbol: "Pa", name: "Protactinium", mass: "231.04", category: "actinide", group: 0, period: 9, electronConfig: "[Rn] 5f 6d 7s", block: "f" },
    { number: 92, symbol: "U", name: "Uranium", mass: "238.03", category: "actinide", group: 0, period: 9, electronConfig: "[Rn] 5f 6d 7s", block: "f" },
    { number: 93, symbol: "Np", name: "Neptunium", mass: "(237)", category: "actinide", group: 0, period: 9, electronConfig: "[Rn] 5f 6d 7s", block: "f" },
    { number: 94, symbol: "Pu", name: "Plutonium", mass: "(244)", category: "actinide", group: 0, period: 9, electronConfig: "[Rn] 5f 7s", block: "f" },
    { number: 95, symbol: "Am", name: "Americium", mass: "(243)", category: "actinide", group: 0, period: 9, electronConfig: "[Rn] 5f 7s", block: "f" },
    { number: 96, symbol: "Cm", name: "Curium", mass: "(247)", category: "actinide", group: 0, period: 9, electronConfig: "[Rn] 5f 6d 7s", block: "f" },
    { number: 97, symbol: "Bk", name: "Berkelium", mass: "(247)", category: "actinide", group: 0, period: 9, electronConfig: "[Rn] 5f 7s", block: "f" },
    { number: 98, symbol: "Cf", name: "Californium", mass: "(251)", category: "actinide", group: 0, period: 9, electronConfig: "[Rn] 5f 7s", block: "f" },
    { number: 99, symbol: "Es", name: "Einsteinium", mass: "(252)", category: "actinide", group: 0, period: 9, electronConfig: "[Rn] 5f 7s", block: "f" },
    { number: 100, symbol: "Fm", name: "Fermium", mass: "(257)", category: "actinide", group: 0, period: 9, electronConfig: "[Rn] 5f 7s", block: "f" },
    { number: 101, symbol: "Md", name: "Mendelevium", mass: "(258)", category: "actinide", group: 0, period: 9, electronConfig: "[Rn] 5f 7s", block: "f" },
    { number: 102, symbol: "No", name: "Nobelium", mass: "(259)", category: "actinide", group: 0, period: 9, electronConfig: "[Rn] 5f 7s", block: "f" },
    { number: 103, symbol: "Lr", name: "Lawrencium", mass: "(262)", category: "actinide", group: 0, period: 9, electronConfig: "[Rn] 5f 7s 7p", block: "f" }
];
        // Chemical groups data
        const chemicalGroups = [
            {
                id: 1,
                name: "Alkali Metals",
                description: "The alkali metals are a group of chemical elements in the periodic table with similar properties. They are all shiny, soft, highly reactive metals at standard temperature and pressure.",
                color: "#ff9f1c",
                elements: ["Li", "Na", "K", "Rb", "Cs", "Fr"],
                properties: [
                    "Soft, silvery-white metals",
                    "Highly reactive",
                    "Low melting points",
                    "React vigorously with water",
                    "Form +1 cations"
                ],
                examples: "Sodium (Na) is used in streetlights, potassium (K) is essential for nerve function."
            },
            {
                id: 2,
                name: "Alkaline Earth Metals",
                description: "The alkaline earth metals are a group of chemical elements in the periodic table with similar properties. They are all shiny, silvery-white, somewhat reactive metals at standard temperature and pressure.",
                color: "#ffd166",
                elements: ["Be", "Mg", "Ca", "Sr", "Ba", "Ra"],
                properties: [
                    "Harder and denser than alkali metals",
                    "Higher melting points than alkali metals",
                    "React with water (less vigorously than alkali metals)",
                    "Form +2 cations",
                    "Good conductors of electricity"
                ],
                examples: "Calcium (Ca) is essential for bones and teeth, magnesium (Mg) is used in alloys."
            },
            {
                id: 3,
                name: "Transition Metals",
                description: "Transition metals are elements that have partially filled d orbitals. They are known for their ability to form colored compounds and act as catalysts.",
                color: "#06d6a0",
                elements: ["Fe", "Cu", "Ag", "Au", "Zn", "Ni", "Co", "Mn"],
                properties: [
                    "Good conductors of heat and electricity",
                    "High melting and boiling points",
                    "Malleable and ductile",
                    "Form colored compounds",
                    "Often act as catalysts"
                ],
                examples: "Iron (Fe) is used in steel production, copper (Cu) is used in electrical wiring."
            },
            {
                id: 4,
                name: "Halogens",
                description: "The halogens are a group of nonmetal elements in the periodic table. They are highly reactive and form salts with metals.",
                color: "#9d4edd",
                elements: ["F", "Cl", "Br", "I", "At"],
                properties: [
                    "Highly reactive nonmetals",
                    "Exist in all three states of matter at room temperature",
                    "Form diatomic molecules (F, Cl, Br, I)",
                    "React with metals to form salts",
                    "Become less reactive down the group"
                ],
                examples: "Chlorine (Cl) is used for water purification, iodine (I) is used as an antiseptic."
            },
            {
                id: 5,
                name: "Noble Gases",
                description: "The noble gases are a group of chemical elements with similar properties. They are all odorless, colorless, monatomic gases with very low chemical reactivity.",
                color: "#4cc9f0",
                elements: ["He", "Ne", "Ar", "Kr", "Xe", "Rn"],
                properties: [
                    "Colorless, odorless, tasteless gases",
                    "Extremely low chemical reactivity",
                    "Full valence electron shells",
                    "Low boiling points",
                    "Monatomic under standard conditions"
                ],
                examples: "Helium (He) is used in balloons, argon (Ar) is used in light bulbs."
            },
            {
                id: 6,
                name: "Metalloids",
                description: "Metalloids are elements that have properties of both metals and nonmetals. They are often semiconductors.",
                color: "#073b4c",
                elements: ["B", "Si", "Ge", "As", "Sb", "Te", "Po"],
                properties: [
                    "Properties intermediate between metals and nonmetals",
                    "Often semiconductors",
                    "Brittle in solid state",
                    "Varied appearance",
                    "Form amphoteric oxides"
                ],
                examples: "Silicon (Si) is used in computer chips, boron (B) is used in heat-resistant glass."
            },
{
    id: 10,
    name: "Post-Transition Metals",
    description: "These metals are softer and have lower melting points than transition metals. They are located between transition metals and metalloids.",
    color: "#118ab2",
    elements: ["Al", "Ga", "In", "Sn", "Tl", "Pb", "Bi"],
    properties: [
        "Softer than transition metals",
        "Lower melting points",
        "Poorer electrical conductivity",
        "Form covalent compounds",
        "Multiple oxidation states"
    ],
    examples: "Aluminium (Al) for packaging and construction, Tin (Sn) for soldering and food packaging."
},
{
    id: 11,
    name: "Reactive Nonmetals",
    description: "Highly reactive nonmetals that readily form compounds with other elements. They are essential for life processes.",
    color: "#7209b7",
    elements: ["C", "N", "O", "P", "S", "Se"],
    properties: [
        "Form covalent bonds",
        "Poor conductors of heat and electricity",
        "Essential for biological processes",
        "Form acidic oxides",
        "Variable physical states"
    ],
    examples: "Carbon (C) for all organic compounds, Oxygen (O) for respiration, Nitrogen (N) for proteins and DNA."
},
{
    id: 12,
    name: "Synthetic Elements",
    description: "Elements that are not found naturally on Earth and must be created artificially in laboratories through nuclear reactions.",
    color: "#ff6b6b",
    elements: ["Tc", "Pm", "Np", "Pu", "Am", "Cm", "Bk", "Cf", "Es", "Fm", "Md", "No", "Lr", "Rf", "Db", "Sg", "Bh", "Hs", "Mt", "Ds", "Rg", "Cn", "Nh", "Fl", "Mc", "Lv", "Ts", "Og"],
    properties: [
        "All are radioactive",
        "Short half-lives",
        "Created in particle accelerators",
        "No stable isotopes",
        "Limited practical applications"
    ],
    examples: "Plutonium (Pu) for nuclear power, Americium (Am) for smoke detectors, Technetium (Tc) for medical imaging."
},
{
    id: 234,
    category: "stoichiometry",
    title: "Percentage Purity",
    description: "Calculate the purity percentage of a chemical sample.",
    equation: "% Purity = (Mass of pure substance / Total mass)  100%",
    variables: [
        {symbol: "% Purity", description: "Percentage purity"},
        {symbol: "Mass_pure", description: "Mass of pure substance"},
        {symbol: "Mass_total", description: "Total mass of sample"}
    ],
    inputs: [
        {id: "mass_pure", label: "Mass of pure substance", unit: "g"},
        {id: "mass_total", label: "Total mass", unit: "g"}
    ],
    calculate: (inputs) => (inputs.mass_pure / inputs.mass_total) * 100,
    outputUnit: "%",
    icon: "fas fa-percentage",
    subject: "chemistry"
},
{
    id: 235,
    category: "gas-laws",
    title: "RMS Speed of Gas Molecules",
    description: "Root mean square speed of gas molecules.",
    equation: "v_rms = (3RT/M)",
    variables: [
        {symbol: "v_rms", description: "RMS speed"},
        {symbol: "R", description: "Gas constant (8.314 J/(molK))"},
        {symbol: "T", description: "Temperature"},
        {symbol: "M", description: "Molar mass"}
    ],
    inputs: [
        {id: "T", label: "Temperature (T)", unit: "K"},
        {id: "M", label: "Molar mass (M)", unit: "kg/mol"}
    ],
    calculate: (inputs) => {
        const R = 8.314;
        return Math.sqrt((3 * R * inputs.T) / inputs.M);
    },
    outputUnit: "m/s",
    icon: "fas fa-wind",
    subject: "chemistry"
},
{
    id: 236,
    category: "thermochemistry",
    title: "Heat of Combustion",
    description: "Heat released when 1 mole of substance burns completely.",
    equation: "H_combustion = -Q/n",
    variables: [
        {symbol: "H_combustion", description: "Heat of combustion"},
        {symbol: "Q", description: "Heat released"},
        {symbol: "n", description: "Moles burned"}
    ],
    inputs: [
        {id: "Q", label: "Heat released (Q)", unit: "J"},
        {id: "n", label: "Moles burned (n)", unit: "mol"}
    ],
    calculate: (inputs) => -inputs.Q / inputs.n,
    outputUnit: "J/mol",
    icon: "fas fa-fire",
    subject: "chemistry"
},
{
    id: 237,
    category: "acids-bases",
    title: "Ionic Product of Water",
    description: "Product of [H] and [OH] at given temperature.",
    equation: "K_w = [H][OH]",
    variables: [
        {symbol: "K_w", description: "Ionic product of water"},
        {symbol: "[H]", description: "Hydrogen ion concentration"},
        {symbol: "[OH]", description: "Hydroxide ion concentration"}
    ],
    inputs: [
        {id: "H_plus", label: "[H] concentration", unit: "mol/L"},
        {id: "OH_minus", label: "[OH] concentration", unit: "mol/L"}
    ],
    calculate: (inputs) => inputs.H_plus * inputs.OH_minus,
    outputUnit: "mol/L",
    icon: "fas fa-tint",
    subject: "chemistry"
},
{
    id: 238,
    category: "equilibrium",
    title: "Common Ion Effect",
    description: "Decrease in solubility due to common ion.",
    equation: "Ksp = [A][B]",
    variables: [
        {symbol: "Ksp", description: "Solubility product"},
        {symbol: "[A]", description: "Cation concentration"},
        {symbol: "[B]", description: "Anion concentration"}
    ],
    inputs: [
        {id: "Ksp", label: "Ksp value", unit: ""},
        {id: "A_plus", label: "[A] from other source", unit: "M"}
    ],
    calculate: (inputs) => inputs.Ksp / inputs.A_plus,
    outputUnit: "M",
    icon: "fas fa-vial",
    subject: "chemistry"
},
{
    id: 239,
    category: "kinetics",
    title: "Catalyst Effect",
    description: "Rate enhancement factor due to catalyst.",
    equation: "Rate_enhancement = k_catalyzed / k_uncatalyzed",
    variables: [
        {symbol: "Rate_enhancement", description: "Rate increase factor"},
        {symbol: "k_cat", description: "Rate constant with catalyst"},
        {symbol: "k_uncat", description: "Rate constant without catalyst"}
    ],
    inputs: [
        {id: "k_cat", label: "k (with catalyst)", unit: "s"},
        {id: "k_uncat", label: "k (without catalyst)", unit: "s"}
    ],
    calculate: (inputs) => inputs.k_cat / inputs.k_uncat,
    outputUnit: "",
    icon: "fas fa-vial",
    subject: "chemistry"
},
{
    id: 240,
    category: "electrochemistry",
    title: "Conductivity",
    description: "Electrical conductivity of electrolyte solution.",
    equation: " = G  (l/A)",
    variables: [
        {symbol: "", description: "Conductivity"},
        {symbol: "G", description: "Conductance"},
        {symbol: "l", description: "Distance between electrodes"},
        {symbol: "A", description: "Area of electrodes"}
    ],
    inputs: [
        {id: "G", label: "Conductance (G)", unit: "S"},
        {id: "l", label: "Distance (l)", unit: "m"},
        {id: "A", label: "Area (A)", unit: "m"}
    ],
    calculate: (inputs) => inputs.G * (inputs.l / inputs.A),
    outputUnit: "S/m",
    icon: "fas fa-bolt",
    subject: "chemistry"
},
{
    id: 241,
    category: "organic-chemistry",
    title: "Refractive Index",
    description: "Ratio of speed of light in vacuum to speed in medium.",
    equation: "n = c/v",
    variables: [
        {symbol: "n", description: "Refractive index"},
        {symbol: "c", description: "Speed of light in vacuum"},
        {symbol: "v", description: "Speed of light in medium"}
    ],
    inputs: [
        {id: "v", label: "Speed in medium (v)", unit: "m/s"}
    ],
    calculate: (inputs) => 3e8 / inputs.v,
    outputUnit: "",
    icon: "fas fa-eye",
    subject: "chemistry"
},
{
    id: 242,
    category: "nuclear-chemistry",
    title: "Decay Constant from Half-Life",
    description: "Calculate decay constant from half-life.",
    equation: " = ln(2) / t/",
    variables: [
        {symbol: "", description: "Decay constant"},
        {symbol: "t/", description: "Half-life"}
    ],
    inputs: [
        {id: "t_half", label: "Half-life (t/)", unit: "s"}
    ],
    calculate: (inputs) => Math.log(2) / inputs.t_half,
    outputUnit: "s",
    icon: "fas fa-radiation",
    subject: "chemistry"
},
{
    id: 243,
    category: "solutions",
    title: "Vant Hoff Factor",
    description: "Ratio of actual particles to formula units in solution.",
    equation: "i = (T_exp) / (T_calc)",
    variables: [
        {symbol: "i", description: "Van't Hoff factor"},
        {symbol: "T_exp", description: "Experimental T"},
        {symbol: "T_calc", description: "Calculated T"}
    ],
    inputs: [
        {id: "delta_T_exp", label: "Experimental T", unit: "C"},
        {id: "delta_T_calc", label: "Calculated T", unit: "C"}
    ],
    calculate: (inputs) => inputs.delta_T_exp / inputs.delta_T_calc,
    outputUnit: "",
    icon: "fas fa-calculator",
    subject: "chemistry"
},
{
    id: 244,
    category: "stoichiometry",
    title: "Equivalent Weight of Acid",
    description: "Mass of acid that provides 1 mole of H ions.",
    equation: "Eq wt = Molar mass / Basicity",
    variables: [
        {symbol: "Eq wt", description: "Equivalent weight"},
        {symbol: "M", description: "Molar mass"},
        {symbol: "n", description: "Basicity (H ions per molecule)"}
    ],
    inputs: [
        {id: "M", label: "Molar mass", unit: "g/mol"},
        {id: "n", label: "Basicity (n)", unit: ""}
    ],
    calculate: (inputs) => inputs.M / inputs.n,
    outputUnit: "g/eq",
    icon: "fas fa-balance-scale",
    subject: "chemistry"
},
{
    id: 245,
    category: "gas-laws",
    title: "Graham's Law of Diffusion",
    description: "Rate of diffusion inversely proportional to square root of molar mass.",
    equation: "r/r = (M/M)",
    variables: [
        {symbol: "r, r", description: "Diffusion rates"},
        {symbol: "M, M", description: "Molar masses"}
    ],
    inputs: [
        {id: "M1", label: "Molar mass 1 (M)", unit: "g/mol"},
        {id: "M2", label: "Molar mass 2 (M)", unit: "g/mol"}
    ],
    calculate: (inputs) => Math.sqrt(inputs.M2 / inputs.M1),
    outputUnit: "",
    icon: "fas fa-wind",
    subject: "chemistry"
},
{
    id: 246,
    category: "thermochemistry",
    title: "Specific Heat Ratio ()",
    description: "Ratio of specific heat at constant pressure to constant volume.",
    equation: " = C_p/C_v",
    variables: [
        {symbol: "", description: "Specific heat ratio"},
        {symbol: "C_p", description: "Specific heat at constant pressure"},
        {symbol: "C_v", description: "Specific heat at constant volume"}
    ],
    inputs: [
        {id: "C_p", label: "C_p", unit: "J/(molK)"},
        {id: "C_v", label: "C_v", unit: "J/(molK)"}
    ],
    calculate: (inputs) => inputs.C_p / inputs.C_v,
    outputUnit: "",
    icon: "fas fa-thermometer",
    subject: "chemistry"
},
{
    id: 247,
    category: "acids-bases",
    title: "Buffer Range",
    description: "pH range where buffer is effective.",
    equation: "pH = pKa  1",
    variables: [
        {symbol: "pH_range", description: "Buffer range"},
        {symbol: "pKa", description: "Acid dissociation constant"}
    ],
    inputs: [
        {id: "pKa", label: "pKa value", unit: ""}
    ],
    calculate: (inputs) => `pH = ${inputs.pKa}  1`,
    outputUnit: "",
    icon: "fas fa-shield-alt",
    subject: "chemistry"
},
{
    id: 248,
    category: "equilibrium",
    title: "Reaction Extent",
    description: "Percentage of reaction completion at equilibrium.",
    equation: "% completion = (Amount reacted / Initial amount)  100%",
    variables: [
        {symbol: "% completion", description: "Reaction extent"},
        {symbol: "Reacted", description: "Amount reacted"},
        {symbol: "Initial", description: "Initial amount"}
    ],
    inputs: [
        {id: "reacted", label: "Amount reacted", unit: "mol"},
        {id: "initial", label: "Initial amount", unit: "mol"}
    ],
    calculate: (inputs) => (inputs.reacted / inputs.initial) * 100,
    outputUnit: "%",
    icon: "fas fa-percentage",
    subject: "chemistry"
},
{
    id: 249,
    category: "kinetics",
    title: "Activation Energy from Rate Constants",
    description: "Calculate activation energy from two rate constants at different temperatures.",
    equation: "ln(k/k) = (Ea/R)(1/T - 1/T)",
    variables: [
        {symbol: "Ea", description: "Activation energy"},
        {symbol: "k, k", description: "Rate constants"},
        {symbol: "T, T", description: "Temperatures"}
    ],
    inputs: [
        {id: "k1", label: "Rate constant k", unit: "s"},
        {id: "T1", label: "Temperature T", unit: "K"},
        {id: "k2", label: "Rate constant k", unit: "s"},
        {id: "T2", label: "Temperature T", unit: "K"}
    ],
    calculate: (inputs) => {
        const R = 8.314;
        const lnRatio = Math.log(inputs.k2 / inputs.k1);
        const tempDiff = (1/inputs.T1) - (1/inputs.T2);
        return (lnRatio * R) / tempDiff;
    },
    outputUnit: "J/mol",
    icon: "fas fa-chart-line",
    subject: "chemistry"
},
{
    id: 250,
    category: "electrochemistry",
    title: "Electrochemical Series",
    description: "Predict spontaneity from standard reduction potentials.",
    equation: "E_cell = E_cathode - E_anode",
    variables: [
        {symbol: "E_cell", description: "Standard cell potential"},
        {symbol: "E_cathode", description: "Cathode potential"},
        {symbol: "E_anode", description: "Anode potential"}
    ],
    inputs: [
        {id: "E_cathode", label: "E cathode", unit: "V"},
        {id: "E_anode", label: "E anode", unit: "V"}
    ],
    calculate: (inputs) => inputs.E_cathode - inputs.E_anode,
    outputUnit: "V",
    icon: "fas fa-battery-full",
    subject: "chemistry"
},
{
    id: 251,
    category: "organic-chemistry",
    title: "Optical Rotation",
    description: "Rotation of plane-polarized light by chiral compounds.",
    equation: "[] =  / (l  c)",
    variables: [
        {symbol: "[]", description: "Specific rotation"},
        {symbol: "", description: "Observed rotation"},
        {symbol: "l", description: "Path length"},
        {symbol: "c", description: "Concentration"}
    ],
    inputs: [
        {id: "alpha", label: "Observed rotation ()", unit: ""},
        {id: "l", label: "Path length (l)", unit: "dm"},
        {id: "c", label: "Concentration (c)", unit: "g/mL"}
    ],
    calculate: (inputs) => inputs.alpha / (inputs.l * inputs.c),
    outputUnit: "mL/(gdm)",
    icon: "fas fa-sync",
    subject: "chemistry"
},
{
    id: 252,
    category: "nuclear-chemistry",
    title: "Nuclear Fission Energy",
    description: "Energy released per fission reaction.",
    equation: "E = m  c",
    variables: [
        {symbol: "E", description: "Energy released"},
        {symbol: "m", description: "Mass defect"},
        {symbol: "c", description: "Speed of light"}
    ],
    inputs: [
        {id: "delta_m", label: "Mass defect (m)", unit: "kg"}
    ],
    calculate: (inputs) => inputs.delta_m * Math.pow(3e8, 2),
    outputUnit: "J",
    icon: "fas fa-atom",
    subject: "chemistry"
},
{
    id: 253,
    category: "solutions",
    title: "Colligative Properties",
    description: "T = K  m  i (general formula)",
    equation: "T = K  m  i",
    variables: [
        {symbol: "T", description: "Colligative property change"},
        {symbol: "K", description: "Constant (K_b or K_f)"},
        {symbol: "m", description: "Molality"},
        {symbol: "i", description: "Van't Hoff factor"}
    ],
    inputs: [
        {id: "K", label: "Constant (K)", unit: "Ckg/mol"},
        {id: "m", label: "Molality (m)", unit: "mol/kg"},
        {id: "i", label: "Van't Hoff factor (i)", unit: ""}
    ],
    calculate: (inputs) => inputs.K * inputs.m * inputs.i,
    outputUnit: "C",
    icon: "fas fa-vial",
    subject: "chemistry"
},
        ];
        // ============================================
// FILTER SEARCH FUNCTIONALITY
// ============================================

// Filter formulas based on search query
function filterFormulasBySearch(query) {
    if (!query || query.trim().length === 0) {
        // Show all formulas
        document.querySelectorAll('.formula-card').forEach(card => {
            card.classList.remove('hidden-by-search');
        });
        updateSearchCount(formulas.length);
        return;
    }
    
    const searchTerm = query.toLowerCase().trim();
    let matchCount = 0;
    
    // Search through all formulas
    formulas.forEach(formula => {
        // Create searchable text
        const searchText = `
            ${formula.title || ''}
            ${formula.description || ''}
            ${formula.category || ''}
            ${formula.subject || ''}
            ${formula.equation || ''}
        `.toLowerCase();
        
        // Find the formula card
        const formulaCard = document.querySelector(`[data-formula-id="${formula.id}"]`);
        
        if (!formulaCard) return;
        
        // Check if formula matches search
        if (searchText.includes(searchTerm)) {
            // Show this formula
            formulaCard.classList.remove('hidden-by-search');
            formulaCard.classList.add('highlighted-search-match');
            matchCount++;
            
            // Remove highlight after some time
            setTimeout(() => {
                formulaCard.classList.remove('highlighted-search-match');
            }, 1000);
        } else {
            // Hide this formula
            formulaCard.classList.add('hidden-by-search');
            formulaCard.classList.remove('highlighted-search-match');
        }
    });
    
    // Update count display
    updateSearchCount(matchCount, searchTerm);
    
    // Show no results message if needed
    showNoResultsMessage(matchCount, searchTerm);
}

// Update search count display
function updateSearchCount(count, searchTerm = '') {
    const countElement = document.getElementById('filterSearchCount');
    if (!countElement) return;
    
    if (!searchTerm) {
        countElement.textContent = `Showing all ${count} formulas`;
        countElement.style.color = 'var(--gray-color)';
    } else {
        if (count === 0) {
            countElement.textContent = `No formulas found for "${searchTerm}"`;
            countElement.style.color = 'var(--danger-color)';
        } else {
            countElement.textContent = `Found ${count} formula${count > 1 ? 's' : ''} for "${searchTerm}"`;
            countElement.style.color = 'var(--success-color)';
        }
    }
}

// Show/hide no results message
function showNoResultsMessage(count, searchTerm) {
    // Remove existing no results message
    const existingMessage = document.getElementById('noResultsMessage');
    if (existingMessage) {
        existingMessage.remove();
    }
    
    if (count === 0 && searchTerm) {
        // Create no results message
        const formulasContainer = document.getElementById('formulasContainer');
        if (!formulasContainer) return;
        
        const noResultsDiv = document.createElement('div');
        noResultsDiv.id = 'noResultsMessage';
        noResultsDiv.className = 'filter-search-no-results';
        noResultsDiv.innerHTML = `
            <i class="fas fa-search"></i>
            <h4>No formulas found for "${searchTerm}"</h4>
            <p>Try different keywords</p>
        `;
        
        // Insert at the beginning of formulas container
        formulasContainer.insertBefore(noResultsDiv, formulasContainer.firstChild);
    }
}

// Clear search
function clearFilterSearch() {
    const searchInput = document.getElementById('filterSearchInput');
    if (searchInput) {
        searchInput.value = '';
        searchInput.focus();
        filterFormulasBySearch('');
    }
}

// Initialize filter search
function initFilterSearch() {
    const searchInput = document.getElementById('filterSearchInput');
    const clearButton = document.getElementById('filterSearchClear');
    
    if (!searchInput) {
        console.error('Filter search input not found!');
        return;
    }
    
    console.log('Initializing filter search with', formulas.length, 'formulas');
    
    // Typing event with debounce
    let searchTimeout;
    searchInput.addEventListener('input', function() {
        clearTimeout(searchTimeout);
        
        const query = this.value.trim();
        
        searchTimeout = setTimeout(() => {
            filterFormulasBySearch(query);
        }, 300);
    });
    
    // Clear button
    if (clearButton) {
        clearButton.addEventListener('click', function() {
            clearFilterSearch();
        });
    }
    
    // Keyboard shortcuts
    searchInput.addEventListener('keydown', function(event) {
        // Escape to clear
        if (event.key === 'Escape') {
            clearFilterSearch();
        }
    });
    
    // Ensure all formula cards have data-formula-id
    setTimeout(() => {
        addDataAttributesToFormulaCards();
    }, 1000);
    
    console.log('Filter search initialized successfully');
}

// Add data-formula-id to all formula cards
function addDataAttributesToFormulaCards() {
    let updatedCount = 0;
    
    document.querySelectorAll('.formula-card').forEach(card => {
        // Try to find formula ID from button onclick
        const buttons = card.querySelectorAll('button[onclick]');
        
        buttons.forEach(button => {
            const onclick = button.getAttribute('onclick');
            if (onclick && onclick.includes('calculateFormula')) {
                const match = onclick.match(/calculateFormula\((\d+)\)/);
                if (match && match[1]) {
                    card.setAttribute('data-formula-id', match[1]);
                    updatedCount++;
                }
            }
        });
        
        // If still no ID, try to find from formula title
        if (!card.hasAttribute('data-formula-id')) {
            const titleElement = card.querySelector('.formula-title');
            if (titleElement) {
                const title = titleElement.textContent.trim();
                // Find matching formula
                const formula = formulas.find(f => 
                    f.title === title || 
                    f.title.includes(title) || 
                    title.includes(f.title)
                );
                
                if (formula) {
                    card.setAttribute('data-formula-id', formula.id);
                    updatedCount++;
                }
            }
        }
    });
    
    console.log(`Added data-formula-id to ${updatedCount} formula cards`);
    
    // If still missing, create a mapping
    if (updatedCount < formulas.length) {
        createFormulaCardMapping();
    }
}

// Create mapping for formula cards
function createFormulaCardMapping() {
    // This will map formula IDs to their cards
    window.formulaCardMap = {};
    
    document.querySelectorAll('.formula-card').forEach((card, index) => {
        const formulaId = formulas[index]?.id;
        if (formulaId) {
            card.setAttribute('data-formula-id', formulaId);
            window.formulaCardMap[formulaId] = card;
        }
    });
}

// Update renderFormulas to ensure data attributes
function enhanceRenderFormulas() {
    const originalRenderFormulas = window.renderFormulas;
    
    if (originalRenderFormulas) {
        window.renderFormulas = function(subject, category) {
            originalRenderFormulas(subject, category);
            
            // Add data attributes after rendering
            setTimeout(() => {
                addDataAttributesToFormulaCards();
                
                // Re-apply current search filter
                const searchInput = document.getElementById('filterSearchInput');
                if (searchInput && searchInput.value.trim()) {
                    filterFormulasBySearch(searchInput.value.trim());
                }
            }, 100);
        };
    }
}

// Initialize when page loads
document.addEventListener('DOMContentLoaded', function() {
    // Initialize filter search
    setTimeout(() => {
        initFilterSearch();
        enhanceRenderFormulas();
        
        console.log(' Filter search ready! Type in the search box to filter formulas.');
    }, 1500);
});

        // ============================================
        // APPLICATION STATE
        // ============================================
        let currentTab = 'formulas';
        let currentSubject = 'all';
        let currentCategory = 'all';
        let searchTerm = '';
        let filteredFormulas = [...formulas];
        let isMobileMenuOpen = false;
        
        // ============================================
        // DOM ELEMENTS
        // ============================================
        const sidebar = document.getElementById('sidebar');
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const searchInput = document.getElementById('searchInput');
        const searchResults = document.getElementById('searchResults');
        const contentArea = document.getElementById('contentArea');
        const formulasContainer = document.getElementById('formulasContainer');
        const periodicTable = document.getElementById('periodicTable');
        const chemicalGroupsContainer = document.getElementById('chemicalGroupsContainer');
        const elementDetailsPanel = document.getElementById('elementDetailsPanel');
        const closePanelBtn = document.getElementById('closePanelBtn');
        const elementDetailsContent = document.getElementById('elementDetailsContent');
        const subjectFilter = document.getElementById('subjectFilter');
        const categoryFilter = document.getElementById('categoryFilter');
        const tableLegendBtn = document.getElementById('tableLegendBtn');
        
        // ============================================
        // INITIALIZATION FUNCTION
        // ============================================
        function initApp() {
    // Set up event listeners
    setupEventListeners();
    initAuthListeners(); // ADD THIS LINE
    
    // Render initial content
    renderFormulas();
    renderPeriodicTable();
    renderChemicalGroups();
    
    // Set active tab
    switchTab('formulas');
    
    // Update UI
    updateSubjectFilterText();
    updateCategoryFilterText();
    
    console.log('Science Master App initialized successfully!');
}
        
        // ============================================
        // EVENT LISTENERS SETUP
        // ============================================
        function setupEventListeners() {
            // Mobile menu toggle
            mobileMenuBtn.addEventListener('click', toggleMobileMenu);
            
            // Tab navigation
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabId = tab.getAttribute('data-tab');
                    switchTab(tabId);
                });
            });
            
            // Sidebar navigation
            document.querySelectorAll('.nav-link[data-tab]').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const tabId = link.getAttribute('data-tab');
                    switchTab(tabId);
                    
                    // Update active state
                    document.querySelectorAll('.nav-link').forEach(navLink => {
                        navLink.classList.remove('active');
                    });
                    link.classList.add('active');
                    
                    // Close mobile menu on selection
                    if (window.innerWidth <= 992) {
                        toggleMobileMenu();
                    }
                });
            });
            
            // Category navigation
            document.querySelectorAll('.nav-link[data-category]').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const category = link.getAttribute('data-category');
                    filterByCategory(category);
                    
                    // Update active state
                    document.querySelectorAll('.nav-link[data-category]').forEach(navLink => {
                        navLink.classList.remove('active');
                    });
                    link.classList.add('active');
                    
                    // Switch to formulas tab if not already
                    if (currentTab !== 'formulas') {
                        switchTab('formulas');
                    }
                    
                    // Close mobile menu on selection
                    if (window.innerWidth <= 992) {
                        toggleMobileMenu();
                    }
                });
            });
            
                      // Close element details panel
            closePanelBtn.addEventListener('click', () => {
                elementDetailsPanel.classList.remove('active');
            });
            
            // Subject filter
            subjectFilter.addEventListener('click', () => {
                toggleSubjectFilter();
            });
            
            // Category filter
            categoryFilter.addEventListener('click', () => {
                toggleCategoryFilter();
            });
            
            // Table legend button
            tableLegendBtn.addEventListener('click', () => {
                alert('The periodic table is color-coded by element categories. Each color represents a different chemical family with similar properties.');
            });
            
            // Collapsible sidebar sections
            document.querySelectorAll('.nav-section-toggle').forEach(toggle => {
                toggle.addEventListener('click', () => {
                    const section = toggle.closest('.nav-section');
                    const navList = section.querySelector('.nav-list');
                    
                    if (navList.style.display === 'none') {
                        navList.style.display = 'block';
                        toggle.classList.remove('rotated');
                    } else {
                        navList.style.display = 'none';
                        toggle.classList.add('rotated');
                    }
                });
            });
            
            // Window resize handler
            window.addEventListener('resize', handleResize);
        }
        
        // ============================================
        // RENDERING FUNCTIONS
        // ============================================
        
        // Render formulas
        function renderFormulas() {
            formulasContainer.innerHTML = '';
            
            if (filteredFormulas.length === 0) {
                formulasContainer.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">
                            <i class="fas fa-search"></i>
                        </div>
                        <h3 class="empty-state-title">No formulas found</h3>
                        <p class="empty-state-description">
                            Try adjusting your search or filter criteria to find what you're looking for.
                        </p>
                        <button class="btn btn-primary mt-md" onclick="resetFilters()">
                            <i class="fas fa-redo"></i>
                            Reset Filters
                        </button>
                    </div>
                `;
                return;
            }
            
            filteredFormulas.forEach(formula => {
                const formulaCard = document.createElement('div');
                formulaCard.className = 'card formula-card';
                formulaCard.innerHTML = `
                    <div class="formula-header">
                        <div>
                            <h3 class="formula-title">${formula.title}</h3>
                            <span class="badge ${formula.subject === 'physics' ? 'badge-physics' : 'badge-chemistry'}">
                                ${formula.subject === 'physics' ? 'Physics' : 'Chemistry'}
                            </span>
                        </div>
                        <div class="formula-icon">
                            <i class="${formula.icon}"></i>
                        </div>
                    </div>
                    
                    <p class="formula-description">${formula.description}</p>
                    
                    <div class="formula-equation">${formula.equation}</div>
                    
                    <div class="formula-variables">
                        <h4>Variables:</h4>
                        ${formula.variables.map(variable => `
                            <div class="variable-item">
                                <span class="variable-symbol">${variable.symbol}</span>
                                <span class="variable-description">${variable.description}</span>
                            </div>
                        `).join('')}
                    </div>
                    
                    <div class="formula-inputs">
                        <h4>Input Values:</h4>
                        ${formula.inputs.map(input => `
                            <div class="input-group">
                                <label class="input-label">${input.label}</label>
                                <div class="input-with-unit">
                                    <input type="number" 
                                           id="formula-${formula.id}-${input.id}" 
                                           class="input-field" 
                                           placeholder="Enter value"
                                           step="any">
                                    <span class="input-unit">${input.unit}</span>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                    
                    <div class="formula-result" id="result-${formula.id}">
                        <!-- Result will be displayed here -->
                    </div>
                    
                    <div class="formula-actions">
                        <button class="btn btn-primary" onclick="calculateFormula(${formula.id})">
                            <i class="fas fa-calculator"></i>
                            Calculate
                        </button>
                        <button class="btn btn-outline" onclick="clearInputs(${formula.id})">
                            <i class="fas fa-eraser"></i>
                            Clear
                        </button>
                    </div>
                `;
                
                formulasContainer.appendChild(formulaCard);
            });
        }
        
        // ============================================
// UPDATED RENDER PERIODIC TABLE FUNCTION
// ============================================
function renderPeriodicTable() {
    periodicTable.innerHTML = '';
    
    // Create the main table grid (7 rows  18 columns)
    for (let period = 1; period <= 7; period++) {
        for (let group = 1; group <= 18; group++) {
            const cell = document.createElement('div');
            cell.className = 'element empty';
            
            // Find element at this position (main table only)
            const element = periodicTableData.find(el => 
                el.period === period && 
                el.group === group && 
                el.category !== 'lanthanide' && 
                el.category !== 'actinide'
            );
            
            if (element) {
                cell.className = `element ${element.category}`;
                cell.innerHTML = `
                    <div class="element-number">${element.number}</div>
                    <div class="element-symbol">${element.symbol}</div>
                    <div class="element-name">${element.name}</div>
                `;
                cell.setAttribute('data-element', JSON.stringify(element));
                cell.addEventListener('click', () => showElementInfo(element));
                cell.title = `${element.name} (${element.symbol}) - ${element.category.replace('-', ' ')}`;
            } else {
                // Special handling for empty spaces
                if (period === 1 && group > 2) {
                    cell.style.visibility = 'hidden';
                }
                // Handle gap for transition metals
                if (period === 6 && group === 3) {
                    // Placeholder for Lanthanum
                    const laElement = periodicTableData.find(el => el.number === 57);
                    if (laElement) {
                        cell.className = `element ${laElement.category}`;
                        cell.innerHTML = `
                            <div class="element-number">${laElement.number}</div>
                            <div class="element-symbol">${laElement.symbol}</div>
                            <div class="element-name">${laElement.name}</div>
                        `;
                        cell.setAttribute('data-element', JSON.stringify(laElement));
                        cell.addEventListener('click', () => showElementInfo(laElement));
                        cell.title = `${laElement.name} (${laElement.symbol}) - ${laElement.category}`;
                    }
                }
                if (period === 7 && group === 3) {
                    // Placeholder for Actinium
                    const acElement = periodicTableData.find(el => el.number === 89);
                    if (acElement) {
                        cell.className = `element ${acElement.category}`;
                        cell.innerHTML = `
                            <div class="element-number">${acElement.number}</div>
                            <div class="element-symbol">${acElement.symbol}</div>
                            <div class="element-name">${acElement.name}</div>
                        `;
                        cell.setAttribute('data-element', JSON.stringify(acElement));
                        cell.addEventListener('click', () => showElementInfo(acElement));
                        cell.title = `${acElement.name} (${acElement.symbol}) - ${acElement.category}`;
                    }
                }
            }
            
            periodicTable.appendChild(cell);
        }
    }
    
    // Add Lanthanides row (period 8)
    const lanthanidesRow = document.createElement('div');
    lanthanidesRow.className = 'lanthanides-row';
    lanthanidesRow.style.gridColumn = '1 / span 18';
    lanthanidesRow.style.display = 'flex';
    lanthanidesRow.style.justifyContent = 'center';
    lanthanidesRow.style.gap = '4px';
    lanthanidesRow.style.marginTop = '10px';
    
    // Add label for Lanthanides
    const lanthanidesLabel = document.createElement('div');
    lanthanidesLabel.className = 'lanthanides-label';
    lanthanidesLabel.textContent = 'Lanthanides';
    lanthanidesLabel.style.gridColumn = '1 / span 2';
    lanthanidesLabel.style.display = 'flex';
    lanthanidesLabel.style.alignItems = 'center';
    lanthanidesLabel.style.justifyContent = 'center';
    lanthanidesLabel.style.fontSize = '0.7rem';
    lanthanidesLabel.style.fontWeight = 'bold';
    lanthanidesLabel.style.color = 'var(--dark-color)';
    
    // Create Lanthanides elements (Ce to Lu)
    for (let i = 58; i <= 71; i++) {
        const element = periodicTableData.find(el => el.number === i);
        if (element) {
            const cell = document.createElement('div');
            cell.className = `element ${element.category}`;
            cell.style.width = '50px';
            cell.style.height = '50px';
            cell.innerHTML = `
                <div class="element-number">${element.number}</div>
                <div class="element-symbol">${element.symbol}</div>
                <div class="element-name">${element.name}</div>
            `;
            cell.setAttribute('data-element', JSON.stringify(element));
            cell.addEventListener('click', () => showElementInfo(element));
            cell.title = `${element.name} (${element.symbol}) - ${element.category}`;
            lanthanidesRow.appendChild(cell);
        }
    }
    
    // Add Actinides row (period 9)
    const actinidesRow = document.createElement('div');
    actinidesRow.className = 'actinides-row';
    actinidesRow.style.gridColumn = '1 / span 18';
    actinidesRow.style.display = 'flex';
    actinidesRow.style.justifyContent = 'center';
    actinidesRow.style.gap = '4px';
    actinidesRow.style.marginTop = '10px';
    
    // Add label for Actinides
    const actinidesLabel = document.createElement('div');
    actinidesLabel.className = 'actinides-label';
    actinidesLabel.textContent = 'Actinides';
    actinidesLabel.style.gridColumn = '1 / span 2';
    actinidesLabel.style.display = 'flex';
    actinidesLabel.style.alignItems = 'center';
    actinidesLabel.style.justifyContent = 'center';
    actinidesLabel.style.fontSize = '0.7rem';
    actinidesLabel.style.fontWeight = 'bold';
    actinidesLabel.style.color = 'var(--dark-color)';
    
    // Create Actinides elements (Th to Lr)
    for (let i = 90; i <= 103; i++) {
        const element = periodicTableData.find(el => el.number === i);
        if (element) {
            const cell = document.createElement('div');
            cell.className = `element ${element.category}`;
            cell.style.width = '50px';
            cell.style.height = '50px';
            cell.innerHTML = `
                <div class="element-number">${element.number}</div>
                <div class="element-symbol">${element.symbol}</div>
                <div class="element-name">${element.name}</div>
            `;
            cell.setAttribute('data-element', JSON.stringify(element));
            cell.addEventListener('click', () => showElementInfo(element));
            cell.title = `${element.name} (${element.symbol}) - ${element.category}`;
            actinidesRow.appendChild(cell);
        }
    }
    
    // Append rows to periodic table
    periodicTable.appendChild(lanthanidesLabel);
    periodicTable.appendChild(lanthanidesRow);
    periodicTable.appendChild(actinidesLabel);
    periodicTable.appendChild(actinidesRow);
}
            
            // Create 10 rows x 18 columns grid
            for (let row = 1; row <= 10; row++) {
                for (let col = 1; col <= 18; col++) {
                    const cell = document.createElement('div');
                    cell.className = 'element empty';
                    
                    // Find element at this position
                    const element = periodicTableData.find(el => {
                        if (row <= 7) {
                            // Main group elements
                            return el.period === row && el.group === col;
                        } else if (row === 8 || row === 9) {
                            // Lanthanides and Actinides
                            return false; // Simplified - would need special handling
                        }
                        return false;
                    });
                    
                    if (element) {
                        cell.className = `element ${element.category}`;
                        cell.innerHTML = `
                            <div class="element-number">${element.number}</div>
                            <div class="element-symbol">${element.symbol}</div>
                            <div class="element-name">${element.name}</div>
                        `;
                        cell.setAttribute('data-element', JSON.stringify(element));
                        cell.addEventListener('click', () => showElementInfo(element));
                    } else {
                        // Empty cell
                        if (row === 1 && col > 2) {
                            cell.style.visibility = 'hidden';
                        }
                        if (row === 2 && col > 10) {
                            cell.style.visibility = 'hidden';
                        }
                        if (row === 3 && col > 10) {
                            cell.style.visibility = 'hidden';
                        }
                    }
                    
                    periodicTable.appendChild(cell);
                }
            }
        
        
        // Render chemical groups
        function renderChemicalGroups() {
            chemicalGroupsContainer.innerHTML = '';
            
            chemicalGroups.forEach(group => {
                const groupCard = document.createElement('div');
                groupCard.className = 'card group-card';
                groupCard.innerHTML = `
                    <div class="group-header">
                        <h3 class="group-title">${group.name}</h3>
                        <div class="group-color" style="background-color: ${group.color}"></div>
                    </div>
                    
                    <p class="group-description">${group.description}</p>
                    
                    <div class="group-elements">
                        <h4 class="group-elements-title">Elements in this group:</h4>
                        <div class="elements-list">
                            ${group.elements.map(element => `
                                <span class="element-chip" onclick="findElement('${element}')">${element}</span>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div class="group-properties">
                        <h4>Properties:</h4>
                        <ul>
                            ${group.properties.map(prop => `<li>${prop}</li>`).join('')}
                        </ul>
                    </div>
                    
                    <div class="group-examples">
                        <h4>Examples & Applications:</h4>
                        <p>${group.examples}</p>
                    </div>
                `;
                
                chemicalGroupsContainer.appendChild(groupCard);
            });
        }
        
        // ============================================
        // CORE FUNCTIONS
        // ============================================
        
        // Switch between tabs
        function switchTab(tabId) {
            currentTab = tabId;
            
            // Update tab UI
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelector(`.tab[data-tab="${tabId}"]`).classList.add('active');
            
            // Update tab content
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(`${tabId}-tab`).classList.add('active');
            
            // Update sidebar active link
            document.querySelectorAll('.nav-link[data-tab]').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('data-tab') === tabId) {
                    link.classList.add('active');
                }
            });
            
            // Update page title
            const tabTitles = {
                'formulas': 'Formulas & Calculators',
                'periodic-table': 'Periodic Table',
                'chemical-groups': 'Chemical Groups'
            };
            document.title = `Science Master - ${tabTitles[tabId]}`;
            
            // Clear search results when switching tabs
            searchResults.classList.add('hidden');
            searchInput.value = '';
            searchTerm = '';
        }
        
        // Filter formulas by category
        function filterByCategory(category) {
            currentCategory = category;
            updateCategoryFilterText();
            
            // Update filtered formulas
            filterFormulas();
        }
        
        // Filter formulas based on current filters
        function filterFormulas() {
            filteredFormulas = formulas.filter(formula => {
                // Subject filter
                if (currentSubject !== 'all' && formula.subject !== currentSubject) {
                    return false;
                }
                
                // Category filter
                if (currentCategory !== 'all' && formula.category !== currentCategory) {
                    return false;
                }
                
                // Search filter
                if (searchTerm.length > 0) {
                    const searchLower = searchTerm.toLowerCase();
                    const inTitle = formula.title.toLowerCase().includes(searchLower);
                    const inDescription = formula.description.toLowerCase().includes(searchLower);
                    const inEquation = formula.equation.toLowerCase().includes(searchLower);
                    const inVariables = formula.variables.some(v => 
                        v.symbol.toLowerCase().includes(searchLower) || 
                        v.description.toLowerCase().includes(searchLower)
                    );
                    
                    return inTitle || inDescription || inEquation || inVariables;
                }
                
                return true;
            });
            
            renderFormulas();
        }
        
        // Handle search
        function handleSearch(e) {
            searchTerm = e.target.value.trim();
            
            if (searchTerm.length === 0) {
                searchResults.classList.add('hidden');
                filterFormulas();
                return;
            }
            
            // Perform search across all content
            const results = performSearch(searchTerm);
            displaySearchResults(results);
            
            // Also filter formulas if on formulas tab
            if (currentTab === 'formulas') {
                filterFormulas();
            }
        }
        
        // Perform search across all content types
        function performSearch(term) {
            const searchLower = term.toLowerCase();
            const results = [];
            
            // Search in formulas
            formulas.forEach(formula => {
                const inTitle = formula.title.toLowerCase().includes(searchLower);
                const inDescription = formula.description.toLowerCase().includes(searchLower);
                const inEquation = formula.equation.toLowerCase().includes(searchLower);
                
                if (inTitle || inDescription || inEquation) {
                    results.push({
                        type: 'formula',
                        title: formula.title,
                        description: formula.description,
                        category: formula.subject === 'physics' ? 'Physics Formula' : 'Chemistry Formula',
                        action: () => {
                            // Switch to formulas tab and filter to this formula
                            switchTab('formulas');
                            searchInput.value = formula.title;
                            searchTerm = formula.title;
                            filterFormulas();
                            searchResults.classList.add('hidden');
                            
                            // Scroll to this formula
                            setTimeout(() => {
                                const formulaElement = document.querySelector(`[id^="formula-${formula.id}"]`);
                                if (formulaElement) {
                                    formulaElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                                }
                            }, 100);
                        }
                    });
                }
            });
            
            // Search in periodic table elements
            periodicTableData.forEach(element => {
                const inName = element.name.toLowerCase().includes(searchLower);
                const inSymbol = element.symbol.toLowerCase().includes(searchLower);
                
                if (inName || inSymbol) {
                    results.push({
                        type: 'element',
                        title: `${element.name} (${element.symbol})`,
                        description: `Element #${element.number}, ${element.category.replace('-', ' ')}`,
                        category: 'Periodic Table Element',
                        action: () => {
                            // Switch to periodic table tab
                            switchTab('periodic-table');
                            searchResults.classList.add('hidden');
                            
                            // Show element info
                            showElementInfo(element);
                        }
                    });
                }
            });
            
            // Search in chemical groups
            chemicalGroups.forEach(group => {
                const inName = group.name.toLowerCase().includes(searchLower);
                const inDescription = group.description.toLowerCase().includes(searchLower);
                
                if (inName || inDescription) {
                    results.push({
                        type: 'group',
                        title: group.name,
                        description: group.description.substring(0, 100) + '...',
                        category: 'Chemical Group',
                        action: () => {
                            // Switch to chemical groups tab
                            switchTab('chemical-groups');
                            searchResults.classList.add('hidden');
                            
                            // Scroll to this group
                            setTimeout(() => {
                                const groupElement = document.querySelector(`[data-group="${group.id}"]`);
                                if (groupElement) {
                                    groupElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                                }
                            }, 100);
                        }
                    });
                }
            });
            
            return results;
        }
        
        // Display search results
        function displaySearchResults(results) {
            searchResults.innerHTML = '';
            
            if (results.length === 0) {
                searchResults.innerHTML = `
                    <div class="search-result-item">
                        <div class="search-result-title">No results found</div>
                        <div class="search-result-description">Try different keywords</div>
                    </div>
                `;
            } else {
                results.slice(0, 10).forEach(result => {
                    const resultItem = document.createElement('div');
                    resultItem.className = 'search-result-item';
                    resultItem.innerHTML = `
                        <div class="search-result-category">${result.category}</div>
                        <div class="search-result-title">${result.title}</div>
                        <div class="search-result-description">${result.description}</div>
                    `;
                    resultItem.addEventListener('click', result.action);
                    searchResults.appendChild(resultItem);
                });
            }
            
            searchResults.classList.remove('hidden');
        }
        
        // Calculate formula
        function calculateFormula(formulaId) {
            const formula = formulas.find(f => f.id === formulaId);
            if (!formula) return;
            
            // Get input values
            const inputs = {};
            let isValid = true;
            
            formula.inputs.forEach(input => {
                const inputElement = document.getElementById(`formula-${formulaId}-${input.id}`);
                const value = parseFloat(inputElement.value);
                
                if (isNaN(value)) {
                    inputElement.style.borderColor = 'var(--danger-color)';
                    isValid = false;
                } else {
                    inputElement.style.borderColor = 'var(--border-color)';
                    inputs[input.id] = value;
                }
            });
            
            if (!isValid) {
                alert('Please enter valid numbers for all inputs.');
                return;
            }
            
            // Perform calculation
            try {
                const result = formula.calculate(inputs);
                const resultElement = document.getElementById(`result-${formulaId}`);
                
                // Format result
                let formattedResult;
                if (isNaN(result) || !isFinite(result)) {
                    formattedResult = 'Invalid calculation';
                } else {
                    formattedResult = result.toFixed(4);
                    // Remove trailing zeros
                    formattedResult = parseFloat(formattedResult).toString();
                }
                
                resultElement.innerHTML = `
                    <div class="text-center">
                        <div class="mb-sm">Result:</div>
                        <div class="text-xl">${formattedResult} ${formula.outputUnit}</div>
                        <div class="text-sm mt-sm text-muted">${formula.equation}</div>
                    </div>
                `;
                resultElement.classList.add('active');
                
                // Scroll to result
                resultElement.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            } catch (error) {
                console.error('Calculation error:', error);
                alert('An error occurred during calculation. Please check your inputs.');
            }
        }
        
        // Load example values
        function loadExample(formulaId) {
            const formula = formulas.find(f => f.id === formulaId);
            if (!formula) return;
            
// ============================================
//  ALL FORMULAS
// ============================================
const examples = {
    1: { x_f: 10 }, // Displacement
    2: { delta_x: 100, delta_t: 10 }, // Average Velocity
    3: { delta_v: 20, delta_t: 5 }, // Acceleration
    4: { m: 5, a: 2 }, // Newton's Second Law
    5: { m: 2, v: 10 }, // Kinetic Energy
    6: { m: 10, h: 5 }, // Potential Energy
    7: { I: 2, R: 5 }, // Ohm's Law
    8: { V: 12, I: 2 }, // Electric Power
    9: { f: 440, lambda: 0.75 }, // Wave Speed
    10: { m: 0.5, c: 4186, delta_T: 10 }, // Heat Transfer
    11: { u: 10, a: 2, s: 50 }, // Final Velocity
    12: { u: 5, a: 3, t: 4 }, // Displacement with Time
    13: { m: 10 }, // Weight
    14: { mu: 0.3, N: 50 }, // Friction Force
    15: { W: 1000, t: 10 }, // Power
    16: { E_out: 800, E_in: 1000 }, // Efficiency
    17: { rho: 1.68e-8, L: 10, A: 1e-6 }, // Resistance
    18: { Q: 0.001, V: 10 }, // Capacitance
    19: { T: 0.02 }, // Frequency from Period
    20: { n1: 1.0, theta1: 30, n2: 1.5 }, // Snell's Law
    21: { Q: 500, W: 200 }, // First Law of Thermodynamics
    22: { m: 0.001 }, // Energy-Mass Equivalence
    23: { p: 1e-24 }, // De Broglie Wavelength
    24: { F: 100, A: 0.01 }, // Pressure
    25: { rho: 1000, V: 0.001 }, // Buoyant Force
    26: { h: 20 }, // Time of Flight
    27: { v0: 20, theta: 45 }, // Range of Projectile
    28: { v0: 20, theta: 45 }, // Maximum Height
    29: { m: 2, v: 5, r: 1 }, // Centripetal Force
    30: { v: 5, r: 1 }, // Centripetal Acceleration
    31: { r: 2, v: 3 }, // Period of Circular Motion
    32: { F: 10, r: 0.5, theta: 90 }, // Torque
    33: { F: 10, d: 5, theta: 0 }, // Work Done
    34: { k: 100, x: 0.1 }, // Spring Potential Energy
    35: { k: 100, x: 0.1 }, // Hooke's Law
    36: { q1: 1e-6, q2: 1e-6, r: 0.1 }, // Coulomb's Law
    37: { F: 0.001, q: 1e-6 }, // Electric Field
    38: { q1: 1e-6, q2: 1e-6, r: 0.1 }, // Electric Potential Energy
    39: { Q: 1e-6, r: 0.1 }, // Electric Potential
    40: { q: 1e-6, v: 1000, B: 0.01, theta: 90 }, // Magnetic Force
    41: { L: 1 }, // Period of Pendulum
    42: { f: 440, v0: 0, vs: 30 }, // Doppler Effect
    43: { P: 1, A: 1 }, // Sound Intensity
    44: { I: 1e-5 }, // Sound Level
    45: { alpha: 1.2e-5, L0: 1, delta_T: 100 }, // Thermal Expansion
    46: { n: 1, T: 300, V: 22.4 }, // Ideal Gas Law (Pressure)
    47: { k: 0.8, A: 1, delta_T: 10, d: 0.1 }, // Heat Conduction
    48: { f: 1e15, phi: 4.5e-19 }, // Photoelectric Effect
    49: { delta_t: 1, v: 2.7e8 }, // Time Dilation
    50: { L0: 1, v: 2.7e8 }, // Length Contraction
    51: { M: 5.97e24, R: 6.37e6 }, // Escape Velocity
    52: { M: 5.97e24, r: 6.67e6 }, // Orbital Velocity
    53: { M: 5.97e24, r: 6.67e6 }, // Kepler's Third Law
    54: { rho: 1000, v: 2, h: 5 }, // Bernoulli's Equation
    55: { A: 0.01, v: 2 }, // Flow Rate
    101: { m: 18, n: 1 }, // Molar Mass
    102: { m: 36, M: 18 }, // Number of Moles
    103: { n: 2, T: 300, V: 10 }, // Ideal Gas Law
    104: { H_plus: 0.001 }, // pH Calculation
    105: { OH_minus: 0.0001 }, // pOH Calculation
    106: { q: 1000, n: 2 }, // Enthalpy Change
    107: { Q: 96500, M: 63.5, n: 2 }, // Faraday's Law
    108: { n: 0.5, V: 0.25 }, // Molarity
    109: { delta_A: -0.1, delta_t: 10 }, // Reaction Rate
    110: { A: 0.1, B: 0.2, C: 0.3, D: 0.4 }, // Equilibrium Constant
    111: { mass_element: 40, mass_compound: 100 }, // Mass Percent
    112: { P1: 2, V1: 4, P2: 1 }, // Boyle's Law
    113: { V1: 2, T1: 300, T2: 600 }, // Charles's Law
    114: { m: 100, c: 4.18, delta_T: 10 }, // Heat of Reaction
    115: { pH: 7 }, // pOH from pH
    116: { C: 0.2, D: 0.3, A: 0.1, B: 0.2 }, // Reaction Quotient
    117: { k: 0.01 }, // Half-Life (First Order)
    118: { E0: 1.1, T: 298, n: 2, Q: 0.1 }, // Nernst Equation
    119: { C: 6, H: 12, N: 0, X: 0 }, // Degree of Unsaturation
    120: { N0: 100, lambda: 0.01, t: 100 }, // Radioactive Decay
    121: { n: 0.5, kg_solvent: 0.5 }, // Molality
    122: { C1: 1, V1: 0.1, C2: 0.1 }, // Dilution Formula
    123: { C_percent: 40, H_percent: 6.7, O_percent: 53.3 }, // Empirical Formula
    124: { P1: 1, T1: 300, T2: 600 }, // Gay-Lussac's Law
    125: { P1: 1, V1: 1, T1: 300, P2: 2, T2: 600 }, // Combined Gas Law
    126: { delta_H1: -100, delta_H2: -200, delta_H3: -50 }, // Hess's Law
    127: { H_plus: 0.01, C: 0.1 }, // Ka from pH
    128: { OH_minus: 0.01, C: 0.1 }, // Kb from pOH
    129: { Kc: 1, T: 298, delta_n: 1 }, // Kp from Kc
    130: { A: 1e13, Ea: 50000, T: 300 }, // Arrhenius Equation
    131: { delta_G: -100000, n: 2 }, // Cell Potential from G
    132: { n: 2, E: 1.1 }, // Electrical Work
    133: { Kb: 0.512, m: 0.5, i: 2 }, // Boiling Point Elevation
    134: { Kf: 1.86, m: 0.5, i: 2 }, // Freezing Point Depression
    135: { A0: 1, k: 0.1 }, // Half-Life (Zero Order)
    136: { k: 0.1, A0: 1 }, // Half-Life (Second Order)
    137: { i: 2, M: 0.1, T: 298 }, // Osmotic Pressure
    138: { X_solvent: 0.9, P0_solvent: 0.5 }, // Raoult's Law
    139: { kH: 0.034, P: 1 }, // Henry's Law
    140: { mass_solute: 0.001, mass_solution: 1000 }, // ppm
    141: { mass_solute: 0.000001, mass_solution: 1000 }, // ppb
    142: { products: 0.1, reactants: 0.2 }, // Reaction Quotient
    143: { T: 298, K: 1000 }, // G from K
    144: { dx: 5, dt: 0.5 }, // Instantaneous Velocity
    145: { dv: 10, dt: 2 }, // Instantaneous Acceleration
    146: { m: 10, theta: 30 }, // Normal Force (Incline)
    147: { m: 10, theta: 30 }, // Parallel Force (Incline)
    148: { KE: 500, PE: 200 }, // Mechanical Energy
    149: { E_initial: 1000, E_final: 950 }, // Conservation of Energy
    150: { R1: 10, R2: 20, R3: 30 }, // Resistors in Series
    151: { R1: 10, R2: 20, R3: 30 }, // Resistors in Parallel
    152: { E: 3.3e-19 }, // Wavelength from Energy
    153: { f: 5e14 }, // Energy from Frequency
    154: { Q: 41860, m: 1, delta_T: 10 }, // Specific Heat Capacity
    155: { m: 0.1, L: 334000 }, // Latent Heat
    156: { delta_x: 1e-10 }, // Heisenberg Uncertainty
    157: { E: 1.6e-19 }, // Schrdinger Equation
    158: { m1: 1000, m2: 1000, r: 1 }, // Gravitational Force
    159: { M: 1000, r: 10 }, // Gravitational Potential
    160: { A1: 0.01, v1: 2, A2: 0.005 }, // Continuity Equation
    161: { rho_fluid: 1000, V_displaced: 0.001 }, // Archimedes' Principle
    200: { actual: 85, theoretical: 100 }, // Percent Yield
    201: { moles_A: 2, moles_B: 3, ratio_A: 1, ratio_B: 2 }, // Limiting Reagent
    202: { V1: 2, n1: 1, n2: 2 }, // Avogadro's Law
    203: { P1: 0.5, P2: 0.3, P3: 0.2 }, // Dalton's Law
    204: { q_lost: 1000 }, // Calorimetry
    205: { broken: 1000, formed: 800 }, // Bond Energy
    206: { H_plus: 0.01 }, // pH of Strong Acid
    207: { OH_minus: 0.01 }, // pOH of Strong Base
    208: { change: "concentration" }, // Le Chatelier's Principle
    209: { k: 0.1, A: 0.1, B: 0.2, m: 1, n: 1 }, // Rate Law
    210: { n: 0.01, I: 1 }, // Electrolysis Time
    211: { E_cathode: 0.34, E_anode: -0.76 }, // Standard Cell Potential
    212: { n: 6 }, // Isomer Counting
    213: { M_polymer: 10000, M_monomer: 100 }, // Degree of Polymerization
    214: { delta_m: 1e-28 }, // Nuclear Binding Energy
    215: { lambda: 0.01, N: 1e20 }, // Activity of Radioactive Sample
    216: { n_A: 2, n_total: 10 }, // Mole Fraction
    217: { m_A: 20, m_total: 100 }, // Mass Fraction
    218: { n_eq: 0.5, V: 0.25 }, // Normality
    219: { products: 0.1, reactants: 0.2 }, // Kc from Concentrations
    220: { Q: 0.5, K: 1.0 }, // Reaction Direction from Q
    221: { epsilon: 1000, c: 0.001, l: 1 }, // Beer-Lambert Law
    222: { M1: 0.1, V1: 25, V2: 50 }, // Titration Calculation
    223: { geometry: "octahedral" }, // Coordination Number
    224: { lambda: 500 }, // Crystal Field Splitting
    225: { moles_LR: 2, ratio: 1, M_product: 58.5 }, // Theoretical Yield
    226: { M_product: 58.5, sum_M_reactants: 117 }, // Atom Economy
    227: { n: 1, T: 300, V: 22.4, a: 1.36, b: 0.0318 }, // Van der Waals
    228: { q_rev: 1000, T: 300 }, // Entropy Change
    229: { delta_H: -50000, T: 298, delta_S: -100 }, // Gibbs Free Energy
    230: { dn: 0.01, d_pH: 0.1 }, // Buffer Capacity
    231: { pKa: 4.76, conj_base: 0.1, weak_acid: 0.1 }, // Henderson-Hasselbalch
    232: { cation: 0.01, anion: 0.02, m: 1, n: 2 }, // Solubility Product
    233: { A0: 1, k: 0.01, t: 50 }, // Integrated Rate Law (Zero Order)
    234: { A0: 1, k: 0.01, t: 100 }, // Integrated Rate Law (First Order)
    235: { G: 0.1, l: 0.1, A: 0.001 }, // Conductivity
    236: { kappa: 0.1, c: 100 }, // Molar Conductivity
    237: { alpha_obs: 45, l: 1, c: 0.1 }, // Optical Activity
    238: { dist_compound: 3, dist_solvent: 8 }, // Retention Factor (TLC)
    239: { t_half: 3600 }, // Decay Constant from Half-Life
    240: { m_initial: 1.001, m_final: 1.000 }, // Nuclear Reaction Energy
    241: { i: 2, K: 1.86, m: 0.5 }, // Colligative Properties
    242: { X_solute: 0.1, P0_solvent: 100 }, // Vapor Pressure Lowering
    243: { signal: 0.5, C_added: 0.01, V_sample: 10, V_total: 100 }, // Standard Addition
    244: { Dq: 1000 } // Ligand Field Theory
};

// Then update the loadExample function to use this object:
function loadExample(formulaId) {
    const formula = formulas.find(f => f.id === formulaId);
    if (!formula) return;
    
    const example = examples[formulaId];
    if (!example) {
        alert('No example available for this formula.');
        return;
    }
    
    // Fill input fields with example values
    formula.inputs.forEach(input => {
        const inputElement = document.getElementById(`formula-${formulaId}-${input.id}`);
        if (inputElement && example[input.id] !== undefined) {
            inputElement.value = example[input.id];
            inputElement.style.borderColor = 'var(--border-color)';
        }
    });
    
    // Clear previous result
    const resultElement = document.getElementById(`result-${formulaId}`);
    resultElement.classList.remove('active');
}
            
            // Clear previous result
            const resultElement = document.getElementById(`result-${formulaId}`);
            resultElement.classList.remove('active');
        }
        
        // Clear inputs
        function clearInputs(formulaId) {
            const formula = formulas.find(f => f.id === formulaId);
            if (!formula) return;
            
            formula.inputs.forEach(input => {
                const inputElement = document.getElementById(`formula-${formulaId}-${input.id}`);
                if (inputElement) {
                    inputElement.value = '';
                    inputElement.style.borderColor = 'var(--border-color)';
                }
            });
            
            // Clear result
            const resultElement = document.getElementById(`result-${formulaId}`);
            resultElement.classList.remove('active');
        }
        
        // Show element information
        function showElementInfo(element) {
            elementDetailsContent.innerHTML = `
                <div class="element-details-header">
                    <div class="element-details-symbol">${element.symbol}</div>
                    <div class="element-details-info">
                        <h2 class="element-details-name">${element.name}</h2>
                        <div class="element-details-category ${element.category}">
                            ${element.category.replace('-', ' ')}
                        </div>
                        <p>Atomic Number: ${element.number}</p>
                        <p>Atomic Mass: ${element.mass}</p>
                    </div>
                </div>
                
                <div class="element-properties">
                    <div class="property-item">
                        <div class="property-label">Electron Configuration</div>
                        <div class="property-value">${element.electronConfig}</div>
                    </div>
                    
                    <div class="property-item">
                        <div class="property-label">Group</div>
                        <div class="property-value">${element.group}</div>
                    </div>
                    
                    <div class="property-item">
                        <div class="property-label">Period</div>
                        <div class="property-value">${element.period}</div>
                    </div>
                    
                    <div class="property-item">
                        <div class="property-label">Category</div>
                        <div class="property-value">${element.category.replace('-', ' ')}</div>
                    </div>
                </div>
                
                <div class="mt-xl">
                    <h3>Additional Information</h3>
                    <p>${getElementDescription(element)}</p>
                </div>
            `;
            
            elementDetailsPanel.classList.add('active');
        }
        
        // Update the getElementDescription function (around line 1650)
function getElementDescription(element) {
    const descriptions = {
        'H': 'Hydrogen is the lightest and most abundant element in the universe. It is the primary component of stars and is essential for life as part of water molecules.',
        'He': 'Helium is a noble gas that is lighter than air. It is used in balloons, as a coolant in MRI machines, and in deep-sea diving mixtures.',
        'Li': 'Lithium is the lightest metal. It is used in rechargeable batteries for electronic devices and electric vehicles.',
        'Be': 'Beryllium is a lightweight metal used in aerospace applications and X-ray windows.',
        'B': 'Boron is essential for plant growth and is used in heat-resistant glass and detergents.',
        'C': 'Carbon is the basis of all known life. It forms more compounds than all other elements combined and exists in several allotropes including diamond and graphite.',
        'N': 'Nitrogen makes up 78% of Earth\'s atmosphere. It is essential for proteins and DNA in living organisms.',
        'O': 'Oxygen is essential for respiration in most living organisms. It makes up about 21% of Earth\'s atmosphere.',
        'F': 'Fluorine is the most reactive element. It is used in toothpaste and non-stick cookware.',
        'Ne': 'Neon is used in advertising signs and high-voltage indicators.',
        'Na': 'Sodium is essential for nerve function. Table salt is sodium chloride.',
        'Mg': 'Magnesium is essential for plant chlorophyll and is used in lightweight alloys.',
        'Al': 'Aluminium is the most abundant metal in Earth\'s crust. It is used in aircraft, packaging, and construction.',
        'Si': 'Silicon is the second most abundant element in Earth\'s crust. It is essential for electronics and solar cells.',
        'P': 'Phosphorus is essential for DNA, RNA, and ATP. It is used in fertilizers and matches.',
        'S': 'Sulfur is used in gunpowder, rubber vulcanization, and sulfuric acid production.',
        'Cl': 'Chlorine is used for water purification and in PVC production.',
        'Ar': 'Argon is used in light bulbs and as a shielding gas in welding.',
        'K': 'Potassium is essential for nerve function and is found in bananas and potatoes.',
        'Ca': 'Calcium is essential for bones and teeth. It is also used in cement and plaster.',
        'Sc': 'Scandium is used in aerospace components and high-intensity lamps.',
        'Ti': 'Titanium is strong, lightweight, and corrosion-resistant. Used in aircraft and medical implants.',
        'V': 'Vanadium is used in steel alloys and as a catalyst.',
        'Cr': 'Chromium provides corrosion resistance and a shiny finish. Used in stainless steel.',
        'Mn': 'Manganese is essential for steel production and is found in batteries.',
        'Fe': 'Iron is the most common element on Earth by mass. It is essential for hemoglobin and steel production.',
        'Co': 'Cobalt is used in batteries, magnets, and as a blue pigment in glass.',
        'Ni': 'Nickel is used in stainless steel, coins, and rechargeable batteries.',
        'Cu': 'Copper has been used for thousands of years. It is an excellent conductor of electricity.',
        'Zn': 'Zinc is used for galvanizing steel and in brass alloys.',
        'Ga': 'Gallium has a low melting point and is used in semiconductors.',
        'Ge': 'Germanium was used in early transistors and is now used in fiber optics.',
        'As': 'Arsenic is toxic but has uses in semiconductors and wood preservation.',
        'Se': 'Selenium is used in photocopiers and as a nutritional supplement.',
        'Br': 'Bromine is used in flame retardants and pharmaceuticals.',
        'Kr': 'Krypton is used in lighting and photography.',
        'Rb': 'Rubidium is used in atomic clocks and fireworks.',
        'Sr': 'Strontium is used in fireworks and glow-in-the-dark paints.',
        'Y': 'Yttrium is used in LEDs and superconductors.',
        'Zr': 'Zirconium is used in nuclear reactors and as a gemstone.',
        'Nb': 'Niobium is used in superconducting magnets and jet engines.',
        'Mo': 'Molybdenum is essential for plant growth and is used in steel alloys.',
        'Tc': 'Technetium is the first artificially produced element. Used in medical imaging.',
        'Ru': 'Ruthenium is used in electrical contacts and as a catalyst.',
        'Rh': 'Rhodium is used in catalytic converters and jewelry plating.',
        'Pd': 'Palladium is used in catalytic converters and electronics.',
        'Ag': 'Silver has the highest electrical conductivity. Used in jewelry and electronics.',
        'Cd': 'Cadmium is used in batteries and pigments.',
        'In': 'Indium is used in touch screens and solar panels.',
        'Sn': 'Tin has been used since antiquity. Used in solder and food packaging.',
        'Sb': 'Antimony is used in flame retardants and lead-acid batteries.',
        'Te': 'Tellurium is used in solar cells and thermoelectric devices.',
        'I': 'Iodine is essential for thyroid function and is used as an antiseptic.',
        'Xe': 'Xenon is used in high-intensity lamps and medical imaging.',
        'Cs': 'Caesium is used in atomic clocks and drilling fluids.',
        'Ba': 'Barium is used in medical imaging and fireworks.',
        'La': 'Lanthanum is used in camera lenses and hydrogen storage.',
        'Ce': 'Cerium is used in catalytic converters and glass polishing.',
        'Pr': 'Praseodymium is used in aircraft engines and colored glass.',
        'Nd': 'Neodymium is used in powerful magnets and lasers.',
        'Pm': 'Promethium is used in nuclear batteries and luminous paint.',
        'Sm': 'Samarium is used in magnets and cancer treatment.',
        'Eu': 'Europium is used in TV screens and fluorescent lamps.',
        'Gd': 'Gadolinium is used in MRI contrast agents and nuclear reactors.',
        'Tb': 'Terbium is used in green phosphors and solid-state devices.',
        'Dy': 'Dysprosium is used in magnets and nuclear reactors.',
        'Ho': 'Holmium has the highest magnetic strength. Used in lasers.',
        'Er': 'Erbium is used in fiber optics and lasers.',
        'Tm': 'Thulium is used in portable X-ray devices and lasers.',
        'Yb': 'Ytterbium is used in lasers and atomic clocks.',
        'Lu': 'Lutetium is used in cancer treatment and petroleum refining.',
        'Hf': 'Hafnium is used in nuclear reactors and computer chips.',
        'Ta': 'Tantalum is used in electronic capacitors and surgical implants.',
        'W': 'Tungsten has the highest melting point. Used in light bulbs.',
        'Re': 'Rhenium is used in jet engines and thermocouples.',
        'Os': 'Osmium is the densest element. Used in electrical contacts.',
        'Ir': 'Iridium is used in spark plugs and standard weights.',
        'Pt': 'Platinum is used in catalytic converters and jewelry.',
        'Au': 'Gold has been highly valued throughout history. Used in jewelry and electronics.',
        'Hg': 'Mercury is liquid at room temperature. Used in thermometers.',
        'Tl': 'Thallium is highly toxic. Was used in rat poison.',
        'Pb': 'Lead has been used since antiquity. Now restricted due to toxicity.',
        'Bi': 'Bismuth is used in cosmetics, pharmaceuticals, and fire detectors.',
        'Po': 'Polonium is highly radioactive. Was used in nuclear weapons.',
        'At': 'Astatine is the rarest naturally occurring element.',
        'Rn': 'Radon is radioactive and can accumulate in buildings.',
        'Fr': 'Francium is extremely rare and radioactive.',
        'Ra': 'Radium was used in luminous paint. Highly radioactive.',
        'Ac': 'Actinium is used in neutron sources and cancer treatment.',
        'Th': 'Thorium is used in nuclear reactors and camera lenses.',
        'Pa': 'Protactinium is extremely rare and has few uses.',
        'U': 'Uranium is used as nuclear fuel and in military applications.',
        'Np': 'Neptunium is used in neutron detection instruments.',
        'Pu': 'Plutonium is used in nuclear weapons and power generation.',
        'Am': 'Americium is used in smoke detectors.',
        'Cm': 'Curium is used in space exploration power sources.',
        'Bk': 'Berkelium has few practical uses due to scarcity.',
        'Cf': 'Californium is used in neutron sources and cancer treatment.',
        'Es': 'Einsteinium has no practical uses outside research.',
        'Fm': 'Fermium has no practical uses outside research.',
        'Md': 'Mendelevium has no practical uses outside research.',
        'No': 'Nobelium has no practical uses outside research.',
        'Lr': 'Lawrencium has no practical uses outside research.',
        'Rf': 'Rutherfordium has no practical uses outside research.',
        'Db': 'Dubnium has no practical uses outside research.',
        'Sg': 'Seaborgium has no practical uses outside research.',
        'Bh': 'Bohrium has no practical uses outside research.',
        'Hs': 'Hassium has no practical uses outside research.',
        'Mt': 'Meitnerium has no practical uses outside research.',
        'Ds': 'Darmstadtium has no practical uses outside research.',
        'Rg': 'Roentgenium has no practical uses outside research.',
        'Cn': 'Copernicium has no practical uses outside research.',
        'Nh': 'Nihonium has no practical uses outside research.',
        'Fl': 'Flerovium has no practical uses outside research.',
        'Mc': 'Moscovium has no practical uses outside research.',
        'Lv': 'Livermorium has no practical uses outside research.',
        'Ts': 'Tennessine has no practical uses outside research.',
        'Og': 'Oganesson has no practical uses outside research.'
    };
    
    return descriptions[element.symbol] || 
           `${element.name} is a ${element.category.replace('-', ' ')} element with atomic number ${
           element.number}. It has an atomic mass of ${element.mass} and electron configuration ${
           element.electronConfig}.`;
}
        // Find element by symbol
        function findElement(symbol) {
            const element = periodicTableData.find(el => el.symbol === symbol);
            if (element) {
                switchTab('periodic-table');
                showElementInfo(element);
            }
        }
        
        // Toggle mobile menu
        function toggleMobileMenu() {
            isMobileMenuOpen = !isMobileMenuOpen;
            sidebar.classList.toggle('active', isMobileMenuOpen);
            
            // Update menu icon
            const icon = mobileMenuBtn.querySelector('i');
            if (isMobileMenuOpen) {
                icon.className = 'fas fa-times';
            } else {
                icon.className = 'fas fa-bars';
            }
        }
        
        // Toggle subject filter
        function toggleSubjectFilter() {
            const subjects = ['all', 'physics', 'chemistry'];
            const currentIndex = subjects.indexOf(currentSubject);
            const nextIndex = (currentIndex + 1) % subjects.length;
            currentSubject = subjects[nextIndex];
            
            updateSubjectFilterText();
            filterFormulas();
        }
        
        // Update subject filter text
        function updateSubjectFilterText() {
            const subjectTexts = {
                'all': 'All Subjects',
                'physics': 'Physics Only',
                'chemistry': 'Chemistry Only'
            };
            
            subjectFilter.innerHTML = `
                <i class="fas fa-filter"></i>
                <span>${subjectTexts[currentSubject]}</span>
            `;
        }
        
        // Toggle category filter
        function toggleCategoryFilter() {
            const categories = ['all', ...formulaCategories.physics, ...formulaCategories.chemistry];
            const currentIndex = categories.indexOf(currentCategory);
            const nextIndex = (currentIndex + 1) % categories.length;
            currentCategory = categories[nextIndex];
            
            updateCategoryFilterText();
            filterFormulas();
        }
        
        // Update category filter text
        function updateCategoryFilterText() {
            let categoryText = 'All Categories';
            
            if (currentCategory !== 'all') {
                // Format category name
                categoryText = currentCategory
                    .split('-')
                    .map(word => word.charAt(0).toUpperCase() + word.slice(1))
                    .join(' ');
            }
            
            categoryFilter.innerHTML = `
                <i class="fas fa-tags"></i>
                <span>${categoryText}</span>
            `;
        }
        
        // Reset all filters
        function resetFilters() {
            currentSubject = 'all';
            currentCategory = 'all';
            searchTerm = '';
            searchInput.value = '';
            
            updateSubjectFilterText();
            updateCategoryFilterText();
            
            filterFormulas();
        }
        
        // Handle window resize
        function handleResize() {
            if (window.innerWidth > 992 && isMobileMenuOpen) {
                toggleMobileMenu();
            }
        }
        // Add body class when modal is active
function showAuthModal(tab = 'login') {
    const modal = document.getElementById('authModal');
    modal.classList.add('active');
    document.body.classList.add('auth-modal-active');
    switchAuthTab(tab);
}

// Update the closeAuthModal function to remove body class
window.closeAuthModal = function() {
    const user = auth.currentUser;
    if (!user) {
        alert('Please sign up or login to access Science Master');
        return false;
    }
    
    const modal = document.getElementById('authModal');
    modal.classList.remove('active');
    document.body.classList.remove('auth-modal-active');
    
    // Clear form fields
    document.getElementById('loginEmail').value = '';
    document.getElementById('loginPassword').value = '';
    document.getElementById('signupName').value = '';
    document.getElementById('signupEmail').value = '';
    document.getElementById('signupPassword').value = '';
    document.getElementById('signupConfirmPassword').value = '';
    
    // Clear error/success messages
    document.querySelectorAll('.auth-error, .auth-success').forEach(el => {
        el.classList.remove('active');
        el.textContent = '';
    });

    return true;
};
        // ============================================
        // INITIALIZE THE APPLICATION
        // ============================================
        document.addEventListener('DOMContentLoaded', initApp);
        
        // Make functions available globally for inline event handlers
        window.calculateFormula = calculateFormula;
        window.loadExample = loadExample;
        window.clearInputs = clearInputs;
        window.findElement = findElement;
        window.resetFilters = resetFilters;
        window.toggleMobileMenu = toggleMobileMenu;
    </script>
    <script>
function openPage(pageId) {
    // sab content hide karo
    document.querySelectorAll('.tab-content').forEach(div => {
        div.classList.remove('active');
    });

    // selected page show karo
    document.getElementById(pageId).classList.add('active');

    // sidebar active remove
    document.querySelectorAll('.nav-link').forEach(link => {
        link.classList.remove('active');
    });
}
// ============================================
</script>
</body>

</html>




